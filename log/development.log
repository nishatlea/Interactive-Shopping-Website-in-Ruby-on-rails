  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/" for ::1 at 2022-07-13 12:15:23 +0600
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/railties-6.0.5.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/railties-6.0.5.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 5.6ms | Allocations: 483)
Completed 200 OK in 31ms (Views: 10.8ms | ActiveRecord: 0.0ms | Allocations: 4373)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (149.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (83.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20220713061806)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220713061806"]]
  [1m[35m (79.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-13 06:30:28.561151"], ["updated_at", "2022-07-13 06:30:28.561151"]]
  [1m[35m (67.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/products" for ::1 at 2022-07-13 12:32:04 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 1610)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
yarn run v1.22.19
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.


error Command "webpack" not found.

Completed 500 Internal Server Error in 1015ms (ActiveRecord: 0.4ms | Allocations: 24794)


  
ActionView::Template::Error (Webpacker can't find application in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
}
):
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body>
  
app/views/layouts/application.html.erb:9
Started GET "/products" for ::1 at 2022-07-13 12:32:55 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1733)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
yarn run v1.22.19
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.


error Command "webpack" not found.

Completed 500 Internal Server Error in 1269ms (ActiveRecord: 1.0ms | Allocations: 13046)


  
ActionView::Template::Error (Webpacker can't find application in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
}
):
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body>
  
app/views/layouts/application.html.erb:9
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-13 12:37:43 +0600
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1733)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
yarn run v1.22.19
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.


error Command "webpack" not found.

Completed 500 Internal Server Error in 1328ms (ActiveRecord: 0.9ms | Allocations: 13086)


  
ActionView::Template::Error (Webpacker can't find application in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
}
):
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body>
  
app/views/layouts/application.html.erb:9
Started PUT "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b" for ::1 at 2022-07-13 12:38:06 +0600
Started POST "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b/trace" for ::1 at 2022-07-13 12:39:21 +0600
Started POST "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b/trace" for ::1 at 2022-07-13 12:39:31 +0600
Started POST "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b/trace" for ::1 at 2022-07-13 12:39:37 +0600
Started PUT "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b" for ::1 at 2022-07-13 12:39:42 +0600
Started POST "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b/trace" for ::1 at 2022-07-13 12:39:47 +0600
Started POST "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b/trace" for ::1 at 2022-07-13 12:39:49 +0600
Started POST "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b/trace" for ::1 at 2022-07-13 12:39:50 +0600
Started POST "/__web_console/repl_sessions/7d91010c98e79dc1ef9c3db142f0a09b/trace" for ::1 at 2022-07-13 12:39:51 +0600
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-13 12:43:52 +0600
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1733)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
yarn run v1.22.19
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.


error Command "webpack" not found.

Completed 500 Internal Server Error in 994ms (ActiveRecord: 1.1ms | Allocations: 13083)


  
ActionView::Template::Error (Webpacker can't find application in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
}
):
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body>
  
app/views/layouts/application.html.erb:9
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-13 12:45:42 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1733)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
yarn run v1.22.19
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.


error Command "webpack" not found.

Completed 500 Internal Server Error in 1491ms (ActiveRecord: 0.8ms | Allocations: 13083)


  
ActionView::Template::Error (Webpacker can't find application in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
}
):
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body>
  
app/views/layouts/application.html.erb:9
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-13 12:47:58 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1733)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 723d3d26ed117f081b59
Version: webpack 4.46.0
Time: 3194ms
Built at: 07/13/2022 12:48:03 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-69f1934bcb81066d6a9f.js    120 KiB  application  [emitted] [immutable]  application
js/application-69f1934bcb81066d6a9f.js.map    136 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-69f1934bcb81066d6a9f.js js/application-69f1934bcb81066d6a9f.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 4904ms (Views: 4887.8ms | ActiveRecord: 0.7ms | Allocations: 12305)


Started GET "/products/new" for ::1 at 2022-07-13 12:48:06 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 11.2ms | Allocations: 6242)
  Rendered products/new.html.erb within layouts/application (Duration: 12.1ms | Allocations: 6607)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 16.3ms | ActiveRecord: 0.4ms | Allocations: 15388)


Started POST "/products" for ::1 at 2022-07-13 12:48:15 +0600
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"4XEt4gNj1jZXNXL+22WZ5xzHEWVnDmJI55RJleFD8F/c7zyU4zyI4VeybH99QDm1qUJq08frVSgfilULPpQ0cA==", "product"=>{"title"=>"Seven  mobile apps ", "description"=>"xvzb", "image_url"=>"bbb", "price"=>"xbcb"}, "commit"=>"Create Product"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Seven  mobile apps "], ["description", "xvzb"], ["image_url", "bbb"], ["price", 0.0], ["created_at", "2022-07-13 06:48:15.754929"], ["updated_at", "2022-07-13 06:48:15.754929"]]
  ↳ app/controllers/products_controller.rb:27:in `block in create'
  [1m[35m (162.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/products/1
Completed 302 Found in 169ms (ActiveRecord: 162.6ms | Allocations: 4124)


Started GET "/products/1" for ::1 at 2022-07-13 12:48:15 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 333)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 0.3ms | Allocations: 5534)


Started GET "/products" for ::1 at 2022-07-13 12:48:18 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 867)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.4ms | Allocations: 4906)


Started GET "/products/new" for ::1 at 2022-07-13 12:58:59 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 1340)
  Rendered products/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1812)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 5825)


Started POST "/products" for ::1 at 2022-07-13 13:02:24 +0600
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"kjWU8QEahI8hxP8saQLUvrmnWJlFGp/YBiDYRsDQ4Imvq4WH4UXaWCFD4a3PJ3TsDCIjL+X/qLj+PsTYHwckpg==", "product"=>{"title"=>"five mobile apps ", "description"=>"<p>\r\n<em>Native Apps, Multiple Platforms</em>\r\nAnswer the question “Can we build this for ALL the\r\ndevices?” with a resounding YES. This book will help you\r\nget there with a real-world introduction to seven\r\nplatforms, whether you’re new to mobile or an experienced\r\ndeveloper needing to expand your options. Plus, you’ll\r\nfind out which cross-platform solution makes the most\r\nsense for your needs. ", "image_url"=>"7apps.jpg", "price"=>"29.00"}, "commit"=>"Create Product"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "five mobile apps "], ["description", "<p>\r\n<em>Native Apps, Multiple Platforms</em>\r\nAnswer the question “Can we build this for ALL the\r\ndevices?” with a resounding YES. This book will help you\r\nget there with a real-world introduction to seven\r\nplatforms, whether you’re new to mobile or an experienced\r\ndeveloper needing to expand your options. Plus, you’ll\r\nfind out which cross-platform solution makes the most\r\nsense for your needs. "], ["image_url", "7apps.jpg"], ["price", 29.0], ["created_at", "2022-07-13 07:02:24.214094"], ["updated_at", "2022-07-13 07:02:24.214094"]]
  ↳ app/controllers/products_controller.rb:27:in `block in create'
  [1m[35m (180.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/products/2
Completed 302 Found in 188ms (ActiveRecord: 181.4ms | Allocations: 3905)


Started GET "/products/2" for ::1 at 2022-07-13 13:02:24 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 114)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 12.6ms | ActiveRecord: 0.3ms | Allocations: 4768)


Started GET "/products" for ::1 at 2022-07-13 13:02:40 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1079)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms | Allocations: 5100)


Started GET "/products" for ::1 at 2022-07-13 13:20:22 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1365)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 6303)


Started GET "/products/new" for ::1 at 2022-07-13 13:20:24 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1743)
  Rendered products/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2098)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.0ms | Allocations: 6253)


Started GET "/products" for ::1 at 2022-07-13 13:21:45 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1042)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.3ms | Allocations: 5061)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Destroy (72.2ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Docker for Rails Developers"], ["description", "<p>\n      <em>Build, Ship, and Run Your Applications Everywhere</em>\n      Docker does for DevOps what Rails did for web development—it gives you\n      a new set of superpowers. Gone are “works on my machine” woes and lengthy\n      setup tasks, replaced instead by a simple, consistent, Docker-based\n      development environment that will have your team up and running in seconds.\n      Gain hands-on, real-world experience with a tool that’s rapidly becoming\n      fundamental to software development. Go from zero all the way to production\n      as Docker transforms the massive leap of deploying your app in the cloud\n      into a baby step.\n      </p>"], ["image_url", "ridocker.jpg"], ["price", 38.0], ["created_at", "2022-07-13 09:53:40.520905"], ["updated_at", "2022-07-13 09:53:40.520905"]]
  [1m[35m (56.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Build Chatbot Interactions"], ["description", "<p>\n      <em>Responsive, Intuitive Interfaces with Ruby</em>\n      The next step in the evolution of user interfaces is here.\n      Chatbots let your users interact with your service in their\n      own natural language. Use free and open source tools along\n      with Ruby to build creative, useful, and unexpected interactions\n      for users. Take advantage of the Lita framework’s step-by-step\n      implementation strategy to simplify bot development and testing.\n      From novices to experts, chatbots are an area in which everyone\n      can participate. Exercise your creativity by creating chatbot\n      skills for communicating, information, and fun.\n      </p>"], ["image_url", "dpchat.jpg"], ["price", 20.0], ["created_at", "2022-07-13 09:53:40.580911"], ["updated_at", "2022-07-13 09:53:40.580911"]]
  [1m[35m (62.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Programming Crystal"], ["description", "<p>\n      <em>Create High-Performance, Safe, Concurrent Apps</em>\n      Crystal is for Ruby programmers who want more performance or for\n      developers who enjoy working in a high-level scripting environment. Crystal\n      combines native execution speed and concurrency with Ruby-like syntax, so\n      you will feel right at home. This book, the first available on Crystal,\n      shows you how to write applications that have the beauty and elegance of a\n      modern language, combined with the power of types and modern concurrency\n      tooling. Now you can write beautiful code that runs faster, scales better,\n      and is a breeze to deploy.\n      </p>"], ["image_url", "crystal.jpg"], ["price", 40.0], ["created_at", "2022-07-13 09:53:40.647503"], ["updated_at", "2022-07-13 09:53:40.647503"]]
  [1m[35m (62.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "/products" for ::1 at 2022-07-13 15:54:29 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 6965)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 89ms (Views: 70.9ms | ActiveRecord: 1.0ms | Allocations: 26691)


Started GET "/products/3" for ::1 at 2022-07-13 15:54:37 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 331)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 5580)


Started GET "/products" for ::1 at 2022-07-13 15:54:44 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1238)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 5318)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-13 17:23:37 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 120.4ms | Allocations: 24400)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 173ms (Views: 155.7ms | ActiveRecord: 1.4ms | Allocations: 35569)


Started GET "/products/4" for ::1 at 2022-07-13 17:23:45 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 337)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 19.5ms | ActiveRecord: 0.4ms | Allocations: 5617)


Started GET "/products" for ::1 at 2022-07-13 17:23:49 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3262)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.2ms | Allocations: 7289)


Started GET "/products/5/edit" for ::1 at 2022-07-13 17:43:26 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 64.7ms | Allocations: 9505)
  Rendered products/edit.html.erb within layouts/application (Duration: 65.7ms | Allocations: 9931)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 72ms (Views: 69.7ms | ActiveRecord: 0.2ms | Allocations: 14688)


Started GET "/products" for ::1 at 2022-07-13 17:43:33 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3290)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.2ms | Allocations: 7299)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20220713061806)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "products"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20220713061806"]]
  [1m[35m (74.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/products" for ::1 at 2022-07-13 18:26:28 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2446)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.9ms | Allocations: 3449)


  
ActionView::Template::Error (SQLite3::SQLException: no such table: products):
    11:   </tr>
    12:   </tfoot>
    13:   <tbody>
    14:   <% @products.each do |product| %>
    15:     <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16:       <td class="image">
    17:         <%= image_tag(product.image_url, class: 'list_image') %>
  
app/views/products/index.html.erb:14
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20220713061806)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220713061806"]]
  [1m[35m (72.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/products" for ::1 at 2022-07-13 18:26:55 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1382)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 18.5ms | ActiveRecord: 1.6ms | Allocations: 6115)


Started GET "/products/new" for ::1 at 2022-07-13 18:27:33 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1473)
  Rendered products/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1693)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 11.2ms | ActiveRecord: 0.6ms | Allocations: 10261)


Started GET "/products/new" for ::1 at 2022-07-13 18:27:38 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.7ms | Allocations: 1364)
  Rendered products/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1466)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 5568)


Started GET "/products" for ::1 at 2022-07-13 18:27:39 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 671)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.1ms | Allocations: 4773)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Destroy (74.3ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Docker for Rails Developers"], ["description", "<p>\n      <em>Build, Ship, and Run Your Applications Everywhere</em>\n      Docker does for DevOps what Rails did for web development—it gives you\n      a new set of superpowers. Gone are “works on my machine” woes and lengthy\n      setup tasks, replaced instead by a simple, consistent, Docker-based\n      development environment that will have your team up and running in seconds.\n      Gain hands-on, real-world experience with a tool that’s rapidly becoming\n      fundamental to software development. Go from zero all the way to production\n      as Docker transforms the massive leap of deploying your app in the cloud\n      into a baby step.\n      </p>"], ["image_url", "ridocker.jpg"], ["price", 38.0], ["created_at", "2022-07-13 12:28:08.935048"], ["updated_at", "2022-07-13 12:28:08.935048"]]
  [1m[35m (97.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Build Chatbot Interactions"], ["description", "<p>\n      <em>Responsive, Intuitive Interfaces with Ruby</em>\n      The next step in the evolution of user interfaces is here.\n      Chatbots let your users interact with your service in their\n      own natural language. Use free and open source tools along\n      with Ruby to build creative, useful, and unexpected interactions\n      for users. Take advantage of the Lita framework’s step-by-step\n      implementation strategy to simplify bot development and testing.\n      From novices to experts, chatbots are an area in which everyone\n      can participate. Exercise your creativity by creating chatbot\n      skills for communicating, information, and fun.\n      </p>"], ["image_url", "dpchat.jpg"], ["price", 20.0], ["created_at", "2022-07-13 12:28:09.038260"], ["updated_at", "2022-07-13 12:28:09.038260"]]
  [1m[35m (61.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Programming Crystal"], ["description", "<p>\n      <em>Create High-Performance, Safe, Concurrent Apps</em>\n      Crystal is for Ruby programmers who want more performance or for\n      developers who enjoy working in a high-level scripting environment. Crystal\n      combines native execution speed and concurrency with Ruby-like syntax, so\n      you will feel right at home. This book, the first available on Crystal,\n      shows you how to write applications that have the beauty and elegance of a\n      modern language, combined with the power of types and modern concurrency\n      tooling. Now you can write beautiful code that runs faster, scales better,\n      and is a breeze to deploy.\n      </p>"], ["image_url", "crystal.jpg"], ["price", 40.0], ["created_at", "2022-07-13 12:28:09.104359"], ["updated_at", "2022-07-13 12:28:09.104359"]]
  [1m[35m (49.9ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-13 18:28:24 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3274)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.2ms | Allocations: 7297)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-14 10:58:24 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 108.6ms | Allocations: 13593)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 189ms (Views: 166.1ms | ActiveRecord: 0.8ms | Allocations: 21347)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/products/new" for ::1 at 2022-07-14 10:58:46 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 61.5ms | Allocations: 3741)
  Rendered products/new.html.erb within layouts/application (Duration: 71.0ms | Allocations: 4106)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 75.9ms | ActiveRecord: 0.0ms | Allocations: 8383)


Started POST "/products" for ::1 at 2022-07-14 10:59:13 +0600
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"GnS2ZBS3iqml/FwCBlHuYksQrg71IY91forDq6TKH37zqJgqYAjDsVTymeOdInlxVY0JQPmVbV/lSuz511IWBQ==", "product"=>{"title"=>"10 mobile apps", "description"=>"vCBb", "image_url"=>"bbb", "price"=>"xbcb"}, "commit"=>"Create Product"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1567)
  Rendered products/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1670)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 422 Unprocessable Entity in 13ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 7277)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-14 13:32:12 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 8222)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 163ms (Views: 160.2ms | ActiveRecord: 0.2ms | Allocations: 24270)


Started GET "/products" for ::1 at 2022-07-14 13:32:13 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3254)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.1ms | Allocations: 7369)


Started GET "/" for ::1 at 2022-07-14 13:32:27 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 84)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 4860)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-14 16:54:23 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 8229)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 59.2ms | ActiveRecord: 0.2ms | Allocations: 22519)


Started GET "/" for ::1 at 2022-07-14 16:54:25 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 2814)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 26.6ms | ActiveRecord: 0.3ms | Allocations: 7917)


Started GET "/questions" for ::1 at 2022-07-14 16:54:27 +0600
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-14 16:54:29 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 2566)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.2ms | Allocations: 7132)


Started GET "/news" for ::1 at 2022-07-14 16:54:30 +0600
  
ActionController::RoutingError (No route matches [GET] "/news"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-14 16:54:32 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.2ms | Allocations: 7043)


Started GET "/contact" for ::1 at 2022-07-14 16:54:33 +0600
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-14 16:54:34 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2527)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.2ms | Allocations: 7052)


Started GET "/" for ::1 at 2022-07-14 16:54:35 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.2ms | Allocations: 7042)


Started GET "/" for ::1 at 2022-07-14 16:54:36 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 7038)


Started GET "/" for ::1 at 2022-07-14 16:54:36 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.2ms | Allocations: 7042)


Started GET "/" for ::1 at 2022-07-14 16:54:38 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.1ms | Allocations: 7032)


Started GET "/contact" for ::1 at 2022-07-14 16:54:46 +0600
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-14 16:54:48 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2518)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.2ms | Allocations: 7037)


Started GET "/" for ::1 at 2022-07-14 16:54:55 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2519)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.2ms | Allocations: 7058)


Started GET "/" for ::1 at 2022-07-14 17:37:52 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 41.2ms | Allocations: 10416)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.3ms | Allocations: 15819)


Started GET "/" for ::1 at 2022-07-14 18:54:46 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2022-07-14 19:25:56 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 8252)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.2ms | Allocations: 13788)


Started GET "/" for ::1 at 2022-07-14 19:26:01 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2022-07-14 19:26:03 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3245)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.2ms | Allocations: 7752)


Started GET "/questions" for ::1 at 2022-07-14 19:26:05 +0600
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2022-07-14 19:26:07 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3245)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.2ms | Allocations: 7749)


Started GET "/products/1" for ::1 at 2022-07-14 19:26:09 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 331)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 21.0ms | ActiveRecord: 0.3ms | Allocations: 6080)


Started GET "/products" for ::1 at 2022-07-14 19:26:12 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3248)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.2ms | Allocations: 7748)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-15 11:50:15 +0600
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.5.1) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.5.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2022-07-15 11:50:21 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20220715055003)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220715055003"]]
  [1m[35m (143.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
Started GET "/products" for ::1 at 2022-07-15 11:50:21 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 322.8ms | Allocations: 29085)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 442ms (Views: 401.9ms | ActiveRecord: 2.3ms | Allocations: 41810)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLineItems (20220715082149)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220715082149"]]
  [1m[35m (245.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/products" for ::1 at 2022-07-15 16:45:29 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 8255)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 54.0ms | ActiveRecord: 0.2ms | Allocations: 29634)


Started GET "/products" for ::1 at 2022-07-15 16:45:33 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3290)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.2ms | Allocations: 7969)


Started GET "/products" for ::1 at 2022-07-15 16:50:57 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3330)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.3ms | Allocations: 8011)


Started GET "/products/1" for ::1 at 2022-07-15 16:51:02 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 17.0ms | Allocations: 336)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.7ms | ActiveRecord: 0.2ms | Allocations: 5967)


Started GET "/products" for ::1 at 2022-07-15 16:51:06 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.2ms | Allocations: 7973)


Started GET "/products" for ::1 at 2022-07-15 17:42:21 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 3651)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.4ms | Allocations: 9307)


Started GET "/products" for ::1 at 2022-07-15 17:42:22 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3290)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.1ms | Allocations: 7967)


Started GET "/products" for ::1 at 2022-07-15 17:42:23 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.1ms | Allocations: 7971)


Started GET "/products" for ::1 at 2022-07-15 17:42:23 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.2ms | Allocations: 7979)


Started GET "/products" for ::1 at 2022-07-15 17:42:24 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.2ms | Allocations: 7981)


Started GET "/products" for ::1 at 2022-07-15 17:42:25 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.2ms | Allocations: 7949)


Started GET "/products" for ::1 at 2022-07-15 17:42:25 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.3ms | Allocations: 7961)


Started GET "/products" for ::1 at 2022-07-15 17:59:54 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 25.6ms | Allocations: 3652)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 63.2ms | ActiveRecord: 0.2ms | Allocations: 22372)


Started GET "/products" for ::1 at 2022-07-15 17:59:56 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3290)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.2ms | Allocations: 7977)


Started GET "/products" for ::1 at 2022-07-15 17:59:56 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.1ms | Allocations: 7959)


Started GET "/products" for ::1 at 2022-07-15 17:59:57 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 7965)


Started GET "/products" for ::1 at 2022-07-15 17:59:57 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.1ms | Allocations: 7961)


Started GET "/products/1" for ::1 at 2022-07-15 18:00:09 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 331)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.3ms | Allocations: 5850)


Started GET "/index" for ::1 at 2022-07-15 18:00:20 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 18:05:43 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 18:05:44 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 18:05:44 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 18:05:44 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2022-07-15 18:05:53 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 45.8ms | ActiveRecord: 0.2ms | Allocations: 22009)


Started GET "/index" for ::1 at 2022-07-15 18:06:09 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 18:35:25 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 18:35:26 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 18:35:26 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2022-07-15 18:36:07 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3655)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.3ms | Allocations: 9308)


Started GET "/" for ::1 at 2022-07-15 18:36:24 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2022-07-15 18:36:26 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3290)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.2ms | Allocations: 7976)


Started GET "/contact" for ::1 at 2022-07-15 18:36:27 +0600
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2022-07-15 18:36:29 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.1ms | Allocations: 7968)


Started GET "/questions" for ::1 at 2022-07-15 18:36:30 +0600
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2022-07-15 18:36:32 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.1ms | Allocations: 7972)


Started GET "/news" for ::1 at 2022-07-15 18:36:33 +0600
  
ActionController::RoutingError (No route matches [GET] "/news"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2022-07-15 18:36:34 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.2ms | Allocations: 7970)


Started GET "/products" for ::1 at 2022-07-15 18:52:00 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 7935)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 40.9ms | ActiveRecord: 0.2ms | Allocations: 26928)


Started GET "/products" for ::1 at 2022-07-15 18:52:01 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.4ms | Allocations: 7999)


Started GET "/products" for ::1 at 2022-07-15 18:52:01 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.1ms | Allocations: 7961)


Started GET "/products" for ::1 at 2022-07-15 18:52:02 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.2ms | Allocations: 7967)


Started GET "/" for ::1 at 2022-07-15 18:52:10 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/index" for ::1 at 2022-07-15 18:52:27 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 19:10:55 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 19:10:56 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 19:10:56 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 19:10:57 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/index" for ::1 at 2022-07-15 19:11:01 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2022-07-15 19:11:07 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 7936)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 58.2ms | ActiveRecord: 0.2ms | Allocations: 26884)


Started GET "/carts" for ::1 at 2022-07-15 19:11:34 +0600
Processing by CartsController#index as HTML
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 4551)


  
NameError (undefined local variable or method `line_items' for Cart(id: integer, created_at: datetime, updated_at: datetime):Class):
  
app/models/cart.rb:3:in `<class:Cart>'
app/models/cart.rb:1:in `<main>'
app/controllers/carts_controller.rb:6:in `index'
Started GET "/carts" for ::1 at 2022-07-15 19:13:33 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 7523)


Started GET "/index" for ::1 at 2022-07-15 19:13:40 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/carts" for ::1 at 2022-07-15 19:13:52 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 667)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 5443)


Started GET "/carts/new" for ::1 at 2022-07-15 19:13:54 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 53.4ms | Allocations: 2073)
  Rendered carts/new.html.erb within layouts/application (Duration: 54.7ms | Allocations: 2431)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 62.0ms | ActiveRecord: 0.6ms | Allocations: 9197)


Started POST "/carts" for ::1 at 2022-07-15 19:13:56 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"do5HUszMvhzgEaTaeTCKZeWMB/fUaKvXF3GFmyDGTby5FwjcR/KGeEUBPrj9d4pOd1us6iZhL6nQ0avERIZSTA==", "commit"=>"Create Cart"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-15 13:13:56.227885"], ["updated_at", "2022-07-15 13:13:56.227885"]]
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[35m (84.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 94ms (ActiveRecord: 85.5ms | Allocations: 3832)


Started GET "/carts/1" for ::1 at 2022-07-15 19:13:56 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 228)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.1ms | ActiveRecord: 0.3ms | Allocations: 5993)


Started GET "/carts" for ::1 at 2022-07-15 19:13:58 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 835)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 5607)


Started GET "/carts/1" for ::1 at 2022-07-15 19:14:00 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.1ms | Allocations: 5430)


Started GET "/carts" for ::1 at 2022-07-15 19:14:01 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 832)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.2ms | Allocations: 5603)


Started GET "/" for ::1 at 2022-07-15 19:14:02 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/carts" for ::1 at 2022-07-15 19:14:05 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 831)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 5624)


Started GET "/carts/1" for ::1 at 2022-07-15 19:14:09 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 93)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.2ms | Allocations: 5420)


Started GET "/products" for ::1 at 2022-07-15 19:14:20 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 8157)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 0.7ms | Allocations: 13755)


Started GET "/products" for ::1 at 2022-07-15 19:14:23 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.2ms | Allocations: 7973)


Started GET "/products" for ::1 at 2022-07-15 19:18:04 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 8819)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 27.8ms | ActiveRecord: 1.3ms | Allocations: 15455)


Started GET "/products" for ::1 at 2022-07-15 19:18:05 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3290)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.2ms | Allocations: 7984)


Started GET "/products" for ::1 at 2022-07-15 19:18:05 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.2ms | Allocations: 7965)


Started GET "/index" for ::1 at 2022-07-15 19:18:11 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/carts" for ::1 at 2022-07-15 19:18:27 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 3143)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 1.3ms | Allocations: 9217)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/carts" for ::1 at 2022-07-15 19:38:13 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 3870)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 135ms (Views: 110.0ms | ActiveRecord: 1.5ms | Allocations: 30418)


Started GET "/products" for ::1 at 2022-07-15 19:38:23 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 8650)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 1.4ms | Allocations: 14710)


Started GET "/products" for ::1 at 2022-07-15 19:38:28 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3292)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.2ms | Allocations: 7985)


Started GET "/products" for ::1 at 2022-07-15 19:38:28 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 3292)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.9ms | ActiveRecord: 0.2ms | Allocations: 7977)


Started GET "/products" for ::1 at 2022-07-15 19:38:28 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 32.8ms | ActiveRecord: 0.2ms | Allocations: 7955)


Started GET "/products" for ::1 at 2022-07-15 19:38:29 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 18.1ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 34.8ms | ActiveRecord: 0.1ms | Allocations: 7963)


Started GET "/index" for ::1 at 2022-07-15 19:38:37 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-15 19:38:46 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:40:47 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:40:48 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:40:49 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:40:55 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:40:55 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:40:55 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/index" for ::1 at 2022-07-15 19:41:20 +0600
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-15 19:41:29 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started PUT "/__web_console/repl_sessions/3a350833f1936b1710da5891ba4b65e0" for ::1 at 2022-07-15 19:42:50 +0600
Started PUT "/__web_console/repl_sessions/3a350833f1936b1710da5891ba4b65e0" for ::1 at 2022-07-15 19:42:53 +0600
Started PUT "/__web_console/repl_sessions/3a350833f1936b1710da5891ba4b65e0" for ::1 at 2022-07-15 19:43:00 +0600
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-15 19:44:56 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 14741)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 29.3ms | ActiveRecord: 0.8ms | Allocations: 24664)


Started GET "/products" for ::1 at 2022-07-15 19:49:12 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 3302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 33.6ms | ActiveRecord: 0.2ms | Allocations: 7986)


Started GET "/products" for ::1 at 2022-07-15 19:49:14 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.6ms | ActiveRecord: 0.1ms | Allocations: 7965)


Started GET "/products" for ::1 at 2022-07-15 19:49:14 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.2ms | Allocations: 7957)


Started GET "/products" for ::1 at 2022-07-15 19:49:14 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.2ms | Allocations: 7951)


Started GET "/products" for ::1 at 2022-07-15 19:49:14 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 14.9ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 0.1ms | Allocations: 7953)


Started GET "/" for ::1 at 2022-07-15 19:49:16 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2022-07-15 19:49:17 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3292)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.1ms | Allocations: 7985)


Started GET "/products/1" for ::1 at 2022-07-15 19:49:54 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 337)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 11.9ms | ActiveRecord: 0.3ms | Allocations: 11413)


Started GET "/products" for ::1 at 2022-07-15 19:49:56 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3283)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.1ms | Allocations: 7961)


Started GET "/store_index" for ::1 at 2022-07-15 19:51:11 +0600
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-15 19:52:48 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:56:51 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:56:53 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 19:56:53 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 20:32:29 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 20:32:29 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 20:32:30 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 20:32:30 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 20:35:35 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2022-07-15 20:36:24 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 8359)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 1.0ms | Allocations: 14083)


Started GET "/products" for ::1 at 2022-07-15 20:36:28 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.1ms | Allocations: 7949)


Started GET "/products" for ::1 at 2022-07-15 20:36:28 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.1ms | Allocations: 7955)


Started GET "/products" for ::1 at 2022-07-15 20:36:29 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.2ms | Allocations: 7972)


Started GET "/products" for ::1 at 2022-07-15 20:36:29 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.7ms | ActiveRecord: 0.1ms | Allocations: 7955)


Started GET "/products" for ::1 at 2022-07-15 20:36:29 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.1ms | Allocations: 7951)


Started GET "/products" for ::1 at 2022-07-15 20:36:29 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.1ms | Allocations: 7953)


Started GET "/" for ::1 at 2022-07-15 20:37:02 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2022-07-15 20:37:14 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.2ms | Allocations: 7966)


Started GET "/store_index" for ::1 at 2022-07-15 20:53:19 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store_index" for ::1 at 2022-07-15 20:53:20 +0600
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store_index" for ::1 at 2022-07-15 20:53:20 +0600
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store_index" for ::1 at 2022-07-15 20:56:15 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store_index" for ::1 at 2022-07-15 20:56:16 +0600
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store_index" for ::1 at 2022-07-15 20:56:16 +0600
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store_index" for ::1 at 2022-07-15 20:56:17 +0600
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-15 20:56:23 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 21:31:13 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 21:31:17 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started PUT "/__web_console/repl_sessions/a6092210b6d19bb6bb8d5db15861c58b" for ::1 at 2022-07-15 21:31:33 +0600
Started PUT "/__web_console/repl_sessions/a6092210b6d19bb6bb8d5db15861c58b" for ::1 at 2022-07-15 21:31:37 +0600
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Destroy (74.7ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Docker for Rails Developers"], ["description", "<p>\n      <em>Build, Ship, and Run Your Applications Everywhere</em>\n      Docker does for DevOps what Rails did for web development—it gives you\n      a new set of superpowers. Gone are “works on my machine” woes and lengthy\n      setup tasks, replaced instead by a simple, consistent, Docker-based\n      development environment that will have your team up and running in seconds.\n      Gain hands-on, real-world experience with a tool that’s rapidly becoming\n      fundamental to software development. Go from zero all the way to production\n      as Docker transforms the massive leap of deploying your app in the cloud\n      into a baby step.\n      </p>"], ["image_url", "ridocker.jpg"], ["price", 38.0], ["created_at", "2022-07-15 15:33:21.691924"], ["updated_at", "2022-07-15 15:33:21.691924"]]
  [1m[35m (50.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Build Chatbot Interactions"], ["description", "<p>\n      <em>Responsive, Intuitive Interfaces with Ruby</em>\n      The next step in the evolution of user interfaces is here.\n      Chatbots let your users interact with your service in their\n      own natural language. Use free and open source tools along\n      with Ruby to build creative, useful, and unexpected interactions\n      for users. Take advantage of the Lita framework’s step-by-step\n      implementation strategy to simplify bot development and testing.\n      From novices to experts, chatbots are an area in which everyone\n      can participate. Exercise your creativity by creating chatbot\n      skills for communicating, information, and fun.\n      </p>"], ["image_url", "dpchat.jpg"], ["price", 20.0], ["created_at", "2022-07-15 15:33:21.750276"], ["updated_at", "2022-07-15 15:33:21.750276"]]
  [1m[35m (59.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Programming Crystal"], ["description", "<p>\n      <em>Create High-Performance, Safe, Concurrent Apps</em>\n      Crystal is for Ruby programmers who want more performance or for\n      developers who enjoy working in a high-level scripting environment. Crystal\n      combines native execution speed and concurrency with Ruby-like syntax, so\n      you will feel right at home. This book, the first available on Crystal,\n      shows you how to write applications that have the beauty and elegance of a\n      modern language, combined with the power of types and modern concurrency\n      tooling. Now you can write beautiful code that runs faster, scales better,\n      and is a breeze to deploy.\n      </p>"], ["image_url", "crystal.jpg"], ["price", 40.0], ["created_at", "2022-07-15 15:33:21.814790"], ["updated_at", "2022-07-15 15:33:21.814790"]]
  [1m[35m (62.0ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-07-15 21:33:38 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/products" for ::1 at 2022-07-15 21:33:46 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 8342)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 26.2ms | ActiveRecord: 1.6ms | Allocations: 14114)


Started GET "/products" for ::1 at 2022-07-15 21:33:47 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.1ms | Allocations: 7955)


Started GET "/products" for ::1 at 2022-07-15 21:33:47 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.1ms | Allocations: 7953)


Started GET "/products" for ::1 at 2022-07-15 21:33:47 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.2ms | Allocations: 7945)


Started GET "/products" for ::1 at 2022-07-15 21:33:47 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 3283)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 31.4ms | ActiveRecord: 0.2ms | Allocations: 7950)


Started GET "/products" for ::1 at 2022-07-15 21:33:47 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.2ms | Allocations: 7945)


Started GET "/products" for ::1 at 2022-07-15 21:33:47 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.2ms | Allocations: 7965)


Started GET "/" for ::1 at 2022-07-15 21:34:28 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-15 21:39:50 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
Started GET "/" for ::1 at 2022-07-15 21:39:51 +0600
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (93.5ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (72.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (97.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (95.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (94.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (64.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (79.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (86.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (69.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220715082149)[0m
  [1m[35m (72.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003);

[0m
  [1m[35m (100.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-15 15:39:57.266676"], ["updated_at", "2022-07-15 15:39:57.266676"]]
  [1m[35m (70.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-15 15:39:57.349699"], ["key", "environment"]]
  [1m[35m (77.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "fff75ce68ec659a0dcf056a6d84b2860c4a8e044"], ["created_at", "2022-07-15 15:39:57.434414"], ["updated_at", "2022-07-15 15:39:57.434414"]]
  [1m[35m (181.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/store_controller.rb:3:in `test'
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/" for ::1 at 2022-07-15 21:39:57 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/store_controller.rb:3:in `test'
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/store_controller.rb:3:in `test'
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/store_index" for ::1 at 2022-07-15 21:39:58 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-15 21:40:02 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 52.6ms | Allocations: 2554)
Completed 500 Internal Server Error in 55ms (ActiveRecord: 0.0ms | Allocations: 3647)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for ::1 at 2022-07-15 21:44:57 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1372)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1823)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for ::1 at 2022-07-18 09:49:57 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 796.3ms | Allocations: 14594)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 926ms (Views: 885.1ms | ActiveRecord: 1.2ms | Allocations: 23624)


Started GET "/products" for ::1 at 2022-07-18 09:57:13 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3338)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.3ms | Allocations: 8028)


Started GET "/store/index" for ::1 at 2022-07-18 09:57:23 +0600
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store/index" for ::1 at 2022-07-18 10:00:22 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store/index" for ::1 at 2022-07-18 10:00:24 +0600
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store/index" for ::1 at 2022-07-18 10:00:24 +0600
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store/index" for ::1 at 2022-07-18 10:00:24 +0600
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store/index" for ::1 at 2022-07-18 10:00:36 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store/index" for ::1 at 2022-07-18 10:00:37 +0600
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store/index" for ::1 at 2022-07-18 10:00:37 +0600
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/store/index" for ::1 at 2022-07-18 10:00:38 +0600
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-18 10:02:14 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (131.5ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (123.6ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (119.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (168.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (106.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (92.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (99.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (109.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (64.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220715082149)[0m
  [1m[35m (74.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003);

[0m
  [1m[35m (85.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 04:02:21.947271"], ["updated_at", "2022-07-18 04:02:21.947271"]]
  [1m[35m (54.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-18 04:02:22.009601"], ["key", "environment"]]
  [1m[35m (105.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "fff75ce68ec659a0dcf056a6d84b2860c4a8e044"], ["created_at", "2022-07-18 04:02:22.121564"], ["updated_at", "2022-07-18 04:02:22.121564"]]
  [1m[35m (47.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/store_controller.rb:3:in `test'
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/" for ::1 at 2022-07-18 10:02:28 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 64.4ms | Allocations: 2171)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.0ms | Allocations: 3260)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for ::1 at 2022-07-18 10:28:44 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1372)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1819)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for ::1 at 2022-07-18 10:28:45 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1372)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1818)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/products" for ::1 at 2022-07-18 10:34:39 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 36.1ms | Allocations: 8370)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 47.7ms | ActiveRecord: 2.3ms | Allocations: 14127)


Started GET "/" for ::1 at 2022-07-18 10:34:43 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1371)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1813)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-07-18 10:37:20 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/store_controller.rb:3:in `test'
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started POST "/__web_console/repl_sessions/47d7b497fcb9b964ab8fd8ceebb5f871/trace" for ::1 at 2022-07-18 10:38:27 +0600
Started POST "/__web_console/repl_sessions/47d7b497fcb9b964ab8fd8ceebb5f871/trace" for ::1 at 2022-07-18 10:38:47 +0600
Started GET "/" for ::1 at 2022-07-18 10:39:47 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1381)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1984)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-07-18 10:40:55 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.6ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/5-20220715153321750276 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 407.9ms | Allocations: 85558)
Completed 500 Internal Server Error in 412ms (ActiveRecord: 1.7ms | Allocations: 87730)


  
ActionView::Template::Error (undefined method `line_items_path' for #<#<Class:0x00007f304408c200>:0x00007f306d34d8f8>):
    14:       </p>
    15:       <div class="price">
    16:         <%= number_to_currency(product.price) %>
    17:         <%= button_to 'Add to Cart', line_items_path(product_id: product) %>
    18:       </div>
    19:       </li>
    20:   <% end %>
  
app/views/store/index.html.erb:17
app/views/store/index.html.erb:8
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for ::1 at 2022-07-18 10:52:23 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/5-20220715153321750276 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 218.8ms | Allocations: 78815)
Completed 500 Internal Server Error in 220ms (ActiveRecord: 0.4ms | Allocations: 79293)


  
ActionView::Template::Error (undefined method `line_items_path' for #<#<Class:0x00007f304408c200>:0x00007f306d117e80>):
    14:       </p>
    15:       <div class="price">
    16:         <%= number_to_currency(product.price) %>
    17:         <%= button_to 'Add to Cart', line_items_path(product_id: product) %>
    18:       </div>
    19:       </li>
    20:   <% end %>
  
app/views/store/index.html.erb:17
app/views/store/index.html.erb:8
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started POST "/__web_console/repl_sessions/860c348b3f5d3577130ddf4a620c9da1/trace" for ::1 at 2022-07-18 10:52:27 +0600
Started POST "/__web_console/repl_sessions/860c348b3f5d3577130ddf4a620c9da1/trace" for ::1 at 2022-07-18 10:52:31 +0600
Started POST "/__web_console/repl_sessions/860c348b3f5d3577130ddf4a620c9da1/trace" for ::1 at 2022-07-18 10:52:33 +0600
Started POST "/__web_console/repl_sessions/860c348b3f5d3577130ddf4a620c9da1/trace" for ::1 at 2022-07-18 10:52:35 +0600
Started POST "/__web_console/repl_sessions/860c348b3f5d3577130ddf4a620c9da1/trace" for ::1 at 2022-07-18 10:52:36 +0600
Started GET "/" for ::1 at 2022-07-18 10:53:13 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/store_controller.rb:3:in `test'
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/products" for ::1 at 2022-07-18 10:53:44 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 32.9ms | Allocations: 8358)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 45.5ms | ActiveRecord: 2.1ms | Allocations: 14085)


Started GET "/products" for ::1 at 2022-07-18 10:53:45 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 25.5ms | ActiveRecord: 0.4ms | Allocations: 7954)


Started GET "/products" for ::1 at 2022-07-18 10:53:45 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 25.1ms | ActiveRecord: 0.3ms | Allocations: 7959)


Started GET "/products" for ::1 at 2022-07-18 10:53:45 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3280)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.2ms | Allocations: 7949)


Started GET "/" for ::1 at 2022-07-18 10:53:47 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1381)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1987)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for ::1 at 2022-07-18 10:53:50 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1371)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 1821)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for ::1 at 2022-07-18 10:53:51 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1371)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1819)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for ::1 at 2022-07-18 10:53:54 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1371)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1819)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for ::1 at 2022-07-18 11:00:13 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2022-07-18 11:00:24 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/5-20220715153321750276 (0.7ms)
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 34.3ms | Allocations: 9446)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 40.3ms | ActiveRecord: 0.4ms | Allocations: 15614)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-18 11:00:33 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"VsbFnCvPeKf272SoJRzHBZlN7GeUQPskX4Ons1O/juWTAP+UqDdKOhmUwG4yZ0GvrAqQSr1CEEwhdzZxsv4vrA==", "product_id"=>"5"}
Completed 400 Bad Request in 5ms (ActiveRecord: 0.0ms | Allocations: 1749)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:68:in `line_item_params'
app/controllers/line_items_controller.rb:24:in `create'
Started GET "/" for ::1 at 2022-07-18 11:00:49 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 0.7ms | Allocations: 7345)


Started GET "/" for ::1 at 2022-07-18 11:00:50 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.3ms | Allocations: 5733)


Started GET "/questions" for ::1 at 2022-07-18 11:00:51 +0600
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-18 11:00:53 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.3ms | Allocations: 5737)


Started GET "/store_index" for ::1 at 2022-07-18 12:00:48 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/store_index"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-18 12:00:58 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.5ms | Allocations: 5745)


Started GET "/lineitems" for ::1 at 2022-07-18 13:18:55 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/lineitems"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/line_items?product_id=5" for ::1 at 2022-07-18 13:27:53 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"yccLAxC65y/KFsYGhfYwSR9y2E8KoY91c7LbnHD7fGsMATELk0LVsiVtYsCSjbbjKjWkYiOjZB0NRkpekbrdIg==", "product_id"=>"5"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 645)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:68:in `line_item_params'
app/controllers/line_items_controller.rb:24:in `create'
Started GET "/" for ::1 at 2022-07-18 13:27:59 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.2ms | Allocations: 5729)


Started GET "/products" for ::1 at 2022-07-18 13:28:03 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 7645)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.7ms | Allocations: 12496)


Started GET "/" for ::1 at 2022-07-18 13:40:55 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 7302)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-18 13:55:25 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"8nmoUnXSENEySsCZQ90rhkYDx/8JzfiPx8GHcbYHdX83v5Ja9ioiTN0xZF9Upq0sc0S70iDPE+e5NRazV0bUNg==", "product_id"=>"5"}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (46.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 07:55:25.086517"], ["updated_at", "2022-07-18 07:55:25.086517"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (153.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
Completed 400 Bad Request in 219ms (ActiveRecord: 200.4ms | Allocations: 12820)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:75:in `line_item_params'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for ::1 at 2022-07-18 13:55:36 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.3ms | Allocations: 5740)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/line_items?product_id=5" for ::1 at 2022-07-18 13:55:59 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Mmk7bp8pfGeujJoBQ5NY88/g4CllkN356xZIfjGK0Fb3rwFmHNFO+kH3PsdU6N5Z+qecBEySNpGV4tm80MtxHw==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 07:55:59.492863"], ["updated_at", "2022-07-18 07:55:59.492863"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (120.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
Completed 400 Bad Request in 148ms (ActiveRecord: 122.2ms | Allocations: 14380)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:75:in `line_item_params'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for ::1 at 2022-07-18 14:01:45 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Mmk7bp8pfGeujJoBQ5NY88/g4CllkN356xZIfjGK0Fb3rwFmHNFO+kH3PsdU6N5Z+qecBEySNpGV4tm80MtxHw==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 08:01:45.409821"], ["updated_at", "2022-07-18 08:01:45.409821"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (83.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
Completed 400 Bad Request in 192ms (ActiveRecord: 88.7ms | Allocations: 20825)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:75:in `line_item_params'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for ::1 at 2022-07-18 14:01:49 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1547)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.4ms | Allocations: 7310)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-18 14:01:50 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"y9ZPt4RQNX4zU3YpG6Snkm9TkEdozzlnypFzxLpvqLUOEHW/B6gH49wo0u8M3yE4WhTsakHN0g+0ZeIGWy4J/A==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 08:01:50.375122"], ["updated_at", "2022-07-18 08:01:50.375122"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (91.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
Completed 400 Bad Request in 100ms (ActiveRecord: 91.9ms | Allocations: 5013)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:75:in `line_item_params'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for ::1 at 2022-07-18 15:39:52 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 954)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 5749)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-07-18 15:40:29 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:56d360ddf88afde1fcac290b870d3c6c/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.4ms | Allocations: 7521)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-18 15:40:30 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"M0zfrVCVkbsIibTCtxygsCTeqVO6uOIZz46YZLvPp132iuWl022jJufyEASgZyYaEZnVfpO6CXGxegmmWo4GFA==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 09:40:30.843601"], ["updated_at", "2022-07-18 09:40:30.843601"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (77.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
Completed 400 Bad Request in 122ms (ActiveRecord: 80.1ms | Allocations: 17446)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:75:in `line_item_params'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/products" for ::1 at 2022-07-18 15:42:28 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3655)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.2ms | Allocations: 9341)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-18 15:42:31 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"M0zfrVCVkbsIibTCtxygsCTeqVO6uOIZz46YZLvPp132iuWl022jJufyEASgZyYaEZnVfpO6CXGxegmmWo4GFA==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 09:42:31.754008"], ["updated_at", "2022-07-18 09:42:31.754008"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (143.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
Completed 400 Bad Request in 157ms (ActiveRecord: 143.9ms | Allocations: 5111)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:75:in `line_item_params'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for ::1 at 2022-07-18 15:42:35 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/5-20220715153321750276 (0.3ms)
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 5709)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.4ms | Allocations: 10984)


Started POST "/line_items?line_item%5Bproduct_id%5D=5" for ::1 at 2022-07-18 15:42:35 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"RDnKfKOlZJYiDovMjiSQCxEuTKFQaSe8RA0dzr6RqGKB//B0IF1WC811LwqZXxahJGkwjHlrzNQ6+YwMX9AJKw==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 09:42:35.968808"], ["updated_at", "2022-07-18 09:42:35.968808"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (116.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 124ms (ActiveRecord: 117.0ms | Allocations: 4374)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started POST "/__web_console/repl_sessions/928941666dceddf9bcb315a0663fbd05/trace" for ::1 at 2022-07-18 15:43:01 +0600
Started POST "/__web_console/repl_sessions/928941666dceddf9bcb315a0663fbd05/trace" for ::1 at 2022-07-18 15:43:16 +0600
Started GET "/carts" for ::1 at 2022-07-18 15:43:55 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2292)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.3ms | Allocations: 7647)


Started GET "/carts/1" for ::1 at 2022-07-18 15:44:01 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1264)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.5ms | Allocations: 6848)


Started GET "/carts" for ::1 at 2022-07-18 15:44:06 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1983)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 6752)


Started GET "/carts/2" for ::1 at 2022-07-18 15:44:07 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.4ms | Allocations: 6157)


Started GET "/carts" for ::1 at 2022-07-18 15:44:08 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1980)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.3ms | Allocations: 6742)


Started DELETE "/carts/1" for ::1 at 2022-07-18 15:44:11 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"fbomKsLs1vZ58Ityy8K0VchhREjaHma04h9ist2g/hq4fBwiQRTka5aLL7TcuTL//SY4ZfMcjdyc6/NwPOFfUw==", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (107.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 118ms (ActiveRecord: 108.7ms | Allocations: 5023)


Started GET "/carts" for ::1 at 2022-07-18 15:44:11 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1818)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.1ms | Allocations: 6599)


Started DELETE "/carts/2" for ::1 at 2022-07-18 15:44:16 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"F0RQFqeim0diIZNxWDVjJeT1j64NVCaL+N/pTIs01UbSgmoeJFqp2o1aN7dPTuWP0bLzgyRWzeOGK3iOanV0Dw==", "id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (197.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 208ms (ActiveRecord: 198.6ms | Allocations: 4970)


Started GET "/carts" for ::1 at 2022-07-18 15:44:16 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1654)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.1ms | Allocations: 6423)


Started DELETE "/carts/3" for ::1 at 2022-07-18 15:44:19 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"x/j0kkLkkYJXGFc7Mz6lwBkh4Pe7dJOGoAL1pqrFcQYCPs6awRyjH7hj8/0kRSNqLGac2pJ2eO7e9mRkS4TQTw==", "id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.8ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (149.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 159ms (ActiveRecord: 150.5ms | Allocations: 4964)


Started GET "/carts" for ::1 at 2022-07-18 15:44:19 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1490)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.1ms | Allocations: 6275)


Started DELETE "/carts/4" for ::1 at 2022-07-18 15:44:21 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"X8gXsA4i6WB3WKXXxUjauRVTdNX5Rjv5q7QsTI3x1D6aDi24jdrb/ZgjARHSM1wTIBQI+NBE0JHVQL2ObLB1dw==", "id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (221.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 232ms (ActiveRecord: 221.8ms | Allocations: 4970)


Started GET "/carts" for ::1 at 2022-07-18 15:44:21 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 6101)


Started DELETE "/carts/5" for ::1 at 2022-07-18 15:44:23 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"5ZudYHWfKsZK8OE8ULm7T/Ex2iKfwg/EPVg9GsT7H14gXado9mcYW6WLRfpHwj3lxHamD7bA5KxDrKzYJbq+Fw==", "id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (86.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 99ms (ActiveRecord: 87.3ms | Allocations: 4870)


Started GET "/carts" for ::1 at 2022-07-18 15:44:23 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 21.5ms | ActiveRecord: 0.1ms | Allocations: 6109)


Started DELETE "/carts/6" for ::1 at 2022-07-18 15:44:26 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"6bp4gPtJgHVum9da260S+d/x4hXUCY3emiQ+A6lXAD0sfEKIeLGy6IHgc5zM1pRT6raeOP0LZrbk0K/BSBahdA==", "id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (356.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 365ms (ActiveRecord: 356.9ms | Allocations: 4965)


Started GET "/carts" for ::1 at 2022-07-18 15:44:26 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 5774)


Started DELETE "/carts/7" for ::1 at 2022-07-18 15:44:28 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"wisP3CivWMR2Od0yW6LBRwWZc5IBZUVhALmNawkfUK0H7TXUq1dqWZlCefRM2UftMN4Pvyhnrgl+TRyp6F7x5A==", "id"=>"7"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (2.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (166.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 185ms (ActiveRecord: 169.4ms | Allocations: 4974)


Started GET "/carts" for ::1 at 2022-07-18 15:44:28 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.1ms | Allocations: 5618)


Started GET "/carts/new" for ::1 at 2022-07-18 15:44:29 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.1ms | Allocations: 752)
  Rendered carts/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1113)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 6025)


Started POST "/carts" for ::1 at 2022-07-18 15:44:31 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"8mACXXiP336yhJBhi/Z/wRVNSVbUCEnBS81ImHw6ftI2L4GLlG/JK3TOLjdJf8M7fty4t0Ug7ZWYHEhUTirKAQ==", "commit"=>"Create Cart"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 09:44:31.551627"], ["updated_at", "2022-07-18 09:44:31.551627"]]
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[35m (102.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/carts/9
Completed 302 Found in 109ms (ActiveRecord: 102.8ms | Allocations: 3797)


Started GET "/carts/9" for ::1 at 2022-07-18 15:44:31 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 844)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 6177)


Started GET "/carts" for ::1 at 2022-07-18 15:44:37 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 998)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.1ms | Allocations: 5762)


Started POST "/line_items?line_item%5Bproduct_id%5D=6" for ::1 at 2022-07-18 15:54:53 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"RDnKfKOlZJYiDovMjiSQCxEuTKFQaSe8RA0dzr6RqGKB//B0IF1WC811LwqZXxahJGkwjHlrzNQ6+YwMX9AJKw==", "line_item"=>{"product_id"=>"6"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 09:54:53.711962"], ["updated_at", "2022-07-18 09:54:53.711962"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (71.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 78ms (ActiveRecord: 71.8ms | Allocations: 4300)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started GET "/carts" for ::1 at 2022-07-18 15:55:04 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1180)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 5955)


Started GET "/" for ::1 at 2022-07-18 15:55:14 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.3ms | Allocations: 5743)


Started GET "/questions" for ::1 at 2022-07-18 15:55:21 +0600
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-18 15:55:23 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 5743)


Started GET "/news" for ::1 at 2022-07-18 15:55:24 +0600
  
ActionController::RoutingError (No route matches [GET] "/news"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-18 15:55:25 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 5738)


Started GET "/contact" for ::1 at 2022-07-18 15:55:26 +0600
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-18 15:55:27 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.4ms | Allocations: 5731)


Started GET "/carts" for ::1 at 2022-07-18 15:55:28 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 5915)


Started GET "/carts/10" for ::1 at 2022-07-18 15:55:35 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 866)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.4ms | Allocations: 6206)


Started GET "/carts" for ::1 at 2022-07-18 15:55:39 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.2ms | Allocations: 5929)


Started GET "/carts" for ::1 at 2022-07-18 15:58:53 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 104ms (Views: 103.3ms | ActiveRecord: 0.1ms | Allocations: 18762)


Started DELETE "/carts/8" for ::1 at 2022-07-18 15:59:00 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EdYE0TKawCNqhadEe/JRK2hYcL8m+6Ifq4J42wJkCG7UED7ZsWLyvoX+A4JsideBXR8Mkg/5SXfVdukZ4yWpJw==", "id"=>"8"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.8ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (87.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 100ms (ActiveRecord: 88.9ms | Allocations: 4880)


Started GET "/carts" for ::1 at 2022-07-18 15:59:00 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms | Allocations: 5879)


Started GET "/" for ::1 at 2022-07-18 15:59:11 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.2ms | Allocations: 5681)


Started POST "/line_items?line_item%5Bproduct_id%5D=5" for ::1 at 2022-07-18 15:59:12 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"nmm3vXzSXtF7HzyreZxbVRknGJQ4ZM/PNVxP74Xnr15br421/ypsTJRkmG1u593/LGBkuRFmJKdLqN4tZKYOFw==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 09:59:12.729091"], ["updated_at", "2022-07-18 09:59:12.729091"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (125.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 134ms (ActiveRecord: 126.3ms | Allocations: 4376)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started GET "/carts" for ::1 at 2022-07-18 15:59:18 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1158)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.1ms | Allocations: 5875)


Started GET "/carts" for ::1 at 2022-07-18 15:59:19 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.1ms | Allocations: 5881)


Started GET "/carts/new" for ::1 at 2022-07-18 15:59:23 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.0ms | Allocations: 416)
  Rendered carts/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 518)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 5235)


Started POST "/carts" for ::1 at 2022-07-18 15:59:24 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"Z9teniD63tMQW3HQdzWRipSBTNUKuvgWJok0CT8b+A2jlN1IzBrIhtYRz4a1vC1w/xC9NJuSXEL1WDTFDQtM3g==", "commit"=>"Create Cart"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 09:59:24.577308"], ["updated_at", "2022-07-18 09:59:24.577308"]]
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[35m (121.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/carts/12
Completed 302 Found in 131ms (ActiveRecord: 121.9ms | Allocations: 3794)


Started GET "/carts/12" for ::1 at 2022-07-18 15:59:24 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 842)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.3ms | Allocations: 6144)


Started GET "/carts" for ::1 at 2022-07-18 15:59:33 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1324)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 6044)


Started GET "/" for ::1 at 2022-07-18 15:59:40 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.2ms | Allocations: 5689)


Started GET "/carts/10" for ::1 at 2022-07-18 16:03:41 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 6103)


Started GET "/carts" for ::1 at 2022-07-18 16:03:42 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1324)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.2ms | Allocations: 6036)


Started GET "/carts/11" for ::1 at 2022-07-18 16:03:43 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 0.6ms | Allocations: 6099)


Started GET "/carts" for ::1 at 2022-07-18 16:03:45 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1324)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 6044)


Started DELETE "/carts/9" for ::1 at 2022-07-18 16:03:47 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"cyzp1lRYqovABxV9KOvJRolXQ73OyEWVEOjpVqzcwHS26tPe16CYFi98sbs/kE/svBA/kOfKrv1uHHiUTZ1hPQ==", "id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (75.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 88ms (ActiveRecord: 76.8ms | Allocations: 4888)


Started GET "/carts" for ::1 at 2022-07-18 16:03:48 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.1ms | Allocations: 5884)


Started DELETE "/carts/10" for ::1 at 2022-07-18 16:03:50 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"sivrsTQ8ygaRlGraFj88jvDRMc0XhVshYzgLAsd2AvB37dG5t8T4m37vzhwBRLokxZZN4D6HsEkdzJrAJjejuQ==", "id"=>"10"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (101.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 111ms (ActiveRecord: 102.7ms | Allocations: 4964)


Started GET "/carts" for ::1 at 2022-07-18 16:03:50 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 5720)


Started DELETE "/carts/11" for ::1 at 2022-07-18 16:03:52 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"T2mw2wpr/beKmxtqkfWfvp1HYI2DhJqBVPoI6SeLBeqKr4rTiZPPKmXgv6yGjhkUqAAcoKqGcekqDpkrxsqkow==", "id"=>"11"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (84.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 94ms (ActiveRecord: 85.6ms | Allocations: 4882)


Started GET "/carts" for ::1 at 2022-07-18 16:03:52 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.1ms | Allocations: 5558)


Started DELETE "/carts/12" for ::1 at 2022-07-18 16:03:54 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"5mk1EMlIxivgD0403FF9pBd6oV8LuONJYXYY81415mQjrw8YSrD0tg906vLLKvsOIj3dciK6CCEfgokxv3RHLQ==", "id"=>"12"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (98.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 109ms (ActiveRecord: 99.0ms | Allocations: 4965)


Started GET "/carts" for ::1 at 2022-07-18 16:03:54 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.3ms | Allocations: 5413)


Started GET "/" for ::1 at 2022-07-18 16:03:58 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 5677)


Started POST "/line_items?line_item%5Bproduct_id%5D=5" for ::1 at 2022-07-18 16:04:00 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"rG6M+WEq28aTdwxG6/dUz3SJqG3IKwUQkzQ5GPgeWIdpqLbx4tLpW3wMqID8jNJlQc7UQOEp7njtwKjaGV/5zg==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:04:00.912579"], ["updated_at", "2022-07-18 10:04:00.912579"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (106.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 114ms (ActiveRecord: 107.4ms | Allocations: 4372)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started GET "/carts" for ::1 at 2022-07-18 16:04:08 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 830)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.3ms | Allocations: 5543)


Started GET "/carts/13" for ::1 at 2022-07-18 16:04:11 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.3ms | Allocations: 6104)


Started GET "/" for ::1 at 2022-07-18 16:08:48 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 5685)


Started POST "/line_items?line_item%5Bproduct_id%5D=5" for ::1 at 2022-07-18 16:09:17 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"QquAJ46JVtiByLuoBMkKUBfLPRMLJ1mJjrhstCOo+EyHbbovDXFkRW6zH24Tsoz6IoxBPiIlsuHwTP12wulZBQ==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:09:17.218020"], ["updated_at", "2022-07-18 10:09:17.218020"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (95.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 103ms (ActiveRecord: 96.3ms | Allocations: 4290)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started POST "/line_items?line_item%5Bproduct_id%5D=4" for ::1 at 2022-07-18 16:09:32 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"QquAJ46JVtiByLuoBMkKUBfLPRMLJ1mJjrhstCOo+EyHbbovDXFkRW6zH24Tsoz6IoxBPiIlsuHwTP12wulZBQ==", "line_item"=>{"product_id"=>"4"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:09:32.735510"], ["updated_at", "2022-07-18 10:09:32.735510"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (264.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 274ms (ActiveRecord: 265.3ms | Allocations: 4375)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started GET "/carts" for ::1 at 2022-07-18 16:09:36 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1158)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.1ms | Allocations: 5875)


Started GET "/carts/14" for ::1 at 2022-07-18 16:09:40 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 836)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.4ms | Allocations: 6117)


Started POST "/__web_console/repl_sessions/0fe5623e84ef5f16cdd8c0d75390fb49/trace" for ::1 at 2022-07-18 16:10:33 +0600
Started POST "/line_items?line_item%5Bproduct_id%5D=4" for ::1 at 2022-07-18 16:11:23 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"QquAJ46JVtiByLuoBMkKUBfLPRMLJ1mJjrhstCOo+EyHbbovDXFkRW6zH24Tsoz6IoxBPiIlsuHwTP12wulZBQ==", "line_item"=>{"product_id"=>"4"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:11:23.435542"], ["updated_at", "2022-07-18 10:11:23.435542"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (76.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 109ms (ActiveRecord: 78.7ms | Allocations: 9025)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started GET "/" for ::1 at 2022-07-18 16:11:26 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1069)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 5967)


Started POST "/line_items?line_item%5Bproduct_id%5D=5" for ::1 at 2022-07-18 16:11:29 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"iZUIXZPXWP61vDuvJvJF8vf+mgR0E6uiM7Lp7C63p+RMUzJVEC9qY1rHn2kxicNYwrnmKV0RQMpNRnguz/YGrQ==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:11:29.949914"], ["updated_at", "2022-07-18 10:11:29.949914"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (91.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 102ms (ActiveRecord: 93.2ms | Allocations: 4288)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started GET "/carts/14" for ::1 at 2022-07-18 16:11:39 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2591)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 1.1ms | Allocations: 8113)


Started GET "/carts" for ::1 at 2022-07-18 16:11:41 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1561)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.5ms | Allocations: 6287)


Started DELETE "/carts/13" for ::1 at 2022-07-18 16:11:44 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"GwWdlNXW7EOrIKn5QO7jPzedKX/2Qib22XXqPBfxH/3ew6ecVi7e3kRbDT9XlWWVAtpVUt9AzZ6ngXv+9rC+tA==", "id"=>"13"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 13]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (85.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 97ms (ActiveRecord: 86.5ms | Allocations: 4902)


Started GET "/carts" for ::1 at 2022-07-18 16:11:44 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1479)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.3ms | Allocations: 6210)


Started DELETE "/carts/14" for ::1 at 2022-07-18 16:11:46 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4V39a57JmSuP80aTHJ6i4lmzB4jPU+H1yH2YxfKRU+0km8djHTGrtmCI4lUL5SRIbPR7peZRCp22iQkHE9DypA==", "id"=>"14"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (157.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 174ms (ActiveRecord: 159.0ms | Allocations: 4978)


Started GET "/carts" for ::1 at 2022-07-18 16:11:46 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.3ms | Allocations: 5890)


Started POST "/line_items?line_item%5Bproduct_id%5D=5" for ::1 at 2022-07-18 16:15:00 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"iZUIXZPXWP61vDuvJvJF8vf+mgR0E6uiM7Lp7C63p+RMUzJVEC9qY1rHn2kxicNYwrnmKV0RQMpNRnguz/YGrQ==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:15:00.994810"], ["updated_at", "2022-07-18 10:15:00.994810"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (67.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 82ms (ActiveRecord: 68.9ms | Allocations: 9013)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started POST "/line_items?line_item%5Bproduct_id%5D=5" for ::1 at 2022-07-18 16:15:12 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"iZUIXZPXWP61vDuvJvJF8vf+mgR0E6uiM7Lp7C63p+RMUzJVEC9qY1rHn2kxicNYwrnmKV0RQMpNRnguz/YGrQ==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:15:12.719418"], ["updated_at", "2022-07-18 10:15:12.719418"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (78.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 93ms (ActiveRecord: 79.5ms | Allocations: 9044)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
Started GET "/" for ::1 at 2022-07-18 16:15:18 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1069)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.3ms | Allocations: 5959)


Started POST "/line_items?line_item%5Bproduct_id%5D=5" for ::1 at 2022-07-18 16:15:19 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"XYNci6P3bMZ+JpylSLVifxzDQHKHOoSLnuzeOYZhnk6YRWaDIA9eW5FdOGNfzuTVKYQ8X644b+PgGE/7ZyA/Bw==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:15:19.961636"], ["updated_at", "2022-07-18 10:15:19.961636"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (74.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 82ms (ActiveRecord: 75.2ms | Allocations: 4282)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:26:in `create'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (187.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (241.4ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (269.6ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (299.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (369.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (282.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (201.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (201.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (275.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (278.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (176.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (206.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (179.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (231.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (279.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (243.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (169.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220715082149)[0m
  [1m[35m (186.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220715082149)[0m
  [1m[35m (165.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003);

[0m
  [1m[35m (144.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003);

[0m
  [1m[35m (217.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 10:19:06.714470"], ["updated_at", "2022-07-18 10:19:06.714470"]]
  [1m[35m (221.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 10:19:06.778869"], ["updated_at", "2022-07-18 10:19:06.778869"]]
  [1m[35m (158.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (6.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "fff75ce68ec659a0dcf056a6d84b2860c4a8e044"], ["created_at", "2022-07-18 10:19:06.893894"], ["updated_at", "2022-07-18 10:19:06.893894"]]
  [1m[35m (177.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "fff75ce68ec659a0dcf056a6d84b2860c4a8e044"], ["created_at", "2022-07-18 10:19:06.979764"], ["updated_at", "2022-07-18 10:19:06.979764"]]
  [1m[35m (208.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (705.2ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for 127.0.0.1 at 2022-07-18 16:19:20 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (82.4ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (84.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (101.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
Started POST "/line_items?line_item%5Bproduct_id%5D=5" for 127.0.0.1 at 2022-07-18 16:19:28 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"XYNci6P3bMZ+JpylSLVifxzDQHKHOoSLnuzeOYZhnk6YRWaDIA9eW5FdOGNfzuTVKYQ8X644b+PgGE/7ZyA/Bw==", "line_item"=>{"product_id"=>"5"}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:19:28.644080"], ["updated_at", "2022-07-18 10:19:28.644080"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (209.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (210.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 404 Not Found in 295ms (ActiveRecord: 213.3ms | Allocations: 11935)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:31:in `create'
  [1m[35m (198.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (93.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "line_items"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (90.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (140.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (62.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220715082149)[0m
  [1m[35m (76.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003);

[0m
  [1m[35m (85.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 10:19:29.712542"], ["updated_at", "2022-07-18 10:19:29.712542"]]
  [1m[35m (65.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-18 10:19:29.783204"], ["key", "environment"]]
  [1m[35m (50.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "fff75ce68ec659a0dcf056a6d84b2860c4a8e044"], ["created_at", "2022-07-18 10:19:29.839301"], ["updated_at", "2022-07-18 10:19:29.839301"]]
  [1m[35m (49.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/5-20220715153321750276 (0.3ms)
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/4-20220715153321691924 (0.2ms)
Read fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:1adda1203750d03315ee69a3fa5defcc/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 165.5ms | Allocations: 28748)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 174ms (Views: 172.4ms | ActiveRecord: 0.6ms | Allocations: 34749)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:22:41 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.2ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.2ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 5656)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.4ms | Allocations: 11259)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:22:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"i6Jaa1fYolz8mlopjbnHd3HMRMakMZIpe20UMdxmuP5OZGBj1CCQwRPh/u+awkHdRIs4640zeUEFmYXzPScZtw==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:22:42.845203"], ["updated_at", "2022-07-18 10:22:42.845203"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (88.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 164ms (ActiveRecord: 91.1ms | Allocations: 18900)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 16:22:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"i6Jaa1fYolz8mlopjbnHd3HMRMakMZIpe20UMdxmuP5OZGBj1CCQwRPh/u+awkHdRIs4640zeUEFmYXzPScZtw==", "product_id"=>"4"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:22:46.387181"], ["updated_at", "2022-07-18 10:22:46.387181"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (88.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 100ms (ActiveRecord: 89.2ms | Allocations: 5036)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:22:49 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2481)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.2ms | ActiveRecord: 0.3ms | Allocations: 7845)


Started GET "/carts/21" for 127.0.0.1 at 2022-07-18 16:22:51 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1270)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 0.4ms | Allocations: 6809)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:22:55 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"i6Jaa1fYolz8mlopjbnHd3HMRMakMZIpe20UMdxmuP5OZGBj1CCQwRPh/u+awkHdRIs4640zeUEFmYXzPScZtw==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:22:55.304491"], ["updated_at", "2022-07-18 10:22:55.304491"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (108.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 118ms (ActiveRecord: 108.7ms | Allocations: 5116)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 16:22:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"i6Jaa1fYolz8mlopjbnHd3HMRMakMZIpe20UMdxmuP5OZGBj1CCQwRPh/u+awkHdRIs4640zeUEFmYXzPScZtw==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:22:56.834852"], ["updated_at", "2022-07-18 10:22:56.834852"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (69.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 83ms (ActiveRecord: 69.9ms | Allocations: 5028)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-18 16:26:43 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1071)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 18.2ms | ActiveRecord: 0.7ms | Allocations: 7625)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:26:45 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"MDBAnzD+aCut2CTc7YbKr+oJ7N5E14gXV2nLWpaamw319nqXswZatkKjgBr6/UwF306Q823VY38pnVqYd9s6RA==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:26:45.179979"], ["updated_at", "2022-07-18 10:26:45.179979"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (70.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 125ms (ActiveRecord: 74.7ms | Allocations: 17399)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:26:50 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2724)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.2ms | Allocations: 7659)


Started GET "/carts/15" for 127.0.0.1 at 2022-07-18 16:26:51 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1027)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.4ms | Allocations: 6415)


Started GET "/carts/15/edit" for 127.0.0.1 at 2022-07-18 16:26:53 +0600
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.9ms | Allocations: 811)
  Rendered carts/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1230)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.2ms | Allocations: 6648)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:29:25 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1547)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.5ms | Allocations: 8736)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:29:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"kK2XP3S4RHTYevnbqlfa/NbIOvz9DetuphagIwWsXT5Va60390B26TcBXR29LFxW449G0dQPAAbY4jHh5O38dw==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:29:26.768899"], ["updated_at", "2022-07-18 10:29:26.768899"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (85.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 109ms (ActiveRecord: 87.9ms | Allocations: 17401)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:29:28 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"kK2XP3S4RHTYevnbqlfa/NbIOvz9DetuphagIwWsXT5Va60390B26TcBXR29LFxW449G0dQPAAbY4jHh5O38dw==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:29:28.727916"], ["updated_at", "2022-07-18 10:29:28.727916"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (97.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 104ms (ActiveRecord: 97.5ms | Allocations: 5014)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:29:29 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"kK2XP3S4RHTYevnbqlfa/NbIOvz9DetuphagIwWsXT5Va60390B26TcBXR29LFxW449G0dQPAAbY4jHh5O38dw==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:29:29.031936"], ["updated_at", "2022-07-18 10:29:29.031936"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (103.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 111ms (ActiveRecord: 103.6ms | Allocations: 5095)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started DELETE "/carts/15" for 127.0.0.1 at 2022-07-18 16:29:34 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"dl8RMEjVvCw/ety82zIC/PyUtKCxn9m6yfPSfDIP/4qzmSs4yy2OsdABeHrMSYRWydPIjZidMtK3B0O+005eww==", "id"=>"15"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (68.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 83ms (ActiveRecord: 69.9ms | Allocations: 5310)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:34 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 3263)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 8579)


Started DELETE "/carts/16" for 127.0.0.1 at 2022-07-18 16:29:36 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"CdbiWK2pnnDZe+wTWh2FqOXYBGnMWxemCqaINgPeYSTMENhQLlGs7TYASNVNZgMC0J94ROVZ/M50Uhn04p/AbQ==", "id"=>"16"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (93.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 103ms (ActiveRecord: 93.9ms | Allocations: 4884)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:36 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2802)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms | Allocations: 7540)


Started DELETE "/carts/17" for 127.0.0.1 at 2022-07-18 16:29:39 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Xrg52OTD6lAymj3pbIzAVlu6dtxPxhuDCrT5ZyLfvlCbfgPQZzvYzd3hmS9790b8bv0K8WbE8Ot0QGilw54fGQ==", "id"=>"17"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (86.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 100ms (ActiveRecord: 88.0ms | Allocations: 4888)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:39 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2638)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.1ms | Allocations: 7524)


Started DELETE "/carts/21" for 127.0.0.1 at 2022-07-18 16:29:41 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"h5919SFzgUP7blz244Dl+HH+zV9i0jmNLNZtYaPY8fhCWU/9oouz3hQV+DD0+2NSRLmxckvQ0uVSIvyjQplQsQ==", "id"=>"21"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (71.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 85ms (ActiveRecord: 72.9ms | Allocations: 4880)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:41 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2474)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms | Allocations: 7215)


Started GET "/carts/29" for 127.0.0.1 at 2022-07-18 16:29:44 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.3ms | Allocations: 6345)


Started DELETE "/carts/18" for 127.0.0.1 at 2022-07-18 16:29:49 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"jiHI4+gvHgGxjUE4YP5ZdImJ/v1W8yGtGZ6f9Bdef2dL5/Lra9csnF725f53hd/evM6C0H/xysVnag429h/eLg==", "id"=>"18"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (78.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 89ms (ActiveRecord: 79.1ms | Allocations: 4883)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:49 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2318)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.1ms | Allocations: 7038)


Started DELETE "/carts/19" for 127.0.0.1 at 2022-07-18 16:29:50 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Z4E9tkfLMTw2pP/TDMC1UHLZVzR62l4UvmjSIPtdhYuiRwe+xDMDodnfWxUbuzP6R54rGVPYtXzAnEPiGhwkwg==", "id"=>"19"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (85.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 96ms (ActiveRecord: 86.4ms | Allocations: 4882)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:51 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2146)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 21.6ms | ActiveRecord: 0.2ms | Allocations: 7037)


Started DELETE "/carts/22" for 127.0.0.1 at 2022-07-18 16:29:52 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VqXIRBn2G/R4e2haGPR4AqV3gpvXnLyMCsyxhjvnRcuTY/JMmg4paZcAzJwPj/6okDD+tv6eV+R0OCBE2qbkgg==", "id"=>"22"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (87.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 96ms (ActiveRecord: 88.1ms | Allocations: 4900)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:52 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1982)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 6864)


Started DELETE "/carts/20" for 127.0.0.1 at 2022-07-18 16:29:55 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"AxdiCzXMI19D/ucPJ7cvwOajtTsJQw6cq37GgK+QatrG0VgDtjQRwqyFQ8kwzKlq0+TJFiBB5fTVildCTtHLkw==", "id"=>"20"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 20]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (78.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 90ms (ActiveRecord: 79.6ms | Allocations: 4881)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:55 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1818)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.1ms | Allocations: 6537)


Started DELETE "/carts/23" for 127.0.0.1 at 2022-07-18 16:29:57 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"0m0wdHwQmBj+yhcyhVFvLmnnXsrzaeIfMVVvfGl0/bAXqwp8/+iqhRGxs/SSKumEXKAi59prCXdPof6+iDVc+Q==", "id"=>"23"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 23]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (93.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 104ms (ActiveRecord: 94.1ms | Allocations: 4880)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:57 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1654)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.2ms | Allocations: 6375)


Started DELETE "/carts/24" for 127.0.0.1 at 2022-07-18 16:29:59 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"7agtA95UsT28Df8no74VFotHJYR763vvImhPQ/oPONQobhcLXayDoFN2W+G0xZO8vgBZqVLpkIdcnN6BG06ZnQ==", "id"=>"24"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 24]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (156.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 170ms (ActiveRecord: 157.8ms | Allocations: 4989)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:29:59 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1490)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.1ms | Allocations: 6223)


Started DELETE "/carts/25" for 127.0.0.1 at 2022-07-18 16:30:01 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"NUO8Cd5F9F4FAMz0EkGABSYeuITD19gbC5OjDQo/3y7whYYBXb3Gw+p7aDIFOgavE1nEqerVM3N1ZzLP635+Zw==", "id"=>"25"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (68.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 79ms (ActiveRecord: 69.5ms | Allocations: 4884)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:01 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.4ms | ActiveRecord: 0.3ms | Allocations: 6045)


Started DELETE "/carts/26" for 127.0.0.1 at 2022-07-18 16:30:03 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"nXDHPT+XOQVP1c8HtDFwpzyUYCWClGL52Auh8G1ZoGdYtv01vG8LmKCua8GjSvYNCdMcCKuWiZGm/zAyjBgBLg==", "id"=>"26"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (91.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 101ms (ActiveRecord: 92.0ms | Allocations: 4882)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:03 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.1ms | Allocations: 6031)


Started DELETE "/carts/27" for 127.0.0.1 at 2022-07-18 16:30:05 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"IDoUjk3lJdvvqJohsIC3vnx3/JsSn9I6+rqvv8+Q4inl/C6Gzh0XRgDTPuen+zEUSTCAtjudOVKETj59LtFDYA==", "id"=>"27"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 27]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 27]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (81.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 94ms (ActiveRecord: 82.8ms | Allocations: 4892)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:05 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.1ms | Allocations: 5734)


Started DELETE "/carts/28" for 127.0.0.1 at 2022-07-18 16:30:07 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"y/GgBBbflKq5KBYL/VpxDHgjM+KNkX9ifqxdsvc7SQwON5oMlSemN1ZTss3qIfemTWRPz6STlAoAWMxwFnroRQ==", "id"=>"28"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 28]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (98.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 113ms (ActiveRecord: 99.4ms | Allocations: 5042)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:07 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 5550)


Started DELETE "/carts/29" for 127.0.0.1 at 2022-07-18 16:30:09 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"z0SPSA1apI4LfBNaidvqOemn/K3Mo15piNbD18eoOSUKgrVAjqKWE+QHt5yeoGyT3OCAgOWhtQH2IlIVJumYbA==", "id"=>"29"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 29]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (90.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 99ms (ActiveRecord: 91.4ms | Allocations: 4892)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:10 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.1ms | Allocations: 5547)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:14 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 667)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.1ms | Allocations: 5375)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:15 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 667)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.1ms | Allocations: 5386)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:52 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 893)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.3ms | Allocations: 6584)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 16:30:53 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 673)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.1ms | Allocations: 5388)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:30:59 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1428)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.2ms | Allocations: 6742)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:31:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"BRLwtpcHR1RVcxJS3ITINXTe5pon2vqdgIH7MKG7dsM2qkXPPwAyvjEGmzRcxAiZ6yckYd7PNEJw3qZwqImR/A==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:31:00.764833"], ["updated_at", "2022-07-18 10:31:00.764833"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (108.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 116ms (ActiveRecord: 109.3ms | Allocations: 5141)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:32:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"kK2XP3S4RHTYevnbqlfa/NbIOvz9DetuphagIwWsXT5Va60390B26TcBXR29LFxW449G0dQPAAbY4jHh5O38dw==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:32:00.794401"], ["updated_at", "2022-07-18 10:32:00.794401"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (101.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:31:in `create'
Completed 400 Bad Request in 109ms (ActiveRecord: 102.2ms | Allocations: 5108)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:80:in `line_item_params'
app/controllers/line_items_controller.rb:33:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-18 16:36:48 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.5ms | Allocations: 7466)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:36:49 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"kJrv1JULHJ3ctK7ael5dI5Klln3J4SDOMVg6u0Ox1J9VXNXcFvMuADPPChxtJduJp+LqUODjy6ZPrKt5ovB11g==", "product_id"=>"5"}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 10:36:49.832616"], ["updated_at", "2022-07-18 10:36:49.832616"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (83.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 32], ["created_at", "2022-07-18 10:36:49.933744"], ["updated_at", "2022-07-18 10:36:49.933744"]]
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
  [1m[35m (106.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/carts/32
Completed 200 OK in 219ms (ActiveRecord: 191.5ms | Allocations: 20970)


Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 16:36:50 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"32"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2079)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 20.3ms | ActiveRecord: 1.1ms | Allocations: 7868)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:38:20 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 5681)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 16:38:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Mooh63Mst6ldXTyaUID2su2iE6TTlLZ5/4MwfMrPSWX3TBvj8NSFNLImmFxH+3AY2OVvifqWXRGBd6G+K47oLA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 32], ["created_at", "2022-07-18 10:38:23.956386"], ["updated_at", "2022-07-18 10:38:23.956386"]]
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
  [1m[35m (60.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/carts/32
Completed 200 OK in 69ms (ActiveRecord: 61.2ms | Allocations: 5022)


Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 16:38:24 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"32"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2301)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.8ms | Allocations: 7593)


Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 16:39:20 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"32"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 18.0ms | Allocations: 13705)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 36.3ms | ActiveRecord: 2.0ms | Allocations: 22381)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:39:34 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1069)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.8ms | Allocations: 5948)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 16:39:37 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Dk30+dScoMiFkdLQvZLezZZIUGNCaRO8kSBvHVpsUm3Li87xV2SSVWrqdhaq6Vhnow8sTmtr+NTv1P7fuy3zJA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 32], ["created_at", "2022-07-18 10:39:37.676611"], ["updated_at", "2022-07-18 10:39:37.676611"]]
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
  [1m[35m (90.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/carts/32
Completed 200 OK in 100ms (ActiveRecord: 90.6ms | Allocations: 5359)


Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 16:39:37 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"32"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 3070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 22.0ms | ActiveRecord: 1.2ms | Allocations: 8355)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:44:24 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 15.9ms | ActiveRecord: 1.0ms | Allocations: 7457)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:44:26 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 5676)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 16:44:31 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"OJezDl2+D2i7W/e9WMzP3ABmUzftcfPfWoA/eW1k1Vj9UYkG3kY99VQgU3tPt0l2NSEvGsRzGLckdK67jCV0EQ==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 32], ["created_at", "2022-07-18 10:44:31.217991"], ["updated_at", "2022-07-18 10:44:31.217991"]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (59.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/32
Completed 200 OK in 115ms (ActiveRecord: 63.5ms | Allocations: 17698)


Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 16:44:31 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"32"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 4145)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 0.9ms | Allocations: 9645)


Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 16:57:37 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"32"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 14.1ms | Allocations: 3843)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 24.5ms | ActiveRecord: 1.6ms | Allocations: 9137)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:57:39 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.8ms | ActiveRecord: 0.2ms | Allocations: 5693)


Started GET "/" for 127.0.0.1 at 2022-07-18 16:57:40 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 5683)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 16:57:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"spyu7kr9S7DALM52gkdbDK5vnGjXOJj4SdDlLMI6g6F3WpTmyQV5LS9XarCVPN2mmyjgRf46c5A3JHTuI3si6A==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 32], ["created_at", "2022-07-18 10:57:43.016542"], ["updated_at", "2022-07-18 10:57:43.016542"]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (60.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/32
Completed 200 OK in 69ms (ActiveRecord: 61.2ms | Allocations: 5050)


Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 16:57:43 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"32"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 12.1ms | Allocations: 4485)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.9ms | Allocations: 9768)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20220718111831)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "line_items" ADD "quantity" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220718111831"]]
  [1m[35m (60.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 17:34:52 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.5.1) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.5.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (15.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (183.7ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (219.7ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (219.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (238.0ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (249.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (237.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (221.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (219.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (184.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (244.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (139.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (164.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (153.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (191.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (233.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (215.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (80.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718111831)[0m
  [1m[35m (126.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718111831)[0m
  [1m[35m (147.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149);

[0m
  [1m[35m (168.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149);

[0m
  [1m[35m (135.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (179.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 11:35:23.516901"], ["updated_at", "2022-07-18 11:35:23.516901"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 11:35:23.541121"], ["updated_at", "2022-07-18 11:35:23.541121"]]
  [1m[35m (168.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "f457ce8569e8fda11299f26fb471052385d30d5a"], ["created_at", "2022-07-18 11:35:23.693689"], ["updated_at", "2022-07-18 11:35:23.693689"]]
  [1m[35m (207.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "f457ce8569e8fda11299f26fb471052385d30d5a"], ["created_at", "2022-07-18 11:35:23.760662"], ["updated_at", "2022-07-18 11:35:23.760662"]]
  [1m[35m (183.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (150.9ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/carts/32" for 127.0.0.1 at 2022-07-18 17:35:56 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.5.1) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.5.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
Started PUT "/__web_console/repl_sessions/49ce1e31090e4c7bc139a888e14d1260" for 127.0.0.1 at 2022-07-18 17:37:29 +0600
Started PUT "/__web_console/repl_sessions/49ce1e31090e4c7bc139a888e14d1260" for 127.0.0.1 at 2022-07-18 17:37:31 +0600
Started GET "/" for 127.0.0.1 at 2022-07-18 17:38:01 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.5.1) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.5.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for 127.0.0.1 at 2022-07-18 17:38:05 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
  
NameError (uninitialized constant CombineItemsInCart):
  
activesupport (6.0.5.1) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.5.1) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.5.1) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.5.1) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.5.1) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.5.1) lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
activerecord (6.0.5.1) lib/active_record/migration.rb:1011:in `load_migration'
activerecord (6.0.5.1) lib/active_record/migration.rb:1006:in `migration'
activerecord (6.0.5.1) lib/active_record/migration.rb:1002:in `disable_ddl_transaction'
activerecord (6.0.5.1) lib/active_record/migration.rb:1368:in `use_transaction?'
activerecord (6.0.5.1) lib/active_record/migration.rb:1315:in `rescue in execute_migration_in_transaction'
activerecord (6.0.5.1) lib/active_record/migration.rb:1303:in `execute_migration_in_transaction'
activerecord (6.0.5.1) lib/active_record/migration.rb:1281:in `block in migrate_without_lock'
activerecord (6.0.5.1) lib/active_record/migration.rb:1280:in `each'
activerecord (6.0.5.1) lib/active_record/migration.rb:1280:in `migrate_without_lock'
activerecord (6.0.5.1) lib/active_record/migration.rb:1231:in `migrate'
activerecord (6.0.5.1) lib/active_record/migration.rb:1061:in `up'
activerecord (6.0.5.1) lib/active_record/migration.rb:1036:in `migrate'
activerecord (6.0.5.1) lib/active_record/tasks/database_tasks.rb:238:in `migrate'
activerecord (6.0.5.1) lib/active_record/migration.rb:135:in `block in <class:PendingMigrationError>'
activesupport (6.0.5.1) lib/active_support/actionable_error.rb:28:in `dispatch'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:20:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/3b0fbd3d5e1b5f76028c26eaa4bdd5d3/trace" for 127.0.0.1 at 2022-07-18 17:38:35 +0600
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220718113004"]]
  [1m[35m (73.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/rails/actions" for 127.0.0.1 at 2022-07-18 17:44:23 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2022-07-18 17:44:23 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (97.5ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (85.6ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (87.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (87.6ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (87.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (76.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (96.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (110.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (81.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (274.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (81.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 11:44:30.311016"], ["updated_at", "2022-07-18 11:44:30.311016"]]
  [1m[35m (70.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-18 11:44:30.389998"], ["key", "environment"]]
  [1m[35m (68.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "831bd8180d69f43efe3c42be9df6b3dd97fe3d2a"], ["created_at", "2022-07-18 11:44:30.468210"], ["updated_at", "2022-07-18 11:44:30.468210"]]
  [1m[35m (53.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.6ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.4ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.2ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 57.1ms | Allocations: 18476)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 64.4ms | ActiveRecord: 1.1ms | Allocations: 27555)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:44:32 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"9zT0X4jFl1sFwxSwhcymWEr2YpND+zKQ5DS024Ad4wwy8s5XCz2lxuq4sHaStyDyf7Eevmr52fiawCUZYVxCRQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 55ms (ActiveRecord: 2.1ms | Allocations: 13820)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 17:44:36 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"9zT0X4jFl1sFwxSwhcymWEr2YpND+zKQ5DS024Ad4wwy8s5XCz2lxuq4sHaStyDyf7Eevmr52fiawCUZYVxCRQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2995)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 17:44:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"9zT0X4jFl1sFwxSwhcymWEr2YpND+zKQ5DS024Ad4wwy8s5XCz2lxuq4sHaStyDyf7Eevmr52fiawCUZYVxCRQ==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2996)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 17:44:47 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1478)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.3ms | Allocations: 6841)


Started GET "/carts/30" for 127.0.0.1 at 2022-07-18 17:44:50 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1150)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 38.1ms | ActiveRecord: 0.8ms | Allocations: 6555)


Started GET "/" for 127.0.0.1 at 2022-07-18 17:44:55 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 952)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.2ms | Allocations: 5683)


Started GET "/" for 127.0.0.1 at 2022-07-18 17:44:56 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 5687)


Started GET "/" for 127.0.0.1 at 2022-07-18 17:44:56 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.4ms | Allocations: 5680)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:44:58 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"JcQ6lDUEyDpU4pDMSed2PguQSkFmhkGfJ4T8cgn/gmrgAgCctvz6p7uZNApenPCUPtc2bE+EqvdZcG2w6L4jIw==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.8ms | Allocations: 2973)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 17:44:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"JcQ6lDUEyDpU4pDMSed2PguQSkFmhkGfJ4T8cgn/gmrgAgCctvz6p7uZNApenPCUPtc2bE+EqvdZcG2w6L4jIw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2971)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-18 17:45:26 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 5686)


Started GET "/" for 127.0.0.1 at 2022-07-18 17:45:29 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.3ms | Allocations: 5686)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:45:31 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3010)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 17:45:34 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3007)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 17:45:35 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3007)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-18 17:46:40 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1071)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 7.6ms | ActiveRecord: 0.6ms | Allocations: 7472)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:46:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8kqoyUDLO6AdHvdnLx8rKqO/iahv+GAUjA8l1QuTBE43jJLBwzMJPfJlU6E4ZK2Alvj1hUb6i3zy+7QX6tKlBw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.7ms | Allocations: 15769)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 17:46:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8kqoyUDLO6AdHvdnLx8rKqO/iahv+GAUjA8l1QuTBE43jJLBwzMJPfJlU6E4ZK2Alvj1hUb6i3zy+7QX6tKlBw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2963)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 17:46:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8kqoyUDLO6AdHvdnLx8rKqO/iahv+GAUjA8l1QuTBE43jJLBwzMJPfJlU6E4ZK2Alvj1hUb6i3zy+7QX6tKlBw==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2963)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-18 17:46:49 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 37.9ms | ActiveRecord: 0.4ms | Allocations: 5682)


Started GET "/" for 127.0.0.1 at 2022-07-18 17:46:55 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 0.8ms | Allocations: 7489)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:46:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8cCvwTzrltxvgHlAnJb5m243vHejK70MkHkVDyp781k0BpXJvxOkQYD73YaL7X8xW3DAWoopVmTujYTNyzpSEA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.9ms | Allocations: 15771)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 17:46:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8cCvwTzrltxvgHlAnJb5m243vHejK70MkHkVDyp781k0BpXJvxOkQYD73YaL7X8xW3DAWoopVmTujYTNyzpSEA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2967)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/products" for 127.0.0.1 at 2022-07-18 17:47:34 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3684)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.2ms | Allocations: 8896)


Started GET "/" for 127.0.0.1 at 2022-07-18 17:47:43 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.4ms | Allocations: 5687)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:47:49 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"2zK4J+pNQgGYSSvATtq4AxpwCRPt11tVzudNCqo5d7Ae9IIvabVwnHcyjwZZoT6pLzd1PsTVsD2wE9zIS3jW+Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2974)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-18 17:57:31 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1067)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 20.0ms | ActiveRecord: 0.3ms | Allocations: 7246)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:57:33 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"mT2z0x8jG99cTuiAR0Kx4ji2XJyQdmg4XfloBA/+UHBc+4nbnNspQrM1TEZQOTdIDfEgsbl0g1AjDfnG7r/xOQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.6ms | Allocations: 15025)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 17:57:42 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1239)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.3ms | Allocations: 6176)


Started GET "/carts/31" for 127.0.0.1 at 2022-07-18 17:57:46 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.5ms | Allocations: 6223)


Started DELETE "/carts/30" for 127.0.0.1 at 2022-07-18 17:57:52 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"lIiYHFuRFuCFeRVSXYgT8TZvDoHrJioy0QxGoXJJ6kpRTqIU2GkkfWoCsZRK85VbAyhyrMIkwVqv+NdjkwhLAw==", "id"=>"30"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 30]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (242.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 256ms (ActiveRecord: 243.6ms | Allocations: 5032)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 17:57:52 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 5730)


Started DELETE "/carts/31" for 127.0.0.1 at 2022-07-18 17:57:54 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"B5kOt5goyyoja9P6FlFxO539BSPRstP9XbPpk7LHQ0vCXzS/G9D5t8wQdzwBKveRqLp5DviwOJUjR3hRU4biAg==", "id"=>"31"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 31]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (102.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 112ms (ActiveRecord: 104.0ms | Allocations: 4880)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 17:57:54 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.1ms | Allocations: 5572)


Started DELETE "/carts/32" for 127.0.0.1 at 2022-07-18 17:57:57 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UbQwmIHadRttFlwkIMurnOeRcK8dm1EkXWlxthEA4O+UcgqQAiJHhoJt+OI3sC020tYMgjSZukwjneB08EFBpg==", "id"=>"32"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 32]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (143.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 163ms (ActiveRecord: 145.3ms | Allocations: 9867)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 17:57:57 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 5420)


Started GET "/" for 127.0.0.1 at 2022-07-18 17:57:59 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.3ms | Allocations: 5668)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:58:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 11:58:00.713927"], ["updated_at", "2022-07-18 11:58:00.713927"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (87.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 33], ["created_at", "2022-07-18 11:58:00.821155"], ["updated_at", "2022-07-18 11:58:00.821155"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (73.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/33
Completed 200 OK in 188ms (ActiveRecord: 162.8ms | Allocations: 10186)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 17:58:00 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1701)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 0.5ms | Allocations: 7002)


Started GET "/" for 127.0.0.1 at 2022-07-18 17:58:09 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.3ms | Allocations: 5689)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 17:58:12 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 3009)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 17:58:18 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 33], ["created_at", "2022-07-18 11:58:18.474521"], ["updated_at", "2022-07-18 11:58:18.474521"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (93.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/33
Completed 200 OK in 114ms (ActiveRecord: 95.3ms | Allocations: 5923)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 17:58:18 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.6ms | Allocations: 7587)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:00:50 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1548)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.4ms | Allocations: 8753)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:00:52 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 5689)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:00:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"rZ0b9IILU97csl1dp/HhfxxW7kfzBe/t17fvtoU7b2JoWyH8AfNhQzPJ+ZuwimfVKRGSatoHBIWpQ350ZHrOKw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.9ms | Allocations: 15820)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:00:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"rZ0b9IILU97csl1dp/HhfxxW7kfzBe/t17fvtoU7b2JoWyH8AfNhQzPJ+ZuwimfVKRGSatoHBIWpQ350ZHrOKw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2961)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:00:57 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"rZ0b9IILU97csl1dp/HhfxxW7kfzBe/t17fvtoU7b2JoWyH8AfNhQzPJ+ZuwimfVKRGSatoHBIWpQ350ZHrOKw==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 2961)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:01:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"rZ0b9IILU97csl1dp/HhfxxW7kfzBe/t17fvtoU7b2JoWyH8AfNhQzPJ+ZuwimfVKRGSatoHBIWpQ350ZHrOKw==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 33], ["created_at", "2022-07-18 12:01:00.266643"], ["updated_at", "2022-07-18 12:01:00.266643"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (74.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/33
Completed 200 OK in 85ms (ActiveRecord: 75.1ms | Allocations: 6510)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:01:00 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3783)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 0.8ms | Allocations: 9708)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:01:29 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3265)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.8ms | Allocations: 9505)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:02:08 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 25.0ms | Allocations: 15335)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 30.1ms | ActiveRecord: 2.4ms | Allocations: 24862)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:02:10 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1545)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.2ms | Allocations: 6863)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:02:12 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.8ms | Allocations: 3210)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:02:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.4ms | Allocations: 2999)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:02:15 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2999)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:02:15 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2999)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:02:16 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 2999)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:02:17 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2999)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-18 18:02:20 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.3ms | Allocations: 5686)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:02:21 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.2ms | Allocations: 5689)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:02:22 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iohmGN4Q4L9dQ2QZV2ssk4t/PdUM7IvrRzOQNo4xqrBPTlwQXejSIrI4wN9AEKo5vjhB+CXuYIM5xwH0b3AL+Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2968)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:02:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iohmGN4Q4L9dQ2QZV2ssk4t/PdUM7IvrRzOQNo4xqrBPTlwQXejSIrI4wN9AEKo5vjhB+CXuYIM5xwH0b3AL+Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2967)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:02:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iohmGN4Q4L9dQ2QZV2ssk4t/PdUM7IvrRzOQNo4xqrBPTlwQXejSIrI4wN9AEKo5vjhB+CXuYIM5xwH0b3AL+Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.8ms | Allocations: 2966)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:02:23 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iohmGN4Q4L9dQ2QZV2ssk4t/PdUM7IvrRzOQNo4xqrBPTlwQXejSIrI4wN9AEKo5vjhB+CXuYIM5xwH0b3AL+Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.2ms | Allocations: 4681)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:02:24 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iohmGN4Q4L9dQ2QZV2ssk4t/PdUM7IvrRzOQNo4xqrBPTlwQXejSIrI4wN9AEKo5vjhB+CXuYIM5xwH0b3AL+Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 2967)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:02:24 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iohmGN4Q4L9dQ2QZV2ssk4t/PdUM7IvrRzOQNo4xqrBPTlwQXejSIrI4wN9AEKo5vjhB+CXuYIM5xwH0b3AL+Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.6ms | Allocations: 4425)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:02:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iohmGN4Q4L9dQ2QZV2ssk4t/PdUM7IvrRzOQNo4xqrBPTlwQXejSIrI4wN9AEKo5vjhB+CXuYIM5xwH0b3AL+Q==", "product_id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 2967)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:02:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iohmGN4Q4L9dQ2QZV2ssk4t/PdUM7IvrRzOQNo4xqrBPTlwQXejSIrI4wN9AEKo5vjhB+CXuYIM5xwH0b3AL+Q==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.8ms | Allocations: 3544)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:02:33 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1130)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.3ms | Allocations: 5982)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:02:37 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.2ms | ActiveRecord: 0.9ms | Allocations: 8341)


Started GET "/carts/33/edit" for 127.0.0.1 at 2022-07-18 18:02:46 +0600
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.3ms | Allocations: 811)
  Rendered carts/edit.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1227)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.2ms | ActiveRecord: 0.1ms | Allocations: 6634)


Started PATCH "/carts/33" for 127.0.0.1 at 2022-07-18 18:02:48 +0600
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"PBR3kUnQINcD71soQaVOxwOgK++r4SESXnzXihG1moKXWQPaMV9BoKEgKxbe1ncObbIl9oRzEiwdw6UGbc56ZQ==", "commit"=>"Update Cart", "id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
Redirected to http://localhost:3000/carts/33
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1209)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:02:48 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3074)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.5ms | Allocations: 8358)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:02:53 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.3ms | Allocations: 5690)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:05:00 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 7.6ms | ActiveRecord: 0.7ms | Allocations: 7460)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:05:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NviOpV6CJdIt2TQa9wX4oeDmbLF6wLl73zp0Rf6k1QHzPrSt3XoXT8KikNzgfn4L1aEQnFPCUhOhzuWHH+V0SA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.4ms | Allocations: 15767)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:05:02 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NviOpV6CJdIt2TQa9wX4oeDmbLF6wLl73zp0Rf6k1QHzPrSt3XoXT8KikNzgfn4L1aEQnFPCUhOhzuWHH+V0SA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2963)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:05:03 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NviOpV6CJdIt2TQa9wX4oeDmbLF6wLl73zp0Rf6k1QHzPrSt3XoXT8KikNzgfn4L1aEQnFPCUhOhzuWHH+V0SA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2963)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:05:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NviOpV6CJdIt2TQa9wX4oeDmbLF6wLl73zp0Rf6k1QHzPrSt3XoXT8KikNzgfn4L1aEQnFPCUhOhzuWHH+V0SA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2963)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:05:07 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NviOpV6CJdIt2TQa9wX4oeDmbLF6wLl73zp0Rf6k1QHzPrSt3XoXT8KikNzgfn4L1aEQnFPCUhOhzuWHH+V0SA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2963)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:05:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NviOpV6CJdIt2TQa9wX4oeDmbLF6wLl73zp0Rf6k1QHzPrSt3XoXT8KikNzgfn4L1aEQnFPCUhOhzuWHH+V0SA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2963)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:05:19 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 911)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 5844)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:05:23 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4032)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 0.8ms | Allocations: 9196)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:05:33 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 11.9ms | ActiveRecord: 0.8ms | Allocations: 8342)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:05:34 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.6ms | Allocations: 8328)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:05:37 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.3ms | Allocations: 5692)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:07:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"BRLwtpcHR1RVcxJS3ITINXTe5pon2vqdgIH7MKG7dsM2qkXPPwAyvjEGmzRcxAiZ6yckYd7PNEJw3qZwqImR/A==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3008)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-18 18:07:49 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 5692)


Started GET "/news" for 127.0.0.1 at 2022-07-18 18:07:51 +0600
  
ActionController::RoutingError (No route matches [GET] "/news"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2022-07-18 18:07:52 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.2ms | Allocations: 5680)


Started GET "/questions" for 127.0.0.1 at 2022-07-18 18:07:53 +0600
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2022-07-18 18:07:55 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 5686)


Started GET "/contact" for 127.0.0.1 at 2022-07-18 18:07:57 +0600
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2022-07-18 18:07:58 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 5696)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:08:06 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 831)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.2ms | Allocations: 5551)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:08:22 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 5685)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:08:27 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 16.7ms | ActiveRecord: 1.0ms | Allocations: 8332)


Started DELETE "/carts/33" for 127.0.0.1 at 2022-07-18 18:08:34 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"soHLZyWFfTlr58kMBIQuXoIPaUO0/wLKcHyF3kSsKel3R/Fvpn1PpIScbcoT/6j0t0gVbp396aIOiBQcpe2IoA==", "id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 33]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (89.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 105ms (ActiveRecord: 91.0ms | Allocations: 7849)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:08:34 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.1ms | Allocations: 5398)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:08:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:08:38.609636"], ["updated_at", "2022-07-18 12:08:38.609636"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (79.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 89ms (ActiveRecord: 80.0ms | Allocations: 6447)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:08:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:08:41.687029"], ["updated_at", "2022-07-18 12:08:41.687029"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (68.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 35], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 78ms (ActiveRecord: 69.4ms | Allocations: 6372)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:08:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:08:42.463840"], ["updated_at", "2022-07-18 12:08:42.463840"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (87.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 36], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 99ms (ActiveRecord: 89.1ms | Allocations: 6368)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:08:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:08:43.959709"], ["updated_at", "2022-07-18 12:08:43.959709"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (98.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 109ms (ActiveRecord: 99.5ms | Allocations: 6370)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:08:44 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:08:44.223111"], ["updated_at", "2022-07-18 12:08:44.223111"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (222.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 38], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 232ms (ActiveRecord: 223.2ms | Allocations: 6366)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:08:46 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1487)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.1ms | Allocations: 6221)


Started GET "/carts/34" for 127.0.0.1 at 2022-07-18 18:08:49 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"34"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 1.3ms | Allocations: 758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 6016)


Started GET "/carts/35" for 127.0.0.1 at 2022-07-18 18:08:52 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"35"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.3ms | Allocations: 6026)


Started DELETE "/carts/34" for 127.0.0.1 at 2022-07-18 18:08:55 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EboD/i2qThvepErIcqCQESzpDIHz5JxG0mWF6/AJEb/UfDn2rlJ8hjHf7g5l2xa7Ga5wrNrmdy6skRQpEUiw9g==", "id"=>"34"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (3.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 34]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (74.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 87ms (ActiveRecord: 77.6ms | Allocations: 4888)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:08:56 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 6055)


Started DELETE "/carts/35" for 127.0.0.1 at 2022-07-18 18:08:58 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"GwAKxA344vgcbgEJbYrPyU6nCO++BKZlunYlWO7NozXexjDMjgDQZfMVpc968Ulje+B0wpcGTQ3EgrSaD4wCfA==", "id"=>"35"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 35]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (127.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 142ms (ActiveRecord: 129.0ms | Allocations: 4892)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:08:58 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.2ms | Allocations: 5886)


Started DELETE "/carts/36" for 127.0.0.1 at 2022-07-18 18:09:00 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"SFYLHmi0qURcJnECFeFG9gKXiwbvEDiZROvHUGZUomiNkDEW60yb2bNd1cQCmsBcN9D3K8YS0/E6H1aShxUDIQ==", "id"=>"36"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 36]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.8ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 36]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (72.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 83ms (ActiveRecord: 73.3ms | Allocations: 4884)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:00 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.2ms | Allocations: 5736)


Started DELETE "/carts/37" for 127.0.0.1 at 2022-07-18 18:09:02 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"lOTPptSkf+0H45cgTP0JnHp5LBee6atDy/YgH9GGlVRRIvWuV1xNcOiYM+Zbho82Tz5QOrfrQCu1ArHdMMc0HQ==", "id"=>"37"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 37]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (142.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 152ms (ActiveRecord: 142.8ms | Allocations: 4974)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:02 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.1ms | Allocations: 5568)


Started DELETE "/carts/38" for 127.0.0.1 at 2022-07-18 18:09:04 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kAcw055VmWSyhd57vEvUlN6a4vfFT6tZIl8FaPNtPCBVwQrbHa2r+V3+er2rMFI+692e2uxNQDFcq5SqEiydaQ==", "id"=>"38"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 38]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 38]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (90.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 100ms (ActiveRecord: 91.3ms | Allocations: 4876)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:04 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.2ms | Allocations: 5414)


Started GET "/carts/new" for 127.0.0.1 at 2022-07-18 18:09:06 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 14.3ms | Allocations: 444)
  Rendered carts/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 664)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.0ms | Allocations: 5525)


Started POST "/carts" for 127.0.0.1 at 2022-07-18 18:09:07 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"egS+eRDV1xuJaxtY5njHK+KRG7YPotcPwNiWW4pjogu+Sz2v/DXBTk8hpQ4k8XvRiQDqV56Kc1sTCZaXuHMW2A==", "commit"=>"Create Cart"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:09:07.697179"], ["updated_at", "2022-07-18 12:09:07.697179"]]
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[35m (82.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/carts/39
Completed 302 Found in 91ms (ActiveRecord: 82.7ms | Allocations: 3707)


Started GET "/carts/39" for 127.0.0.1 at 2022-07-18 18:09:07 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 764)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 0.4ms | Allocations: 6209)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:09:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:09:11.262884"], ["updated_at", "2022-07-18 12:09:11.262884"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (383.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:09:11 +0600
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 40], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 394ms (ActiveRecord: 383.9ms | Allocations: 7052)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:09:11.761187"], ["updated_at", "2022-07-18 12:09:11.761187"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (82.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 41], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 94ms (ActiveRecord: 83.7ms | Allocations: 7728)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:09:12 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:09:12.474501"], ["updated_at", "2022-07-18 12:09:12.474501"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (64.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 42], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 83ms (ActiveRecord: 65.4ms | Allocations: 6358)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:09:12 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:09:12.842029"], ["updated_at", "2022-07-18 12:09:12.842029"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (87.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 43], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 99ms (ActiveRecord: 87.8ms | Allocations: 7439)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:09:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:09:13.790626"], ["updated_at", "2022-07-18 12:09:13.790626"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (93.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 44], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 113ms (ActiveRecord: 93.9ms | Allocations: 6360)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:09:14 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:09:14.029381"], ["updated_at", "2022-07-18 12:09:14.029381"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (97.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 45], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 400 Bad Request in 128ms (ActiveRecord: 97.9ms | Allocations: 6508)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:79:in `line_item_params'
app/controllers/line_items_controller.rb:31:in `create'
Started GET "/carts/39" for 127.0.0.1 at 2022-07-18 18:09:16 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 793)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 34.2ms | ActiveRecord: 0.6ms | Allocations: 6073)


Started GET "/carts/39" for 127.0.0.1 at 2022-07-18 18:09:17 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 15.7ms | ActiveRecord: 0.5ms | Allocations: 6040)


Started GET "/carts/33" for 127.0.0.1 at 2022-07-18 18:09:23 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
Completed 404 Not Found in 6ms (ActiveRecord: 0.1ms | Allocations: 1175)


  
ActiveRecord::RecordNotFound (Couldn't find Cart with 'id'=33):
  
app/controllers/carts_controller.rb:63:in `set_cart'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:30 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1838)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.3ms | Allocations: 6574)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:32 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1816)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 6540)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:32 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1816)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms | Allocations: 6540)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:33 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1816)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 6534)


Started DELETE "/carts/39" for 127.0.0.1 at 2022-07-18 18:09:35 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"bETD933bcdZ8hYvtw/Ubs5j7hA74HGSpCamepDaQuSSpgvn//iNDS5P+LyvUjp0Zrbz4I9Eej8F3XQ9m19EYbQ==", "id"=>"39"}
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 39]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (89.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 107ms (ActiveRecord: 91.4ms | Allocations: 4882)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:35 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1654)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.2ms | Allocations: 6383)


Started DELETE "/carts/40" for 127.0.0.1 at 2022-07-18 18:09:46 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pFc3dVu0XtKftgmvjeA7ay0cBS3rwYFjLGuy9lobSJJhkQ192ExsT3DNrWmam73BGFt5AMLDagtSnyM0u1rp2w==", "id"=>"40"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 40]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 40]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (105.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 121ms (ActiveRecord: 106.7ms | Allocations: 10131)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:46 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1571)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 6472)


Started DELETE "/carts/41" for 127.0.0.1 at 2022-07-18 18:09:48 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VoiOoej89HVZ3fzR65LQWk76YNNVPQmak6mKZ2IQYlSTTrSpawTG6LamWBf86Vbwe70c/nw/4vLtXRulg1HDHQ==", "id"=>"41"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 41]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 41]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (66.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 77ms (ActiveRecord: 66.8ms | Allocations: 4880)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:48 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.1ms | Allocations: 6059)


Started DELETE "/carts/42" for 127.0.0.1 at 2022-07-18 18:09:50 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"+JIewZE+AcyKWvqFbTH/T4At1Ys2qB6Q9t5TLVGj48E9VCTJEsYzUWUhXkN6SnnltWqpph+q9fiIKsLvsOJCiA==", "id"=>"42"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 42]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 42]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (82.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 93ms (ActiveRecord: 83.6ms | Allocations: 4892)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:50 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 6028)


Started DELETE "/carts/43" for 127.0.0.1 at 2022-07-18 18:09:52 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"hNsrSGgjynYeip4KCLEeEZBUaXfjiW6z0Djm1EZWEYNBHRFA69v46/HxOswfypi7pRMVWsqLhduuzHcWpxewyg==", "id"=>"43"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 43]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 43]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (87.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 98ms (ActiveRecord: 88.5ms | Allocations: 4888)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:52 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1150)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.3ms | Allocations: 5879)


Started DELETE "/carts/44" for 127.0.0.1 at 2022-07-18 18:09:54 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ltf0ez7BSgLmaksK2wzbAQLI77nVxVZwfjCNOYf4QWVTEc5zvTl4nwkR78zMd12rN4+TlPzHvRgAxBz7ZrngLA==", "id"=>"44"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 44]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 44]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (85.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 110ms (ActiveRecord: 87.7ms | Allocations: 5044)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:54 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms | Allocations: 5568)


Started DELETE "/carts/45" for 127.0.0.1 at 2022-07-18 18:09:56 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"+8XlRAfLptBhq3Hv03PF9aKrcbIgiNhqWKwErFgC9Sk+A99MhDOUTY7Q1SnECENfl+wNnwmKMwImWJVuuUNUYA==", "id"=>"45"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 45]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 45]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (71.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 82ms (ActiveRecord: 72.5ms | Allocations: 4896)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:09:56 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms | Allocations: 5388)


Started GET "/carts/new" for 127.0.0.1 at 2022-07-18 18:09:57 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.0ms | Allocations: 419)
  Rendered carts/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 521)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 5230)


Started POST "/carts" for 127.0.0.1 at 2022-07-18 18:09:58 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"XBzdZflO0QdezxPpbTL/jgpo3F9Dg6d1hjWLKnFLKViYU16zFa7HUpiFrb+vu0N0YfktvtKrAyFV5IvmQ1udiw==", "commit"=>"Create Cart"}
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:09:58.301029"], ["updated_at", "2022-07-18 12:09:58.301029"]]
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
  [1m[35m (79.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/carts/46
Completed 302 Found in 90ms (ActiveRecord: 81.6ms | Allocations: 3783)


Started GET "/carts/46" for 127.0.0.1 at 2022-07-18 18:09:58 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"46"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 764)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 6073)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:10:00 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (10.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 1068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 25.6ms | ActiveRecord: 3.5ms | Allocations: 7201)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:10:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:10:01.744017"], ["updated_at", "2022-07-18 12:10:01.744017"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (78.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 47], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 47], ["created_at", "2022-07-18 12:10:01.870590"], ["updated_at", "2022-07-18 12:10:01.870590"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (100.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:10:01 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Redirected to http://localhost:3000/carts/47
Completed 200 OK in 248ms (ActiveRecord: 182.1ms | Allocations: 20470)


Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:10:01.999697"], ["updated_at", "2022-07-18 12:10:01.999697"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (72.5ms)[0m  [1m[36mcommit transaction[0m
Started GET "/carts/47" for 127.0.0.1 at 2022-07-18 18:10:02 +0600
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Processing by CartsController#show as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  Parameters: {"id"=>"47"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 48], ["created_at", "2022-07-18 12:10:02.095450"], ["updated_at", "2022-07-18 12:10:02.095450"]]
  Rendering carts/show.html.erb within layouts/application
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (87.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/views/carts/show.html.erb:9
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendered carts/show.html.erb within layouts/application (Duration: 92.1ms | Allocations: 3054)
Redirected to http://localhost:3000/carts/48
Completed 200 OK in 223ms (ActiveRecord: 161.7ms | Allocations: 13965)


[Webpacker] Everything's up-to-date. Nothing to do
Started GET "/carts/48" for 127.0.0.1 at 2022-07-18 18:10:02 +0600
Completed 200 OK in 110ms (Views: 106.1ms | ActiveRecord: 0.4ms | Allocations: 10863)


Processing by CartsController#show as HTML
  Parameters: {"id"=>"48"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1569)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.5ms | Allocations: 6846)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:10:08 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7zCiJxCKirRzeINVQL+GiikITsh7HIhzu+Wmw8a+pJ4q9pgvk3K4KZwDJ5NXxAAgHE8y5VIeYxvFETcBJ/8F1w==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 48], ["created_at", "2022-07-18 12:10:08.534966"], ["updated_at", "2022-07-18 12:10:08.534966"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (80.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/48
Completed 200 OK in 93ms (ActiveRecord: 81.5ms | Allocations: 5870)


Started GET "/carts/48" for 127.0.0.1 at 2022-07-18 18:10:08 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"48"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2457)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.6ms | Allocations: 7744)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:10:12 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.3ms | Allocations: 5683)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:10:15 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 48], ["created_at", "2022-07-18 12:10:15.576848"], ["updated_at", "2022-07-18 12:10:15.576848"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (64.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/48
Completed 200 OK in 83ms (ActiveRecord: 67.0ms | Allocations: 5918)


Started GET "/carts/48" for 127.0.0.1 at 2022-07-18 18:10:15 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"48"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 12.1ms | Allocations: 3073)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 24.0ms | ActiveRecord: 1.4ms | Allocations: 8509)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:10:22 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 20.7ms | ActiveRecord: 0.4ms | Allocations: 5685)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:10:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3011)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:10:25 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3011)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:10:25 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 3007)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:10:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 3009)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/carts/48" for 127.0.0.1 at 2022-07-18 18:10:33 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"48"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.6ms | Allocations: 8349)


Started GET "/carts/48" for 127.0.0.1 at 2022-07-18 18:10:34 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"48"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 11.2ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 22.5ms | ActiveRecord: 1.2ms | Allocations: 8332)


Started GET "/carts/48" for 127.0.0.1 at 2022-07-18 18:10:35 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"48"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.8ms | Allocations: 8332)


Started GET "/carts/48" for 127.0.0.1 at 2022-07-18 18:10:35 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"48"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.7ms | Allocations: 8340)


Started GET "/carts/46" for 127.0.0.1 at 2022-07-18 18:10:37 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"46"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.3ms | Allocations: 6032)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:10:41 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1178)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms | Allocations: 5886)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:10:42 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1159)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 5881)


Started GET "/carts/46" for 127.0.0.1 at 2022-07-18 18:10:43 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"46"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.3ms | Allocations: 6028)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:10:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3004)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:10:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 3001)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:10:51 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.8ms | Allocations: 3003)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:10:51 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3804)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:10:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3003)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:10:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3001)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started DELETE "/carts/46" for 127.0.0.1 at 2022-07-18 18:10:56 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"2zqGZGTfHIDo+uRGfQZGUCcPMnVzX388o0ch6OSWPY4e/Lxs5ycuHQeBQIBqfcD6EkhOWFpdlFTds7AqBdecxw==", "id"=>"46"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (1.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 46]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (94.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 106ms (ActiveRecord: 96.0ms | Allocations: 4893)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:10:56 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 5746)


Started DELETE "/carts/47" for 127.0.0.1 at 2022-07-18 18:10:58 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TIq1vZ0nsmkOR1l3n1Re9e6um/fIQgPLD/8qd+K9PgaJTI+1Ht+A9OE8/bGIL9hf2+nn2uFA6KNxC7u1A/yfTw==", "id"=>"47"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 47]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (115.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 128ms (ActiveRecord: 116.4ms | Allocations: 5956)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:10:58 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.1ms | Allocations: 5576)


Started DELETE "/carts/48" for 127.0.0.1 at 2022-07-18 18:11:00 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"99eUBzn7ejO7HxF2aAzQBiNaVUvz4DL0N4W80SQoEUUyEa4PugNIrlRktbB/d1asFh0pZtri2ZxJcS0TxWmwDA==", "id"=>"48"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 48]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (122.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 137ms (ActiveRecord: 123.9ms | Allocations: 7888)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:11:00 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 669)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.1ms | Allocations: 5408)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:11:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-18 12:11:04.201501"], ["updated_at", "2022-07-18 12:11:04.201501"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (71.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 49], ["created_at", "2022-07-18 12:11:04.280553"], ["updated_at", "2022-07-18 12:11:04.280553"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (86.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/49
Completed 200 OK in 173ms (ActiveRecord: 159.1ms | Allocations: 9711)


Started GET "/carts/49" for 127.0.0.1 at 2022-07-18 18:11:04 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1534)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.4ms | Allocations: 6829)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:11:09 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.2ms | Allocations: 5693)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:11:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 49], ["created_at", "2022-07-18 12:11:11.228523"], ["updated_at", "2022-07-18 12:11:11.228523"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (134.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/49
Completed 200 OK in 145ms (ActiveRecord: 135.3ms | Allocations: 5896)


Started GET "/carts/49" for 127.0.0.1 at 2022-07-18 18:11:11 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.3ms | ActiveRecord: 1.0ms | Allocations: 7595)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:11:13 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 5683)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:11:17 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 49], ["created_at", "2022-07-18 12:11:17.898885"], ["updated_at", "2022-07-18 12:11:17.898885"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (140.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/49
Completed 200 OK in 150ms (ActiveRecord: 141.2ms | Allocations: 5990)


Started GET "/carts/49" for 127.0.0.1 at 2022-07-18 18:11:18 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3073)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 22.3ms | ActiveRecord: 1.3ms | Allocations: 8352)


Started GET "/" for 127.0.0.1 at 2022-07-18 18:11:35 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.2ms | Allocations: 5677)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:11:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3010)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:11:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3007)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:11:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3009)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:11:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3009)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:11:40 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 3009)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:11:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 3007)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:11:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3009)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:11:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3007)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:11:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3013)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:11:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.7ms | Allocations: 3007)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:11:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 3009)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:11:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 3007)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:11:55 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 830)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.1ms | Allocations: 5558)


Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:11:56 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 831)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.1ms | Allocations: 5557)


Started GET "/carts/49" for 127.0.0.1 at 2022-07-18 18:11:58 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.2ms | ActiveRecord: 1.1ms | Allocations: 8336)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-18 18:12:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IoBD7xpXsQg0QStJ0FVUYSCrvHDVciBFgO97w3+oyKUROPaWslDE4lA0oi9QFZTNv1J+iyxn7ppwsCaDdpovmg==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 3002)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-18 18:12:10 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/K6I0HWT9g8jxgo9fqUkzdLinzcRXHvdoTGJgBqaTC3PFj2p3ZSD5Uezg1v+5eRhTRtdzOhJtQJRbtTAE6irEg==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms | Allocations: 3002)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-18 18:12:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqrCPUlC0LKTwZqYdGld6dnOVRchI1tRWiuEqKGoJ9v1EndE4UWlWPe0E/70KZ1FRjeX7Ng2lY6qdNnoqJrA5A==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 3001)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/carts" for 127.0.0.1 at 2022-07-18 18:12:13 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 830)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.1ms | Allocations: 5550)


Started GET "/carts/49" for 127.0.0.1 at 2022-07-18 18:12:15 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 11.7ms | Allocations: 3068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 22.0ms | ActiveRecord: 1.3ms | Allocations: 8340)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (193.8ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (250.2ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (211.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (291.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (294.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (281.6ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (251.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (262.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (232.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (176.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (5.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (143.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (223.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (6.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (220.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (195.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (278.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (188.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (148.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (188.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (154.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (168.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (219.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 12:21:03.055286"], ["updated_at", "2022-07-18 12:21:03.055286"]]
  [1m[35m (243.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-18 12:21:03.219679"], ["updated_at", "2022-07-18 12:21:03.219679"]]
  [1m[35m (208.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "831bd8180d69f43efe3c42be9df6b3dd97fe3d2a"], ["created_at", "2022-07-18 12:21:03.274204"], ["updated_at", "2022-07-18 12:21:03.274204"]]
  [1m[35m (181.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "831bd8180d69f43efe3c42be9df6b3dd97fe3d2a"], ["created_at", "2022-07-18 12:21:03.407578"], ["updated_at", "2022-07-18 12:21:03.407578"]]
  [1m[35m (261.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (199.0ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE (quantity>1)[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20220718113004"]]
  [1m[35m (73.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-07-19 10:33:59 +0600
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.5.1) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.5.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2022-07-19 10:34:04 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("line_items"."quantity") AS sum_quantity, "line_items"."product_id" AS line_items_product_id FROM "line_items" WHERE "line_items"."cart_id" = ? GROUP BY "line_items"."product_id"[0m  [["cart_id", 49]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220718113004"]]
  [1m[35m (78.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
Started GET "/" for ::1 at 2022-07-19 10:34:04 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (179.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (127.9ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (131.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (130.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (107.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (110.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (87.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (101.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (66.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718111831)[0m
  [1m[35m (78.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149);

[0m
  [1m[35m (91.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 04:34:11.165079"], ["updated_at", "2022-07-19 04:34:11.165079"]]
  [1m[35m (73.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-19 04:34:11.264272"], ["key", "environment"]]
  [1m[35m (81.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "f457ce8569e8fda11299f26fb471052385d30d5a"], ["created_at", "2022-07-19 04:34:11.355265"], ["updated_at", "2022-07-19 04:34:11.355265"]]
  [1m[35m (83.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.0ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.5ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 316.2ms | Allocations: 18141)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 434ms (Views: 406.2ms | ActiveRecord: 1.3ms | Allocations: 26638)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 10:34:16 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8IvY7U65binMF9uIf5Z49ovMvJkhpDfIOzZIecgNc3vTcYmiFzNOo1N0KjvWTkUkEHtA8DlMUnzy1aUYvEOFvA==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-19 04:34:16.852229"], ["updated_at", "2022-07-19 04:34:16.852229"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (171.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 04:34:17.072752"], ["updated_at", "2022-07-19 04:34:17.072752"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (84.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/50
Completed 200 OK in 316ms (ActiveRecord: 258.4ms | Allocations: 14626)


Started GET "/carts/50" for ::1 at 2022-07-19 10:34:17 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"50"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 22.1ms | Allocations: 2103)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 35.5ms | ActiveRecord: 1.4ms | Allocations: 8159)


Started GET "/" for ::1 at 2022-07-19 10:34:22 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (29.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 965)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 43.9ms | ActiveRecord: 0.3ms | Allocations: 5712)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 10:34:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"G/BRraWPj62CecUfrj8pH2XD1IuUBbGEOLKbeJsOxxu/J0nanc1wTBmdiTCTDrBjexvaZVhrLWOk2oE8sNwYLQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms | Allocations: 3014)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2022-07-19 10:34:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"9cFB7mTptJdVDDRAs4O/A7nbVtRMptPmVcJoxUrfWVVRFlmZXKtLds7oeG+OsiZ/pwNYOoDITwHJqnKBYQ2GYw==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 50], ["created_at", "2022-07-19 04:34:26.521512"], ["updated_at", "2022-07-19 04:34:26.521512"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (78.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/50
Completed 200 OK in 99ms (ActiveRecord: 79.5ms | Allocations: 5932)


Started GET "/carts/50" for ::1 at 2022-07-19 10:34:26 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"50"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2305)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.6ms | Allocations: 7602)


Started GET "/" for ::1 at 2022-07-19 10:34:29 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.3ms | Allocations: 5689)


Started POST "/line_items?product_id=6" for ::1 at 2022-07-19 10:34:31 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"b2wFZ+6EdX8UAStFZIWYK4FAN+C/Q/Ia8TAiPxM5B2jLux0Q1saKno/lZ2pZtAFXn5g5DnMtbv1tWDh7OOvYXg==", "product_id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 50], ["created_at", "2022-07-19 04:34:31.942950"], ["updated_at", "2022-07-19 04:34:31.942950"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (103.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/50
Completed 200 OK in 118ms (ActiveRecord: 104.2ms | Allocations: 5989)


Started GET "/carts/50" for ::1 at 2022-07-19 10:34:32 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"50"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:9
  Rendered carts/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3073)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 0.8ms | Allocations: 8366)


Started GET "/" for ::1 at 2022-07-19 10:48:17 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1071)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 7251)


Started GET "/" for ::1 at 2022-07-19 10:48:18 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.4ms | Allocations: 5694)


Started GET "/" for ::1 at 2022-07-19 10:48:19 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.3ms | Allocations: 5698)


Started GET "/" for ::1 at 2022-07-19 10:48:19 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 5673)


Started GET "/" for ::1 at 2022-07-19 10:48:19 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 5679)


Started GET "/" for ::1 at 2022-07-19 10:48:19 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.2ms | Allocations: 5681)


Started GET "/CARTS/WIBBLE" for ::1 at 2022-07-19 10:49:16 +0600
  
ActionController::RoutingError (No route matches [GET] "/CARTS/WIBBLE"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/carts/wibble" for ::1 at 2022-07-19 10:49:47 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.4ms | Allocations: 2418)


Started GET "/" for ::1 at 2022-07-19 10:49:47 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 952)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.2ms | Allocations: 5698)


Started GET "/carts/wibble" for ::1 at 2022-07-19 10:50:00 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1110)


Started GET "/" for ::1 at 2022-07-19 10:50:00 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.2ms | Allocations: 5693)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (211.2ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (253.7ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (245.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (232.6ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (142.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (206.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (176.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (222.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (187.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (209.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (213.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (241.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (224.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (241.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (288.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (198.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (144.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718111831)[0m
  [1m[35m (169.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718111831)[0m
  [1m[35m (209.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149);

[0m
  [1m[35m (184.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149);

[0m
  [1m[35m (267.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 04:50:58.940655"], ["updated_at", "2022-07-19 04:50:58.940655"]]
  [1m[35m (231.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 04:50:59.002137"], ["updated_at", "2022-07-19 04:50:59.002137"]]
  [1m[35m (174.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "f457ce8569e8fda11299f26fb471052385d30d5a"], ["created_at", "2022-07-19 04:50:59.126126"], ["updated_at", "2022-07-19 04:50:59.126126"]]
  [1m[35m (169.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "f457ce8569e8fda11299f26fb471052385d30d5a"], ["created_at", "2022-07-19 04:50:59.188677"], ["updated_at", "2022-07-19 04:50:59.188677"]]
  [1m[35m (177.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (157.8ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 10:54:15 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pG5PhvoObM4x7PZz52fSAuGN6Zh43Uu9dVh3mD3VgqyHlB7Jo4RMRK6PB8BOv+/QejoV8WA1Lgm8u5r5SZt0aw==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 104ms (ActiveRecord: 4.7ms | Allocations: 21629)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 10:54:37 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pG5PhvoObM4x7PZz52fSAuGN6Zh43Uu9dVh3mD3VgqyHlB7Jo4RMRK6PB8BOv+/QejoV8WA1Lgm8u5r5SZt0aw==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.5ms | Allocations: 3421)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:03:47 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pG5PhvoObM4x7PZz52fSAuGN6Zh43Uu9dVh3mD3VgqyHlB7Jo4RMRK6PB8BOv+/QejoV8WA1Lgm8u5r5SZt0aw==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 107ms (ActiveRecord: 5.0ms | Allocations: 21638)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-19 11:07:10 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (144.9ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (165.0ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (143.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (124.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (97.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (91.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (87.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (102.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (71.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (98.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (179.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 05:07:19.180440"], ["updated_at", "2022-07-19 05:07:19.180440"]]
  [1m[35m (107.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-19 05:07:19.295133"], ["key", "environment"]]
  [1m[35m (110.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "831bd8180d69f43efe3c42be9df6b3dd97fe3d2a"], ["created_at", "2022-07-19 05:07:19.411358"], ["updated_at", "2022-07-19 05:07:19.411358"]]
  [1m[35m (94.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.7ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.4ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.4ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.4ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 30.4ms | Allocations: 18022)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 37.3ms | ActiveRecord: 1.3ms | Allocations: 25608)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:07:24 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"n7SfLof00l+BekV4wwTJ8QfdcR77+m/zuKonv7Z/f9C8Ts5h3n7y1R4ZtMtq3PQjnGqNd+MSCkdxScrewjGJFw==", "product_id"=>"5"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 857)


  
Zeitwerk::NameError (expected file /home/nascenia/mystuff/depot/app/models/cart.rb to define constant Cart, but didn't):
  
app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started GET "/carts/wibble" for 127.0.0.1 at 2022-07-19 11:07:49 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2404)


  
NameError (uninitialized constant CartsController::Cart):
  
app/controllers/carts_controller.rb:63:in `set_cart'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:07:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"n7SfLof00l+BekV4wwTJ8QfdcR77+m/zuKonv7Z/f9C8Ts5h3n7y1R4ZtMtq3PQjnGqNd+MSCkdxScrewjGJFw==", "product_id"=>"5"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2189)


  
NameError (uninitialized constant CurrentCart::Cart):
  
app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:07:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"n7SfLof00l+BekV4wwTJ8QfdcR77+m/zuKonv7Z/f9C8Ts5h3n7y1R4ZtMtq3PQjnGqNd+MSCkdxScrewjGJFw==", "product_id"=>"5"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2160)


  
NameError (uninitialized constant CurrentCart::Cart):
  
app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:07:58 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"n7SfLof00l+BekV4wwTJ8QfdcR77+m/zuKonv7Z/f9C8Ts5h3n7y1R4ZtMtq3PQjnGqNd+MSCkdxScrewjGJFw==", "product_id"=>"4"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2162)


  
NameError (uninitialized constant CurrentCart::Cart):
  
app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:07:58 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"n7SfLof00l+BekV4wwTJ8QfdcR77+m/zuKonv7Z/f9C8Ts5h3n7y1R4ZtMtq3PQjnGqNd+MSCkdxScrewjGJFw==", "product_id"=>"4"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2162)


  
NameError (uninitialized constant CurrentCart::Cart):
  
app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 11:08:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"n7SfLof00l+BekV4wwTJ8QfdcR77+m/zuKonv7Z/f9C8Ts5h3n7y1R4ZtMtq3PQjnGqNd+MSCkdxScrewjGJFw==", "product_id"=>"6"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2163)


  
NameError (uninitialized constant CurrentCart::Cart):
  
app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 11:08:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"n7SfLof00l+BekV4wwTJ8QfdcR77+m/zuKonv7Z/f9C8Ts5h3n7y1R4ZtMtq3PQjnGqNd+MSCkdxScrewjGJFw==", "product_id"=>"6"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2160)


  
NameError (uninitialized constant CurrentCart::Cart):
  
app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started GET "/" for 127.0.0.1 at 2022-07-19 11:08:42 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1029)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.3ms | Allocations: 5993)


Started GET "/carts/wibble" for 127.0.0.1 at 2022-07-19 11:08:44 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 2907)


Started GET "/" for 127.0.0.1 at 2022-07-19 11:08:44 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1077)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.5ms | Allocations: 7246)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:08:51 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NtAW4nJeAwaK8FKf84vtxKd55bNi2M3hFhGXKz91/0kVKketK9QjjBWToyxaU9AWPM4Z2nowqFXf8npKSzsJjg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 1.3ms | Allocations: 14677)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:08:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NtAW4nJeAwaK8FKf84vtxKd55bNi2M3hFhGXKz91/0kVKketK9QjjBWToyxaU9AWPM4Z2nowqFXf8npKSzsJjg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2996)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-19 11:39:52 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 176ms (Views: 172.8ms | ActiveRecord: 0.2ms | Allocations: 24842)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:40:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.6ms | Allocations: 14961)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:40:14 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 2957)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 11:40:16 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms | Allocations: 2972)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 11:40:17 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.8ms | Allocations: 2957)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:40:18 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2958)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:40:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms | Allocations: 2955)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:40:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2957)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:40:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2955)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:40:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.8ms | Allocations: 2957)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:40:24 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 2957)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 11:40:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2957)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-19 11:40:29 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.3ms | Allocations: 5701)


Started GET "/" for 127.0.0.1 at 2022-07-19 11:40:30 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 5709)


Started GET "/" for 127.0.0.1 at 2022-07-19 11:40:31 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.2ms | Allocations: 5731)


Started GET "/carts/wibble" for 127.0.0.1 at 2022-07-19 11:40:39 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1196)


Started GET "/" for 127.0.0.1 at 2022-07-19 11:40:39 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.2ms | Allocations: 5738)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:40:44 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2976)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:47:52 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.5ms | Allocations: 16260)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:47:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.6ms | Allocations: 2973)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:47:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2975)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:47:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2973)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 11:47:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2975)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 11:47:56 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PmBIoIWjTsyST/0dekSbhT+NiokDV364lsj4zbjySpMdmhnv3CluRg0sDK7TnKZXpDp24Bu/GwxfKxWszLy8VA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2973)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:52:28 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.8ms | Allocations: 2975)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:52:40 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.9ms | Allocations: 2975)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:52:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2975)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:52:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2973)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:52:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2975)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 11:52:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2973)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (187.1ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (241.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (237.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (221.7ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (172.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (132.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (153.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (252.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (265.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (6.6ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (199.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (172.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (176.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (159.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (211.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (270.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (230.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (184.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (202.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (221.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (209.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (233.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 05:54:40.128565"], ["updated_at", "2022-07-19 05:54:40.128565"]]
  [1m[35m (237.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 05:54:40.193721"], ["updated_at", "2022-07-19 05:54:40.193721"]]
  [1m[35m (207.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "831bd8180d69f43efe3c42be9df6b3dd97fe3d2a"], ["created_at", "2022-07-19 05:54:40.348212"], ["updated_at", "2022-07-19 05:54:40.348212"]]
  [1m[35m (197.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "831bd8180d69f43efe3c42be9df6b3dd97fe3d2a"], ["created_at", "2022-07-19 05:54:40.402191"], ["updated_at", "2022-07-19 05:54:40.402191"]]
  [1m[35m (199.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (192.0ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:54:52 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 104ms (ActiveRecord: 4.4ms | Allocations: 21629)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 11:58:18 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.9ms | Allocations: 19087)


  
NameError (uninitialized constant Cart(id: integer, created_at: datetime, updated_at: datetime)::NULL):
  
app/models/cart.rb:5:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:29:43 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.6ms | Allocations: 16326)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:29:44 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2992)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:29:44 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.2ms | Allocations: 4171)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 12:29:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2976)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 12:29:49 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2992)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:29:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2975)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-19 12:29:54 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
Started GET "/" for 127.0.0.1 at 2022-07-19 12:29:55 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (95.7ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (133.7ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer)[0m
  [1m[35m (242.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (85.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (75.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (59.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (66.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (90.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (59.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (66.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (90.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 06:30:01.328432"], ["updated_at", "2022-07-19 06:30:01.328432"]]
  [1m[35m (78.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-19 06:30:01.416754"], ["key", "environment"]]
  [1m[35m (51.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "831bd8180d69f43efe3c42be9df6b3dd97fe3d2a"], ["created_at", "2022-07-19 06:30:01.479053"], ["updated_at", "2022-07-19 06:30:01.479053"]]
  [1m[35m (82.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/store_controller.rb:4:in `index'
  Rendering store/index.html.erb within layouts/application
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.0ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (10.0ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.4ms)
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.6ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.4ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.4ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (1.9ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 171.1ms | Allocations: 47931)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.5ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 174.3ms | Allocations: 49467)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 190ms (Views: 183.7ms | ActiveRecord: 1.4ms | Allocations: 57857)


[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 218ms (Views: 215.5ms | ActiveRecord: 0.4ms | Allocations: 59956)


Started GET "/" for 127.0.0.1 at 2022-07-19 12:30:11 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.4ms | Allocations: 5709)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:30:37 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.5ms | Allocations: 3076)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:30:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms | Allocations: 2969)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 12:30:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 2971)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 12:30:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms | Allocations: 2969)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:30:49 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/n9vo57hDhH36xLaBfxIA3NhSXo9ZLVOs+bSoCYVD4zdhT7sx2sum2iI42msJHXR6Na1EyWM0Pp6BT/BUlv5Sw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2971)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:30:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/n9vo57hDhH36xLaBfxIA3NhSXo9ZLVOs+bSoCYVD4zdhT7sx2sum2iI42msJHXR6Na1EyWM0Pp6BT/BUlv5Sw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.6ms | Allocations: 2971)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:30:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/n9vo57hDhH36xLaBfxIA3NhSXo9ZLVOs+bSoCYVD4zdhT7sx2sum2iI42msJHXR6Na1EyWM0Pp6BT/BUlv5Sw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms | Allocations: 2969)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 12:30:51 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/n9vo57hDhH36xLaBfxIA3NhSXo9ZLVOs+bSoCYVD4zdhT7sx2sum2iI42msJHXR6Na1EyWM0Pp6BT/BUlv5Sw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2971)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:31:27 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2971)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:31:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vlzFfdtCzCtzVaUZqe3taKBUeZJ7r7FmlMFTgmKIWoqdppQygsjsoew2VKoANdC6O+OF+2NH1NJdIr7jFsasTQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.4ms | Allocations: 2971)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:35:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/n9vo57hDhH36xLaBfxIA3NhSXo9ZLVOs+bSoCYVD4zdhT7sx2sum2iI42msJHXR6Na1EyWM0Pp6BT/BUlv5Sw==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.8ms | Allocations: 2971)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-19 12:39:29 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1071)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 0.7ms | Allocations: 7494)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:39:34 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"psIkOJ50ROQz8XE8oJTAnlhBXrCWYUkrsV3wEHZEbTSFOHV3x/5kbqySgI8JTP1Mw/ai2Y6JLJ94vh1xAgqb8w==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.9ms | Allocations: 15824)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:42:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"psIkOJ50ROQz8XE8oJTAnlhBXrCWYUkrsV3wEHZEbTSFOHV3x/5kbqySgI8JTP1Mw/ai2Y6JLJ94vh1xAgqb8w==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.6ms | Allocations: 2967)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-19 12:43:47 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.3ms | Allocations: 5709)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:43:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"67TlzjrjzM5F+evQeGxJmr8B5mdwk4Salch+riDJyVvITrSBY2nsRNqaGmPRtHRIJLYaDmh74S5cK5PPVIc/nA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 2.5ms | Allocations: 17359)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/cart.rb:6:in `add_product'
app/controllers/line_items_controller.rb:28:in `create'
Started GET "/" for 127.0.0.1 at 2022-07-19 12:44:35 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 19.5ms | ActiveRecord: 1.2ms | Allocations: 7491)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 12:44:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"aaFZNjSLwyyTbMpoBc5RPBy7F0jjFNAq1joRYj2oJN1KWwh5bQHjpgwPO9usFmzuhwzrIfv8tZ4f2fwDSebSGg==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20220718113004"]]
  [1m[35m (62.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20220718111831)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20220718111831"]]
  [1m[35m (84.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20220718111831)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20220718111831)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220718111831"]]
  [1m[35m (69.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20220718113004)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220718113004"]]
  [1m[35m (83.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20220718113004)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20220718113004"]]
  [1m[35m (55.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20220718111831)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20220718111831"]]
  [1m[35m (63.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20220718111831)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220718111831"]]
  [1m[35m (59.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20220718113004)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220718113004"]]
  [1m[35m (62.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for 127.0.0.1 at 2022-07-19 13:00:14 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for 127.0.0.1 at 2022-07-19 13:00:16 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
Started GET "/carts/wibble" for 127.0.0.1 at 2022-07-19 13:00:20 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (93.9ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 1.0ms | Allocations: 4404)


  [1m[35m (110.8ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (97.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (76.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (80.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (73.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (63.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (88.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (52.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (56.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (74.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 07:00:21.529341"], ["updated_at", "2022-07-19 07:00:21.529341"]]
  [1m[35m (68.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-19 07:00:21.604140"], ["key", "environment"]]
  [1m[35m (48.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4443354715bd8c1071b561c14377a7cb69e9bab5"], ["created_at", "2022-07-19 07:00:21.658990"], ["updated_at", "2022-07-19 07:00:21.658990"]]
  [1m[35m (50.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/carts/wibble" for 127.0.0.1 at 2022-07-19 13:00:22 +0600
  
ActiveRecord::ConnectionNotEstablished (No connection pool with 'primary' found.):
  
activerecord (6.0.5.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1121:in `retrieve_connection'
activerecord (6.0.5.1) lib/active_record/connection_handling.rb:221:in `retrieve_connection'
activerecord (6.0.5.1) lib/active_record/connection_handling.rb:189:in `connection'
activerecord (6.0.5.1) lib/active_record/migration.rb:562:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/controllers/store_controller.rb:4:in `index'
  Rendering store/index.html.erb within layouts/application
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.9ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (6.3ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.2ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (7.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (7.0ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.4ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (1.8ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.9ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.3ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (3.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (1.0ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 78.1ms | Allocations: 29624)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 72.5ms | Allocations: 29041)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 103ms (Views: 96.8ms | ActiveRecord: 1.3ms | Allocations: 41649)


[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 104ms (Views: 97.8ms | ActiveRecord: 1.6ms | Allocations: 41453)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 13:00:35 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/H495iPirOaKym3EfYK7+uySRvUp5sWe4eZz84GU9rvfhGypemiMbBWpnHfUWoYodyW6nDEOoCooBZ6S9doAfA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 07:00:35.304100"], ["updated_at", "2022-07-19 07:00:35.304100"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (68.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 3.1ms | Allocations: 1379)
Completed 500 Internal Server Error in 101ms (ActiveRecord: 69.6ms | Allocations: 18871)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/nascenia/mystuff/depot/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actiontext-6.0.5.1/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionmailbox-6.0.5.1/app/views"
):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: 
    4: notice = document.getElementById("notice")
    5: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started GET "/carts/wibble" for 127.0.0.1 at 2022-07-19 13:00:45 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:63:in `set_cart'
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 1184)


Started GET "/" for 127.0.0.1 at 2022-07-19 13:00:45 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 956)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.3ms | Allocations: 5741)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 13:00:47 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vu0oCbbthR2Q/F2hLt1has0pUIs5eExDdMMW4mQ55mGdF3lG72ellw+frBKHBVy4Vp6s4iGQKfe9IPuDEHcQpg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 07:00:47.850599"], ["updated_at", "2022-07-19 07:00:47.850599"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (61.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.5ms | Allocations: 1017)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 62.3ms | Allocations: 6871)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/nascenia/mystuff/depot/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actiontext-6.0.5.1/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionmailbox-6.0.5.1/app/views"
):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: 
    4: notice = document.getElementById("notice")
    5: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 13:01:03 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vu0oCbbthR2Q/F2hLt1has0pUIs5eExDdMMW4mQ55mGdF3lG72ellw+frBKHBVy4Vp6s4iGQKfe9IPuDEHcQpg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 50], ["created_at", "2022-07-19 07:01:03.953420"], ["updated_at", "2022-07-19 07:01:03.953420"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (76.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.5ms | Allocations: 1017)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 77.5ms | Allocations: 6870)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/nascenia/mystuff/depot/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actiontext-6.0.5.1/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionmailbox-6.0.5.1/app/views"
):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: 
    4: notice = document.getElementById("notice")
    5: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-19 13:01:45 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vu0oCbbthR2Q/F2hLt1has0pUIs5eExDdMMW4mQ55mGdF3lG72ellw+frBKHBVy4Vp6s4iGQKfe9IPuDEHcQpg==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 50], ["created_at", "2022-07-19 07:01:45.054220"], ["updated_at", "2022-07-19 07:01:45.054220"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (81.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.4ms | Allocations: 1017)
Completed 500 Internal Server Error in 92ms (ActiveRecord: 82.5ms | Allocations: 6883)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/nascenia/mystuff/depot/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actiontext-6.0.5.1/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionmailbox-6.0.5.1/app/views"
):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: 
    4: notice = document.getElementById("notice")
    5: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (104.1ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (165.2ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (226.0ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (227.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (269.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (262.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (241.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (251.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (207.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (225.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (121.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (87.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (156.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (183.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (239.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (238.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (102.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (157.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (134.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (187.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (195.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 07:06:01.517977"], ["updated_at", "2022-07-19 07:06:01.517977"]]
  [1m[35m (188.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 07:06:01.572849"], ["updated_at", "2022-07-19 07:06:01.572849"]]
  [1m[35m (159.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4443354715bd8c1071b561c14377a7cb69e9bab5"], ["created_at", "2022-07-19 07:06:01.683997"], ["updated_at", "2022-07-19 07:06:01.683997"]]
  [1m[35m (167.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4443354715bd8c1071b561c14377a7cb69e9bab5"], ["created_at", "2022-07-19 07:06:01.750873"], ["updated_at", "2022-07-19 07:06:01.750873"]]
  [1m[35m (167.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (146.0ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 13:06:19 +0600
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vu0oCbbthR2Q/F2hLt1has0pUIs5eExDdMMW4mQ55mGdF3lG72ellw+frBKHBVy4Vp6s4iGQKfe9IPuDEHcQpg==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 07:06:19.488906"], ["updated_at", "2022-07-19 07:06:19.488906"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (100.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 4.7ms | Allocations: 1817)
Completed 500 Internal Server Error in 275ms (ActiveRecord: 107.6ms | Allocations: 28899)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/nascenia/mystuff/depot/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actiontext-6.0.5.1/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionmailbox-6.0.5.1/app/views"
):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: 
    4: notice = document.getElementById("notice")
    5: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 13:07:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vu0oCbbthR2Q/F2hLt1has0pUIs5eExDdMMW4mQ55mGdF3lG72ellw+frBKHBVy4Vp6s4iGQKfe9IPuDEHcQpg==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 50], ["created_at", "2022-07-19 07:07:54.179967"], ["updated_at", "2022-07-19 07:07:54.179967"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (112.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 1.5ms | Allocations: 1585)
Completed 500 Internal Server Error in 128ms (ActiveRecord: 113.3ms | Allocations: 10174)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/nascenia/mystuff/depot/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actiontext-6.0.5.1/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionmailbox-6.0.5.1/app/views"
):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-19 13:26:11 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (76.7ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (87.7ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (74.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (85.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (98.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (77.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (75.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (93.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (52.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (59.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (128.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 07:26:17.969494"], ["updated_at", "2022-07-19 07:26:17.969494"]]
  [1m[35m (67.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-19 07:26:18.045439"], ["key", "environment"]]
  [1m[35m (80.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4443354715bd8c1071b561c14377a7cb69e9bab5"], ["created_at", "2022-07-19 07:26:18.137488"], ["updated_at", "2022-07-19 07:26:18.137488"]]
  [1m[35m (85.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.4ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.2ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 25.4ms | Allocations: 13679)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 32.6ms | ActiveRecord: 0.4ms | Allocations: 19727)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 13:26:24 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"r7TxK8/71kGGvieXVoK7kzi9yFKAuqmLMYLRO8SDdLeMTqBklnH2yxnd1iT/WoZBowo0O5hSzD/4YTxasM2CcA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 07:26:24.184835"], ["updated_at", "2022-07-19 07:26:24.184835"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (76.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 1.0ms | Allocations: 1425)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 76.9ms | Allocations: 8541)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/nascenia/mystuff/depot/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actiontext-6.0.5.1/app/views"
  * "/home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionmailbox-6.0.5.1/app/views"
):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-19 13:28:16 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1431)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 7198)


Started GET "/" for 127.0.0.1 at 2022-07-19 13:28:19 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1427)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.2ms | Allocations: 7172)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 13:28:25 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"9QxCIpq/DjYEQPbyld5ns+iaIjsZuuBiW5weejFLovjW9hNtwzUuvJsjB0E8Blphcy3eUgFShdaSf/MbRQVUPw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 07:28:25.432245"], ["updated_at", "2022-07-19 07:28:25.432245"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (67.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/_cart.html.erb:4
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [11 times] (Duration: 20.3ms | Allocations: 3906)
  Rendered carts/_cart.html.erb (Duration: 27.9ms | Allocations: 5681)
  Rendered line_items/create.js.erb (Duration: 29.4ms | Allocations: 6008)
Completed 500 Internal Server Error in 113ms (ActiveRecord: 68.9ms | Allocations: 13024)


  
ActionView::Template::Error (undefined method `total_price' for #<LineItem:0x000055b6c4861e30>):
    5: <% end %>
    6: <td class="quantity"><%= line_item.quantity %></td>
    7: <td><%= line_item.product.title %></td>
    8: <td class="price"><%= number_to_currency(line_item.total_price) %></td>
    9: </tr>
  
app/views/line_items/_line_item.html.erb:8
app/views/carts/_cart.html.erb:4
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-19 13:29:35 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 19.0ms | ActiveRecord: 1.2ms | Allocations: 7476)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 13:29:37 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"CMoV7SyXgEdkx68L4+Ls9eRks/veOqPjfb2Q1jHAGEMrMESidR2gzfukXrhKOtEnf9NPksbSxle0Xn23RY7uhA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 07:29:37.512437"], ["updated_at", "2022-07-19 07:29:37.512437"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (85.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/_cart.html.erb:4
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [12 times] (Duration: 63.9ms | Allocations: 10181)
  Rendered carts/_cart.html.erb (Duration: 84.2ms | Allocations: 13826)
  Rendered line_items/create.js.erb (Duration: 85.1ms | Allocations: 13925)
Completed 500 Internal Server Error in 238ms (ActiveRecord: 91.3ms | Allocations: 33364)


  
ActionView::Template::Error (undefined method `total_price' for #<Cart:0x00007fbeb51a7630>):
    4:     <%= render(cart.line_items) %>
    5:     <tr class="total_line">
    6:       <td colspan="2">Total</td>
    7:       <td class="total_cell"><%= number_to_currency(cart.total_price) %></td>
    8:     </tr>
    9:   </table>
   10:   <%= button_to 'Empty cart', cart, method: :delete,
  
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-19 13:30:38 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1074)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 18.4ms | ActiveRecord: 1.9ms | Allocations: 7496)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 13:30:44 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"qqzNN4Q1G9gP90UVjwT6ev17xUP/Gx3uv5aTo1A+bfyJVpx43b87UpCUtKYm3MeoZsw5KufzeFp2dX7CJHCbOw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 07:30:45.009021"], ["updated_at", "2022-07-19 07:30:45.009021"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (85.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/_cart.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [13 times] (Duration: 14.4ms | Allocations: 11047)
  Rendered carts/_cart.html.erb (Duration: 17.8ms | Allocations: 12901)
  Rendered line_items/create.js.erb (Duration: 18.2ms | Allocations: 13224)
Completed 200 OK in 134ms (Views: 18.3ms | ActiveRecord: 88.9ms | Allocations: 32688)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (458.3ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (475.4ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for ::1 at 2022-07-19 14:38:17 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (71.4ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (82.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (90.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (109.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (108.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (94.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (96.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (100.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (83.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (72.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (85.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 08:38:24.016452"], ["updated_at", "2022-07-19 08:38:24.016452"]]
  [1m[35m (81.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-19 08:38:24.106897"], ["key", "environment"]]
  [1m[35m (74.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4443354715bd8c1071b561c14377a7cb69e9bab5"], ["created_at", "2022-07-19 08:38:24.192672"], ["updated_at", "2022-07-19 08:38:24.192672"]]
  [1m[35m (49.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.3ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.5ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/5-20220715153321750276 (0.7ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.3ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/4-20220715153321691924 (0.5ms)
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/6-20220715153321814790 (0.5ms)
Write fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 82.8ms | Allocations: 18733)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 151ms (Views: 100.1ms | ActiveRecord: 3.3ms | Allocations: 28434)


Started GET "/" for ::1 at 2022-07-19 14:38:32 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 963)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.3ms | Allocations: 5741)


Started GET "/carts/wibble" for ::1 at 2022-07-19 14:38:39 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms | Allocations: 2492)


Started GET "/" for ::1 at 2022-07-19 14:38:39 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 954)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.4ms | Allocations: 5749)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 14:38:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"niBR37Wkap/PCtcumgCAmPRWARG3IQTXFq+efonXuBm92gCQ7C5KFVBpJp0z2L1Kb+H9eK/JYWPfTHMf/ZlO3g==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 08:38:42.009355"], ["updated_at", "2022-07-19 08:38:42.009355"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (78.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/_cart.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [14 times] (Duration: 77.2ms | Allocations: 12083)
  Rendered carts/_cart.html.erb (Duration: 86.9ms | Allocations: 14285)
  Rendered line_items/create.js.erb (Duration: 90.4ms | Allocations: 14879)
Completed 200 OK in 219ms (Views: 92.4ms | ActiveRecord: 81.5ms | Allocations: 32270)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 14:38:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"niBR37Wkap/PCtcumgCAmPRWARG3IQTXFq+efonXuBm92gCQ7C5KFVBpJp0z2L1Kb+H9eK/JYWPfTHMf/ZlO3g==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 50], ["created_at", "2022-07-19 08:38:53.440660"], ["updated_at", "2022-07-19 08:38:53.440660"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (97.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/_cart.html.erb:4
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [15 times] (Duration: 43.6ms | Allocations: 12455)
  Rendered carts/_cart.html.erb (Duration: 49.7ms | Allocations: 14066)
  Rendered line_items/create.js.erb (Duration: 50.7ms | Allocations: 14400)
Completed 200 OK in 183ms (Views: 50.2ms | ActiveRecord: 99.3ms | Allocations: 20426)


Started GET "/" for ::1 at 2022-07-19 14:49:22 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1549)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 58.7ms | ActiveRecord: 0.2ms | Allocations: 26301)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 14:49:24 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"00A+/axLnV0fsddK+Lx80BJ89Ddq3pKxZ0oWjMmYy7vwum+y9cG914DSJvlRZEECicsIXnI29wWuqfvtvdY9fA==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-19 08:49:24.674839"], ["id", 16]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (82.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/50
Completed 200 OK in 151ms (ActiveRecord: 85.1ms | Allocations: 19874)


Started GET "/carts/50" for ::1 at 2022-07-19 14:49:24 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"50"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 27.7ms | Allocations: 14494)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 38.8ms | ActiveRecord: 1.3ms | Allocations: 20449)


Started DELETE "/carts/50" for ::1 at 2022-07-19 14:51:49 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"FgXyxxWJ1HIMuAsO9nNW0J0m3pvex4J/UFI2EI5sNLdWfkmndc5L7Ln0f8Vp6OblIR9HaWdgZTQn0BZuJ09+gw==", "id"=>"50"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 20]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 23]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 24]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 27]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 28]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 29]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 30]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 50]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (110.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 148ms (ActiveRecord: 114.4ms | Allocations: 19682)


Started GET "/" for ::1 at 2022-07-19 14:51:49 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 956)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.5ms | Allocations: 5765)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 14:51:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"6eegXA59EQEwoIzCzk+R7hB9wgP2jdKUtcojGBW4VaHKHfETV/cxi6/DfXFnl6w8i8o+au5ltyB8Kc55YfajZg==", "product_id"=>"5"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-19 08:51:52.595772"], ["updated_at", "2022-07-19 08:51:52.595772"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (99.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 51], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 51], ["created_at", "2022-07-19 08:51:52.712865"], ["updated_at", "2022-07-19 08:51:52.712865"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (97.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/51
Completed 200 OK in 222ms (ActiveRecord: 198.2ms | Allocations: 10421)


Started GET "/carts/51" for ::1 at 2022-07-19 14:51:52 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"51"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.5ms | Allocations: 7369)


Started GET "/" for ::1 at 2022-07-19 14:51:57 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 958)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.3ms | Allocations: 5757)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 14:51:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gnxbCcxn7+9TzhPAbqWXl3PMwjuZ9t7cAmPQbVj7vGgmq0N+9CUQDsgqX+9TlA7rbRTM1VWYQjueC8opcyljXg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 51], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-19 08:51:59.795303"], ["id", 16]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (54.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/51
Completed 200 OK in 65ms (ActiveRecord: 55.4ms | Allocations: 6940)


Started GET "/carts/51" for ::1 at 2022-07-19 14:51:59 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"51"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2047)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.4ms | Allocations: 7368)


Started GET "/" for ::1 at 2022-07-19 14:52:01 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.3ms | Allocations: 5729)


Started POST "/line_items?product_id=4" for ::1 at 2022-07-19 14:52:03 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pJCCURaHisFoJ4LprObGtw9yMFIUo6lZH6ladqZtB8sAR5omLsV1IPPDzsaR11/LEao+vNjNNb6DwUAyjb/Y/Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 51], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 51], ["created_at", "2022-07-19 08:52:03.399222"], ["updated_at", "2022-07-19 08:52:03.399222"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (115.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/51
Completed 200 OK in 137ms (ActiveRecord: 117.0ms | Allocations: 7101)


Started GET "/carts/51" for ::1 at 2022-07-19 14:52:03 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"51"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2955)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.6ms | Allocations: 8274)


Started GET "/" for ::1 at 2022-07-19 14:52:05 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.3ms | Allocations: 5733)


Started POST "/line_items?product_id=6" for ::1 at 2022-07-19 14:52:08 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"835L9scUZRNiZ30FLlPonKAACyP2rpX3njkLKAZPSZZXqVOB/1aa8vmDMSoTYnHgvtgFzTrACRACURFsLZ2WoA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 51], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 51], ["created_at", "2022-07-19 08:52:08.019108"], ["updated_at", "2022-07-19 08:52:08.019108"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (69.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/51
Completed 200 OK in 80ms (ActiveRecord: 70.1ms | Allocations: 7036)


Started GET "/carts/51" for ::1 at 2022-07-19 14:52:08 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"51"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 3862)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.7ms | Allocations: 9179)


Started GET "/" for ::1 at 2022-07-19 14:59:05 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.3ms | Allocations: 5732)


Started GET "/" for ::1 at 2022-07-19 15:09:52 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1432)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.2ms | Allocations: 7195)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 15:09:53 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"a5PsMw9gscUxBi1W01M5ug9zmQsjNVMXLFTwbtWXSQhIab18VuqRT65l3OV6iwRolMRlYjvdNqPltx0Podm/zw==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 51], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2022-07-19 09:09:53.988684"], ["id", 16]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (75.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/51
Completed 200 OK in 87ms (ActiveRecord: 76.4ms | Allocations: 7001)


Started GET "/carts/51" for ::1 at 2022-07-19 15:09:54 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"51"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 8.7ms | Allocations: 3054)
  Rendered carts/show.html.erb within layouts/application (Duration: 14.9ms | Allocations: 4818)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 0.9ms | Allocations: 10705)


Started DELETE "/carts/51" for ::1 at 2022-07-19 15:10:02 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"yl35Etd86m463rjR2wFgFSRhVI2Rl73v/M9FXnZHoz1aEZEu39YUOOb70m8XQjRTmdpADJzog1QZYQsjA4MmQg==", "id"=>"51"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 51]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (92.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 113ms (ActiveRecord: 93.9ms | Allocations: 7931)


Started GET "/" for ::1 at 2022-07-19 15:10:02 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 955)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 5764)


Started GET "/" for ::1 at 2022-07-19 15:37:57 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-19 09:37:57.706131"], ["updated_at", "2022-07-19 09:37:57.706131"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (86.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1551)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 52]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 13.7ms | Allocations: 3034)
Completed 200 OK in 169ms (Views: 69.5ms | ActiveRecord: 87.5ms | Allocations: 28559)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 15:38:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"B9o7RROdytOTj+vU1j6Ip47gSQkluXEzTTQ4Xo9Iax0kIGoKShfqWQzsGmd/5rV1FVe1YD1RFIeE19U/+wad2g==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 52], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 52], ["created_at", "2022-07-19 09:38:01.828486"], ["updated_at", "2022-07-19 09:38:01.828486"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (87.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/52
Completed 200 OK in 112ms (ActiveRecord: 88.6ms | Allocations: 16184)


Started GET "/carts/52" for ::1 at 2022-07-19 15:38:01 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"52"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 52]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.9ms | Allocations: 1100)
  Rendered carts/_cart.html.erb (Duration: 6.6ms | Allocations: 2621)
  Rendered carts/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 136)
  Rendered carts/_cart.html.erb (Duration: 1.0ms | Allocations: 617)
Completed 200 OK in 29ms (Views: 25.3ms | ActiveRecord: 0.6ms | Allocations: 9387)


Started DELETE "/carts/52" for ::1 at 2022-07-19 15:38:26 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9elfcyTvZuB7Y/xfOZKwU+3mi9iSD5YcMa18n59+ohqfYxoxzgMQP+Emkf2KpmFrx8YcfaANtRmTP1YtHGyLIg==", "id"=>"52"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 52]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 52]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (77.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 91ms (ActiveRecord: 78.6ms | Allocations: 5925)


Started GET "/" for ::1 at 2022-07-19 15:38:26 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-19 09:38:26.570568"], ["updated_at", "2022-07-19 09:38:26.570568"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (89.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 956)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 2.2ms | Allocations: 1264)
Completed 200 OK in 109ms (Views: 9.5ms | ActiveRecord: 90.8ms | Allocations: 10907)


Started GET "/" for ::1 at 2022-07-19 15:38:54 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 11.4ms | Allocations: 1255)
Completed 200 OK in 120ms (Views: 117.6ms | ActiveRecord: 0.7ms | Allocations: 17633)


Started GET "/" for ::1 at 2022-07-19 15:39:04 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1255)
Completed 200 OK in 30ms (Views: 25.6ms | ActiveRecord: 0.5ms | Allocations: 7649)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 15:39:06 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"CXCUmZba6ivIgAePszGyVkBwnoJBTL4upIOkhpLBu6gqisXWz1DKoVfj9jwa6Y+E28di61mk25ptYEnn5o9Nbw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 53], ["created_at", "2022-07-19 09:39:06.577881"], ["updated_at", "2022-07-19 09:39:06.577881"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (51.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/53
Completed 200 OK in 64ms (ActiveRecord: 52.4ms | Allocations: 6994)


Started GET "/carts/53" for ::1 at 2022-07-19 15:39:06 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.5ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 2268)
  Rendered carts/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2350)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 136)
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 616)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 0.6ms | Allocations: 8313)


Started GET "/" for ::1 at 2022-07-19 15:39:09 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.7ms | Allocations: 926)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2243)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.9ms | Allocations: 8557)


Started POST "/line_items?product_id=4" for ::1 at 2022-07-19 15:39:15 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pJCCURaHisFoJ4LprObGtw9yMFIUo6lZH6ladqZtB8sAR5omLsV1IPPDzsaR11/LEao+vNjNNb6DwUAyjb/Y/Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 53], ["created_at", "2022-07-19 09:39:15.428118"], ["updated_at", "2022-07-19 09:39:15.428118"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (65.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/53
Completed 200 OK in 81ms (ActiveRecord: 66.0ms | Allocations: 7040)


Started GET "/carts/53" for ::1 at 2022-07-19 15:39:15 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.8ms | Allocations: 1861)
  Rendered carts/_cart.html.erb (Duration: 7.8ms | Allocations: 3219)
  Rendered carts/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 3301)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.8ms | Allocations: 268)
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 756)
Completed 200 OK in 19ms (Views: 16.1ms | ActiveRecord: 0.6ms | Allocations: 9412)


Started GET "/" for ::1 at 2022-07-19 15:39:19 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.6ms | Allocations: 1847)
  Rendered carts/_cart.html.erb (Duration: 10.4ms | Allocations: 3186)
Completed 200 OK in 25ms (Views: 21.2ms | ActiveRecord: 1.1ms | Allocations: 9508)


Started POST "/line_items?product_id=6" for ::1 at 2022-07-19 15:40:41 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"835L9scUZRNiZ30FLlPonKAACyP2rpX3njkLKAZPSZZXqVOB/1aa8vmDMSoTYnHgvtgFzTrACRACURFsLZ2WoA==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 53], ["created_at", "2022-07-19 09:40:41.877911"], ["updated_at", "2022-07-19 09:40:41.877911"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (63.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 141ms (ActiveRecord: 69.9ms | Allocations: 22124)


Started GET "/" for ::1 at 2022-07-19 15:40:41 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1069)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.3ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 20.3ms | Allocations: 4414)
Completed 200 OK in 45ms (Views: 39.1ms | ActiveRecord: 2.3ms | Allocations: 11244)


Started GET "/" for ::1 at 2022-07-19 15:41:51 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 18.0ms | Allocations: 2769)
  Rendered carts/_cart.html.erb (Duration: 21.2ms | Allocations: 4130)
Completed 200 OK in 31ms (Views: 28.7ms | ActiveRecord: 0.9ms | Allocations: 10445)


Started GET "/products" for ::1 at 2022-07-19 15:41:59 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.2ms | Allocations: 9957)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    16: <section class="content">
    17:   <nav class="side_nav">
    18:     <div id="cart" class="carts">
    19:       <%= render @cart %>
    20:     </div>
    21:     <ul>
    22:       <li><a href="/">Home</a></li>
  
app/views/layouts/application.html.erb:19
Started GET "/products" for ::1 at 2022-07-19 15:57:18 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3653)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.3ms | Allocations: 9321)


Started GET "/products/4" for ::1 at 2022-07-19 15:57:24 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:63:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 331)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 0.5ms | Allocations: 5789)


Started GET "/products" for ::1 at 2022-07-19 15:57:30 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 3283)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.3ms | Allocations: 7915)


Started POST "/line_items?product_id=6" for ::1 at 2022-07-19 15:57:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"835L9scUZRNiZ30FLlPonKAACyP2rpX3njkLKAZPSZZXqVOB/1aa8vmDMSoTYnHgvtgFzTrACRACURFsLZ2WoA==", "product_id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-19 09:57:38.625753"], ["id", 18]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (75.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 89ms (ActiveRecord: 76.9ms | Allocations: 6982)


Started GET "/" for ::1 at 2022-07-19 15:57:38 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:b12150af72571a61ae3c00430cad8f24/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1427)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.7ms | Allocations: 2931)
  Rendered carts/_cart.html.erb (Duration: 8.1ms | Allocations: 4674)
Completed 200 OK in 33ms (Views: 29.1ms | ActiveRecord: 1.0ms | Allocations: 12327)


Started GET "/" for ::1 at 2022-07-19 16:29:17 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.0ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.4ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.6ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.7ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.5ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 42.6ms | Allocations: 9907)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 15.7ms | Allocations: 3736)
  Rendered carts/_cart.html.erb (Duration: 65.7ms | Allocations: 11144)
Completed 200 OK in 147ms (Views: 124.4ms | ActiveRecord: 2.9ms | Allocations: 31427)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 16:29:24 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"wcnbwE/vZvdoQi4pAmyoQOWaAC3k6YgVt+iYNDJFzwviM4qPFmVGffch35qrtJWSfi38RPwB7aF+C3VVRgs5zA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-19 10:29:25.006495"], ["id", 16]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (76.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.9ms | Allocations: 2788)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 4200)
  Rendered line_items/create.js.erb (Duration: 8.7ms | Allocations: 4594)
Completed 200 OK in 99ms (Views: 9.8ms | ActiveRecord: 77.5ms | Allocations: 13033)


Started POST "/line_items?product_id=4" for ::1 at 2022-07-19 16:29:28 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"wcnbwE/vZvdoQi4pAmyoQOWaAC3k6YgVt+iYNDJFzwviM4qPFmVGffch35qrtJWSfi38RPwB7aF+C3VVRgs5zA==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-19 10:29:28.827594"], ["id", 17]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (56.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.1ms | Allocations: 2788)
  Rendered carts/_cart.html.erb (Duration: 17.7ms | Allocations: 4073)
  Rendered line_items/create.js.erb (Duration: 19.0ms | Allocations: 4252)
Completed 200 OK in 98ms (Views: 17.9ms | ActiveRecord: 58.9ms | Allocations: 11241)


Started POST "/line_items?product_id=6" for ::1 at 2022-07-19 16:29:31 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"wcnbwE/vZvdoQi4pAmyoQOWaAC3k6YgVt+iYNDJFzwviM4qPFmVGffch35qrtJWSfi38RPwB7aF+C3VVRgs5zA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2022-07-19 10:29:31.492506"], ["id", 18]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (86.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.0ms | Allocations: 2941)
  Rendered carts/_cart.html.erb (Duration: 18.7ms | Allocations: 4226)
  Rendered line_items/create.js.erb (Duration: 19.2ms | Allocations: 4405)
Completed 200 OK in 131ms (Views: 19.2ms | ActiveRecord: 87.6ms | Allocations: 11409)


Started GET "/" for ::1 at 2022-07-19 17:00:07 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1554)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 29.3ms | Allocations: 7812)
  Rendered carts/_cart.html.erb (Duration: 59.7ms | Allocations: 15995)
Completed 200 OK in 106ms (Views: 82.8ms | ActiveRecord: 3.1ms | Allocations: 28035)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 17:00:15 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"L3af79sqZ5F9bvbuWFQ3q28Zk8ncmgfJMQknmG4WohEMjM6ggqBHG+INB13xjAp59K5voMRyYn346sr5GlhU1g==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2022-07-19 11:00:15.385687"], ["id", 16]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (89.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 10.4ms | Allocations: 2791)
  Rendered carts/_cart.html.erb (Duration: 40.3ms | Allocations: 5089)
  Rendered line_items/create.js.erb (Duration: 42.2ms | Allocations: 5482)
Completed 200 OK in 149ms (Views: 45.0ms | ActiveRecord: 91.3ms | Allocations: 13910)


Started POST "/line_items?product_id=4" for ::1 at 2022-07-19 17:00:19 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"L3af79sqZ5F9bvbuWFQ3q28Zk8ncmgfJMQknmG4WohEMjM6ggqBHG+INB13xjAp59K5voMRyYn346sr5GlhU1g==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2022-07-19 11:00:19.517294"], ["id", 17]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (88.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.4ms | Allocations: 2791)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 4809)
  Rendered line_items/create.js.erb (Duration: 8.4ms | Allocations: 4991)
Completed 200 OK in 111ms (Views: 8.6ms | ActiveRecord: 90.2ms | Allocations: 12166)


Started GET "/" for ::1 at 2022-07-19 17:04:24 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (8.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 1434)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC LIMIT ?[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 582ms (ActiveRecord: 2.3ms | Allocations: 91271)


  
ActionView::Template::Error (undefined method `render_if' for #<#<Class:0x000055dfaa062900>:0x000055dfaa067810>
Did you mean?  render):
    18: 
    19: 
    20:   <div id="cart" class="carts">
    21:     <%= render_if @cart && @cart.line_items.any?, @cart %>
    22:     </div>
    23:     
    24: 
  
app/views/layouts/application.html.erb:21
Started GET "/carts/53" for ::1 at 2022-07-19 17:04:32 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.4ms | Allocations: 2952)
  Rendered carts/_cart.html.erb (Duration: 17.6ms | Allocations: 5427)
  Rendered carts/show.html.erb within layouts/application (Duration: 18.5ms | Allocations: 5738)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 240ms (ActiveRecord: 1.0ms | Allocations: 87319)


  
ActionView::Template::Error (undefined method `render_if' for #<#<Class:0x000055dfa720a210>:0x000055dfa7c27180>
Did you mean?  render):
    18: 
    19: 
    20:   <div id="cart" class="carts">
    21:     <%= render_if @cart && @cart.line_items.any?, @cart %>
    22:     </div>
    23:     
    24: 
  
app/views/layouts/application.html.erb:21
Started GET "/carts/53" for ::1 at 2022-07-19 17:04:51 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 5.4ms | Allocations: 2952)
  Rendered carts/_cart.html.erb (Duration: 10.8ms | Allocations: 5426)
  Rendered carts/show.html.erb within layouts/application (Duration: 11.8ms | Allocations: 5732)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 238ms (ActiveRecord: 0.8ms | Allocations: 87747)


  
ActionView::Template::Error (undefined method `render_if' for #<#<Class:0x00007fa91c04b790>:0x00007fa91c049c60>
Did you mean?  render):
    18:     <% if @cart %>
    19: 
    20:   <div id="cart" class="carts">
    21:     <%= render_if @cart && @cart.line_items.any?, @cart %>
    22:     </div>
    23:     <% end %>
    24: 
  
app/views/layouts/application.html.erb:21
Started GET "/carts/53" for ::1 at 2022-07-19 17:05:02 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 5.2ms | Allocations: 2916)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 5036)
  Rendered carts/show.html.erb within layouts/application (Duration: 11.4ms | Allocations: 5118)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 232ms (ActiveRecord: 1.1ms | Allocations: 86103)


  
ActionView::Template::Error (undefined method `render_if' for #<#<Class:0x00007fa91c04b790>:0x000055dfaa19a6b0>
Did you mean?  render):
    18:     <% if @cart %>
    19: 
    20:   <div id="cart" class="carts">
    21:       <%= render @cart %>
    22:     </div>
    23:     <% end %>
    24: 
  
app/views/layouts/application.html.erb:21
Started GET "/carts/53" for ::1 at 2022-07-19 17:05:05 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 6.4ms | Allocations: 2952)
  Rendered carts/_cart.html.erb (Duration: 13.1ms | Allocations: 5426)
  Rendered carts/show.html.erb within layouts/application (Duration: 14.3ms | Allocations: 5732)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 0.8ms | Allocations: 400)
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 903)
Completed 200 OK in 36ms (Views: 32.7ms | ActiveRecord: 0.9ms | Allocations: 13024)


Started DELETE "/carts/53" for ::1 at 2022-07-19 17:05:09 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vyaLRCy1EgGoQP+HIUXdJTwPYfCSozS4EUi096BZZ+yc3NoLdT8yizcjDjSIneD3p7idmYpLUQzYq1mW1BeRKw==", "id"=>"53"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 53]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (122.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 144ms (ActiveRecord: 124.3ms | Allocations: 7920)


Started GET "/" for ::1 at 2022-07-19 17:05:10 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-19 11:05:10.154294"], ["updated_at", "2022-07-19 11:05:10.154294"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (99.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1438)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 54], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 821)
Completed 200 OK in 123ms (Views: 11.2ms | ActiveRecord: 101.2ms | Allocations: 11487)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 17:05:17 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZtLMlXIj5YmZ9jtmV2n5mhc6HA3wc/n3/TlcKGwNbNZFKJ3aK6nFAwaVytX+scRIjI3gZOibnEM02rFJGEOaEQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 54], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 54], ["created_at", "2022-07-19 11:05:17.870583"], ["updated_at", "2022-07-19 11:05:17.870583"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (74.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 7.0ms | Allocations: 1574)
  Rendered line_items/create.js.erb (Duration: 8.7ms | Allocations: 1941)
Completed 200 OK in 112ms (Views: 12.7ms | ActiveRecord: 76.8ms | Allocations: 10175)


Started GET "/" for ::1 at 2022-07-19 17:22:38 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1554)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 54], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 54], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 21.1ms | Allocations: 5975)
  Rendered carts/_cart.html.erb (Duration: 46.5ms | Allocations: 12603)
Completed 200 OK in 103ms (Views: 80.2ms | ActiveRecord: 2.4ms | Allocations: 26759)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-19 17:22:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LM9a1yuir8lji2m7hamrchek0LPQidCeXj9a5b3ycvwPNQuYciiPQ/zomAgscZagjBMs2shhtSqX3LeEybyEOw==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 54], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-19 11:22:41.448094"], ["id", 16]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (68.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 54], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 934)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 3032)
  Rendered line_items/create.js.erb (Duration: 6.3ms | Allocations: 3399)
Completed 200 OK in 98ms (Views: 7.5ms | ActiveRecord: 70.3ms | Allocations: 11813)


Started POST "/line_items?product_id=4" for ::1 at 2022-07-19 17:22:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LM9a1yuir8lji2m7hamrchek0LPQidCeXj9a5b3ycvwPNQuYciiPQ/zomAgscZagjBMs2shhtSqX3LeEybyEOw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 54], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 54], ["created_at", "2022-07-19 11:22:43.622340"], ["updated_at", "2022-07-19 11:22:43.622340"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (64.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.6ms | Allocations: 1074)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2401)
  Rendered line_items/create.js.erb (Duration: 4.0ms | Allocations: 2570)
Completed 200 OK in 80ms (Views: 4.2ms | ActiveRecord: 65.4ms | Allocations: 9641)


Started POST "/line_items?product_id=4" for ::1 at 2022-07-19 17:23:35 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LM9a1yuir8lji2m7hamrchek0LPQidCeXj9a5b3ycvwPNQuYciiPQ/zomAgscZagjBMs2shhtSqX3LeEybyEOw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 54], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-19 11:23:35.244242"], ["id", 17]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (84.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 54], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.3ms | Allocations: 1863)
  Rendered carts/_cart.html.erb (Duration: 11.1ms | Allocations: 3858)
  Rendered line_items/create.js.erb (Duration: 11.8ms | Allocations: 4027)
Completed 200 OK in 119ms (Views: 12.0ms | ActiveRecord: 86.1ms | Allocations: 11024)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (541.9ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (2.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (574.5ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (3.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 17:53:28 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LM9a1yuir8lji2m7hamrchek0LPQidCeXj9a5b3ycvwPNQuYciiPQ/zomAgscZagjBMs2shhtSqX3LeEybyEOw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 54], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2022-07-19 11:53:28.103808"], ["id", 16]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (56.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 54], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.9ms | Allocations: 4098)
  Rendered carts/_cart.html.erb (Duration: 12.0ms | Allocations: 6892)
  Rendered line_items/create.js.erb (Duration: 13.0ms | Allocations: 7459)
Completed 200 OK in 141ms (Views: 26.8ms | ActiveRecord: 60.8ms | Allocations: 35979)


Started DELETE "/carts/54" for 127.0.0.1 at 2022-07-19 17:53:36 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"KQgA6DI1VcVffTUtLpMv8ajPyz1fvJMR7j7BRvum+eTvxf3wOFFVtybl7kLlg2OHWz45Yk6PMxMNyyFzqhrq7w==", "id"=>"54"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 54]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (107.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 136ms (ActiveRecord: 110.1ms | Allocations: 7079)


Started GET "/" for 127.0.0.1 at 2022-07-19 17:53:37 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (145.8ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (96.0ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (118.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (96.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (107.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (89.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (111.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (116.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (90.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (74.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (126.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-19 11:53:44.312478"], ["updated_at", "2022-07-19 11:53:44.312478"]]
  [1m[35m (80.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (1.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-19 11:53:44.404008"], ["key", "environment"]]
  [1m[35m (67.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4443354715bd8c1071b561c14377a7cb69e9bab5"], ["created_at", "2022-07-19 11:53:44.484021"], ["updated_at", "2022-07-19 11:53:44.484021"]]
  [1m[35m (111.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-19 11:53:44.717715"], ["updated_at", "2022-07-19 11:53:44.717715"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (88.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.8ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.7ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.8ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 85.3ms | Allocations: 24157)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: a030b912e2cf50307e9d
Version: webpack 4.46.0
Time: 4100ms
Built at: 07/19/2022 5:53:54 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js    144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map    163 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
    + 4 hidden modules

  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 9872ms (Views: 9770.4ms | ActiveRecord: 90.7ms | Allocations: 36024)


Started GET "/cable" for 127.0.0.1 at 2022-07-19 17:53:54 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-19 17:53:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 17:54:00 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"bz3OhzIvJ8O132DuDsfJsHPp7I0/F2OEMvtQ6gj99NpMx5/Ia6UHSSq8kV2nH/Ri6F4Q5Cf/BjD7GL2LfLMCHQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 55], ["created_at", "2022-07-19 11:54:00.827503"], ["updated_at", "2022-07-19 11:54:00.827503"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (100.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.8ms | Allocations: 309)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2014)
  Rendered line_items/create.js.erb (Duration: 5.2ms | Allocations: 2410)
Completed 200 OK in 124ms (Views: 6.6ms | ActiveRecord: 102.6ms | Allocations: 10851)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-19 17:54:05 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"bz3OhzIvJ8O132DuDsfJsHPp7I0/F2OEMvtQ6gj99NpMx5/Ia6UHSSq8kV2nH/Ri6F4Q5Cf/BjD7GL2LfLMCHQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-19 11:54:05.351731"], ["id", 16]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (96.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 934)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 2912)
  Rendered line_items/create.js.erb (Duration: 5.8ms | Allocations: 3069)
Completed 200 OK in 116ms (Views: 6.4ms | ActiveRecord: 97.7ms | Allocations: 10093)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-19 17:54:25 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"bz3OhzIvJ8O132DuDsfJsHPp7I0/F2OEMvtQ6gj99NpMx5/Ia6UHSSq8kV2nH/Ri6F4Q5Cf/BjD7GL2LfLMCHQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 55], ["created_at", "2022-07-19 11:54:25.135367"], ["updated_at", "2022-07-19 11:54:25.135367"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (60.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.8ms | Allocations: 1074)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2401)
  Rendered line_items/create.js.erb (Duration: 4.2ms | Allocations: 2571)
Completed 200 OK in 77ms (Views: 4.5ms | ActiveRecord: 61.7ms | Allocations: 9662)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (420.8ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (461.1ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for 127.0.0.1 at 2022-07-20 09:14:45 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (105.9ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (105.6ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (110.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (120.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (132.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (189.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (96.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (119.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (76.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220718113004)[0m
  [1m[35m (87.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831);

[0m
  [1m[35m (130.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-20 03:14:55.881918"], ["updated_at", "2022-07-20 03:14:55.881918"]]
  [1m[35m (73.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-20 03:14:55.963561"], ["key", "environment"]]
  [1m[35m (92.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "4443354715bd8c1071b561c14377a7cb69e9bab5"], ["created_at", "2022-07-20 03:14:56.065029"], ["updated_at", "2022-07-20 03:14:56.065029"]]
  [1m[35m (78.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 03:14:56.371211"], ["updated_at", "2022-07-20 03:14:56.371211"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (149.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.2ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.4ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.4ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 575.3ms | Allocations: 18383)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 56], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 1026ms (Views: 752.9ms | ActiveRecord: 155.6ms | Allocations: 39011)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 09:14:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 09:14:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for 127.0.0.1 at 2022-07-20 09:15:00 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 34.7ms | Allocations: 3663)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 52.9ms | ActiveRecord: 0.1ms | Allocations: 8969)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 09:15:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 09:15:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 09:15:05 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Ef/i7X1pyI4qrqVkJzrP9/4PRFcqcZitztIjDJVse5eaF9PQZvlFkLZitUK1sq7y+Hut6HX4TZ0Veb0zRzgZVg==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 56], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 56], ["created_at", "2022-07-20 03:15:05.494938"], ["updated_at", "2022-07-20 03:15:05.494938"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (163.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.5ms | Allocations: 320)
  Rendered carts/_cart.html.erb (Duration: 13.7ms | Allocations: 2286)
  Rendered line_items/create.js.erb (Duration: 17.0ms | Allocations: 2713)
Completed 200 OK in 295ms (Views: 25.6ms | ActiveRecord: 166.9ms | Allocations: 16713)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-20 09:15:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Ef/i7X1pyI4qrqVkJzrP9/4PRFcqcZitztIjDJVse5eaF9PQZvlFkLZitUK1sq7y+Hut6HX4TZ0Veb0zRzgZVg==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 56], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 56], ["created_at", "2022-07-20 03:15:09.536967"], ["updated_at", "2022-07-20 03:15:09.536967"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (79.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1074)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 2402)
  Rendered line_items/create.js.erb (Duration: 5.5ms | Allocations: 2572)
Completed 200 OK in 122ms (Views: 5.8ms | ActiveRecord: 81.7ms | Allocations: 9677)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20220720031808)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20220720031808)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220720031808"]]
  [1m[35m (113.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderToLineItem (20220720031823)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "line_items" ADD "order_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220720031823"]]
  [1m[35m (116.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2022-07-20 10:44:55 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1554)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 56], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 46.9ms | Allocations: 6931)
  Rendered carts/_cart.html.erb (Duration: 56.9ms | Allocations: 13041)
Completed 200 OK in 226ms (Views: 215.9ms | ActiveRecord: 1.7ms | Allocations: 43737)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:44:55 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:44:55 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/56" for 127.0.0.1 at 2022-07-20 10:45:02 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Eo5FcG/skhAdvsQz5eiOFRBNMlj2Fg8Crpt0dMZAll6ZZnRNdHwfDoFy1BV3YO8QFjnb56mf2jJ1MOpLFBT0nw==", "id"=>"56"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 56]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (218.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 235ms (ActiveRecord: 219.9ms | Allocations: 7107)


Started GET "/" for 127.0.0.1 at 2022-07-20 10:45:02 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 04:45:02.554568"], ["updated_at", "2022-07-20 04:45:02.554568"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (106.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 957)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 145ms (Views: 24.2ms | ActiveRecord: 108.3ms | Allocations: 10333)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:45:02 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:45:02 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:45:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 10:45:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Muf+lLg+F3VErR7um+zEyR94DfLScBI7rmKmffDbFiK5D8+po66aa9hhDsgJZKXMGQzkTY35xwt1yThCIo904w==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 57], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 57], ["created_at", "2022-07-20 04:45:04.785519"], ["updated_at", "2022-07-20 04:45:04.785519"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (91.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1683)
  Rendered line_items/create.js.erb (Duration: 3.5ms | Allocations: 2073)
Completed 200 OK in 112ms (Views: 4.9ms | ActiveRecord: 93.1ms | Allocations: 10577)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-20 10:45:07 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Muf+lLg+F3VErR7um+zEyR94DfLScBI7rmKmffDbFiK5D8+po66aa9hhDsgJZKXMGQzkTY35xwt1yThCIo904w==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 57], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 57], ["created_at", "2022-07-20 04:45:07.531882"], ["updated_at", "2022-07-20 04:45:07.531882"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (287.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.3ms | Allocations: 1826)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 3260)
  Rendered line_items/create.js.erb (Duration: 8.2ms | Allocations: 3449)
Completed 200 OK in 335ms (Views: 11.2ms | ActiveRecord: 290.2ms | Allocations: 10063)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-20 10:45:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Muf+lLg+F3VErR7um+zEyR94DfLScBI7rmKmffDbFiK5D8+po66aa9hhDsgJZKXMGQzkTY35xwt1yThCIo904w==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 57], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-20 04:45:09.811899"], ["id", 19]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (90.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.2ms | Allocations: 2643)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 4013)
  Rendered line_items/create.js.erb (Duration: 10.5ms | Allocations: 4203)
Completed 200 OK in 128ms (Views: 10.8ms | ActiveRecord: 92.7ms | Allocations: 10636)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 10:45:12 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:75:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 48.6ms | Allocations: 2903)
  Rendered orders/new.html.erb within layouts/application (Duration: 50.8ms | Allocations: 3216)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.8ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 13.6ms | Allocations: 3212)
Completed 200 OK in 123ms (Views: 83.5ms | ActiveRecord: 4.6ms | Allocations: 19272)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:45:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:45:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:45:12 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:45:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:45:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 10:45:45 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"vREVDpOhZtOo/BEi9jn9il/c2ti2cjmSz9DXosqKh/Q2+SQziDHrzTQwAQRksZyPWagzZ+n77KIUe0mdGN7lNQ==", "order"=>{"name"=>"Nishat", "address"=>"Dhaka", "email"=>"nishat@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
  [1m[36mOrder Create (1.8ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nishat"], ["address", "Dhaka"], ["email", "nishat@gmail.com"], ["pay_type", 0], ["created_at", "2022-07-20 04:45:45.633179"], ["updated_at", "2022-07-20 04:45:45.633179"]]
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
  [1m[35m (201.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/orders/1
Completed 302 Found in 216ms (ActiveRecord: 203.1ms | Allocations: 4453)


Started GET "/orders/1" for 127.0.0.1 at 2022-07-20 10:45:45 +0600
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:66:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.2ms | Allocations: 6003)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:45:45 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:45:45 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:45:45 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 10:46:02 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1173)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 21.6ms | ActiveRecord: 1.5ms | Allocations: 6113)


Started GET "/orders/1" for 127.0.0.1 at 2022-07-20 10:46:08 +0600
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:66:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 105)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms | Allocations: 5449)


Started GET "/orders" for 127.0.0.1 at 2022-07-20 10:46:11 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 845)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.2ms | Allocations: 5628)


Started GET "/orders/1/edit" for 127.0.0.1 at 2022-07-20 10:46:13 +0600
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:66:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.5ms | Allocations: 1441)
  Rendered orders/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1716)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.2ms | Allocations: 7202)


Started GET "/orders" for 127.0.0.1 at 2022-07-20 10:46:15 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 848)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 49.7ms | ActiveRecord: 0.3ms | Allocations: 5649)


Started GET "/" for 127.0.0.1 at 2022-07-20 10:46:20 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.6ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 3212)
Completed 200 OK in 23ms (Views: 19.2ms | ActiveRecord: 1.0ms | Allocations: 10405)


Started GET "/" for 127.0.0.1 at 2022-07-20 10:49:19 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.8ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 3205)
Completed 200 OK in 44ms (Views: 40.5ms | ActiveRecord: 1.1ms | Allocations: 22813)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:49:19 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:49:19 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:49:19 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 10:49:22 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:75:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.1ms | Allocations: 1372)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1443)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.6ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 14.7ms | Allocations: 3207)
Completed 200 OK in 43ms (Views: 34.4ms | ActiveRecord: 1.7ms | Allocations: 11506)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:49:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:49:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:49:22 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/57" for 127.0.0.1 at 2022-07-20 10:49:42 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kgf6duiChkZUuW3O8iOV4TDBSidY+6ZXAzGN/VaUsZ0Z78tL8xILWMh1fehgq/TkNrWjmAdyc2fYmhPChMDTXA==", "id"=>"57"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 57]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (106.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 139ms (ActiveRecord: 108.2ms | Allocations: 6927)


Started GET "/" for 127.0.0.1 at 2022-07-20 10:49:42 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 04:49:42.216976"], ["updated_at", "2022-07-20 04:49:42.216976"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (102.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 136ms (Views: 21.0ms | ActiveRecord: 104.1ms | Allocations: 10318)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:49:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:49:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:49:42 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 10:49:43 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"222xgHtJ8dcFe7g9ymnKfBqdqGUIgWxguiY7Oxx0PKVQhYC9YNl8yZm3qBtY4at5HOlB2lcIuVBhjaUEziBeZA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 58], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 58], ["created_at", "2022-07-20 04:49:43.905892"], ["updated_at", "2022-07-20 04:49:43.905892"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (107.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 1565)
  Rendered line_items/create.js.erb (Duration: 2.8ms | Allocations: 1741)
Completed 200 OK in 125ms (Views: 3.3ms | ActiveRecord: 108.5ms | Allocations: 8906)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-20 10:49:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"222xgHtJ8dcFe7g9ymnKfBqdqGUIgWxguiY7Oxx0PKVQhYC9YNl8yZm3qBtY4at5HOlB2lcIuVBhjaUEziBeZA==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 58], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 58], ["created_at", "2022-07-20 04:49:46.196319"], ["updated_at", "2022-07-20 04:49:46.196319"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (119.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.0ms | Allocations: 1074)
  Rendered carts/_cart.html.erb (Duration: 15.2ms | Allocations: 2508)
  Rendered line_items/create.js.erb (Duration: 16.0ms | Allocations: 2697)
Completed 200 OK in 162ms (Views: 16.1ms | ActiveRecord: 122.4ms | Allocations: 9860)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-20 10:49:49 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"222xgHtJ8dcFe7g9ymnKfBqdqGUIgWxguiY7Oxx0PKVQhYC9YNl8yZm3qBtY4at5HOlB2lcIuVBhjaUEziBeZA==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 58], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 58], ["created_at", "2022-07-20 04:49:49.470330"], ["updated_at", "2022-07-20 04:49:49.470330"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (246.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.7ms | Allocations: 2001)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 3458)
  Rendered line_items/create.js.erb (Duration: 6.8ms | Allocations: 3660)
Completed 200 OK in 263ms (Views: 6.9ms | ActiveRecord: 248.0ms | Allocations: 10823)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 10:49:50 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"222xgHtJ8dcFe7g9ymnKfBqdqGUIgWxguiY7Oxx0PKVQhYC9YNl8yZm3qBtY4at5HOlB2lcIuVBhjaUEziBeZA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 58], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-20 04:49:50.936201"], ["id", 18]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (88.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 18.9ms | Allocations: 2944)
  Rendered carts/_cart.html.erb (Duration: 21.1ms | Allocations: 4336)
  Rendered line_items/create.js.erb (Duration: 21.4ms | Allocations: 4538)
Completed 200 OK in 124ms (Views: 21.3ms | ActiveRecord: 90.3ms | Allocations: 11540)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 10:49:52 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:75:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.4ms | Allocations: 1372)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1443)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 6.3ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 8.5ms | Allocations: 4149)
Completed 200 OK in 29ms (Views: 22.2ms | ActiveRecord: 1.1ms | Allocations: 12457)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:49:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:49:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:49:52 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 10:50:14 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"eF/arNFRqXBsDT9sdlZpMM6PzUuQGN3OCEZ0HdjtFTXzt+uRysEkbvDBL0rk3gg1yPsk9M+RCP7T7eoiCrl39A==", "order"=>{"name"=>"Nishat", "address"=>"DOHS", "email"=>"nishat@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Nishat"], ["address", "DOHS"], ["email", "nishat@gmail.com"], ["pay_type", 1], ["created_at", "2022-07-20 04:50:14.314623"], ["updated_at", "2022-07-20 04:50:14.314623"]]
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
  [1m[35m (189.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/orders/2
Completed 302 Found in 203ms (ActiveRecord: 190.0ms | Allocations: 4406)


Started GET "/orders/2" for 127.0.0.1 at 2022-07-20 10:50:14 +0600
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:66:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 106)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.3ms | Allocations: 5468)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:50:14 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 10:50:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 10:50:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 10:50:20 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1023)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.3ms | Allocations: 5810)


Started GET "/orders/2" for 127.0.0.1 at 2022-07-20 10:50:26 +0600
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:66:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 104)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 5445)


Started GET "/orders" for 127.0.0.1 at 2022-07-20 10:50:27 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1023)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms | Allocations: 5826)


Started GET "/" for 127.0.0.1 at 2022-07-20 10:50:29 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 5.0ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 4148)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 1.1ms | Allocations: 11342)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 11:00:12 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:75:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.0ms | Allocations: 1439)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1510)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 13.7ms | Allocations: 8618)
  Rendered carts/_cart.html.erb (Duration: 22.8ms | Allocations: 14383)
Completed 200 OK in 50ms (Views: 31.2ms | ActiveRecord: 1.5ms | Allocations: 31959)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:00:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:00:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-20 11:00:18 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1067)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 6.8ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 4156)
Completed 200 OK in 32ms (Views: 26.7ms | ActiveRecord: 1.5ms | Allocations: 11684)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:00:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:00:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 11:01:47 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:75:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.0ms | Allocations: 1372)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1443)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.9ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 4149)
Completed 200 OK in 27ms (Views: 20.9ms | ActiveRecord: 0.8ms | Allocations: 12447)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:01:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:01:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:01:47 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-20 11:02:00 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 7.3ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 11.7ms | Allocations: 4148)
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 1.3ms | Allocations: 11345)


Started GET "/" for 127.0.0.1 at 2022-07-20 11:03:02 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 6.2ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 8.5ms | Allocations: 4148)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 1.0ms | Allocations: 11348)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:03:02 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:03:02 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:03:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 11:03:05 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:75:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.4ms | Allocations: 1372)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1443)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 9.4ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 12.5ms | Allocations: 4149)
Completed 200 OK in 29ms (Views: 23.8ms | ActiveRecord: 1.2ms | Allocations: 12467)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:03:05 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:03:05 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:03:05 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 11:03:29 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"iPIy3K55Jt4dTBBBnLuSEtjq524E6MBJ0X6LOBm50GEDGgPhtemrwIGAAGcOM/MX3p4O0VthFXkK1RUHy+2yoA==", "order"=>{"name"=>"Lea", "address"=>"Ctg", "email"=>"nishat@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
  [1m[36mOrder Create (2.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lea"], ["address", "Ctg"], ["email", "nishat@gmail.com"], ["pay_type", 0], ["created_at", "2022-07-20 05:03:29.179843"], ["updated_at", "2022-07-20 05:03:29.179843"]]
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
  [1m[35m (177.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/orders/3
Completed 302 Found in 199ms (ActiveRecord: 180.4ms | Allocations: 4479)


Started GET "/orders/3" for 127.0.0.1 at 2022-07-20 11:03:29 +0600
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:66:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 108)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.2ms | Allocations: 5638)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:03:29 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:03:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:03:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 11:03:31 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1242)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 0.3ms | Allocations: 6025)


Started DELETE "/orders/3" for 127.0.0.1 at 2022-07-20 11:03:49 +0600
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"HaMAFR79ex4q3Ljqi+WBfRh6nlwNzlfQ18uoSka/dbqWSzEoBW32ALYQqMwZbeB4Hg5341JHguAMYDZ1lOsXew==", "id"=>"3"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:66:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:55:in `destroy'
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/orders_controller.rb:55:in `destroy'
  [1m[35m (68.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:55:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 81ms (ActiveRecord: 68.7ms | Allocations: 4125)


Started GET "/orders" for 127.0.0.1 at 2022-07-20 11:03:50 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1025)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.1ms | Allocations: 5835)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:03:50 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:03:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:03:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 11:57:10 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 5636)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 22.0ms | ActiveRecord: 0.3ms | Allocations: 11886)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:57:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-20 11:57:13 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1068)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 10.7ms | Allocations: 7654)
  Rendered carts/_cart.html.erb (Duration: 19.5ms | Allocations: 13421)
Completed 200 OK in 45ms (Views: 35.9ms | ActiveRecord: 1.3ms | Allocations: 25988)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 11:57:17 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.0ms | Allocations: 1378)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1449)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 10.8ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 15.9ms | Allocations: 4150)
Completed 200 OK in 45ms (Views: 36.8ms | ActiveRecord: 1.5ms | Allocations: 12471)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:17 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:57:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:57:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 11:57:37 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Z5ZLxIFZbotRyHvmBhdIlKSMNwNyzojCpbE80DNm143sfnr5msnjlc0Ea8CUnymRovjevC1HXfJ+GqLv4TK1TA==", "order"=>{"name"=>"Lea", "address"=>"Ctg", "email"=>"lea@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lea"], ["address", "Ctg"], ["email", "lea@gmail.com"], ["pay_type", 1], ["created_at", "2022-07-20 05:57:37.399402"], ["updated_at", "2022-07-20 05:57:37.399402"]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["updated_at", "2022-07-20 05:57:37.402101"], ["id", 18]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mLineItem Update (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["updated_at", "2022-07-20 05:57:37.404077"], ["id", 19]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["updated_at", "2022-07-20 05:57:37.408771"], ["id", 20]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (132.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 58]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[35m (107.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 297ms (ActiveRecord: 242.5ms | Allocations: 19306)


Started GET "/" for 127.0.0.1 at 2022-07-20 11:57:37 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 05:57:37.682320"], ["updated_at", "2022-07-20 05:57:37.682320"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (77.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 954)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 92ms (Views: 8.0ms | ActiveRecord: 78.5ms | Allocations: 10245)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:37 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:57:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-20 11:57:44 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (28.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 52ms (Views: 20.3ms | ActiveRecord: 28.8ms | Allocations: 7133)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 11:57:46 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"U8bZ9CL/5yo+I11Pyztic+EP//g/0Q1jCJBwjRMCT9xcwS3JlzyatypS2G5AJCI1qH0CuX9l4SbZ4WIjmlxvOg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 59], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 59], ["created_at", "2022-07-20 05:57:46.586251"], ["updated_at", "2022-07-20 05:57:46.586251"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (578.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 1566)
  Rendered line_items/create.js.erb (Duration: 2.8ms | Allocations: 1742)
Completed 200 OK in 591ms (Views: 3.3ms | ActiveRecord: 579.0ms | Allocations: 9227)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 11:57:49 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.8ms | Allocations: 1372)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1443)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2261)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 0.9ms | Allocations: 10565)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:49 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:57:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 11:57:58 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"JWLm1OjinPqCoJ6TP61rhJDlVPGxvSZSVou2vyU/7jiuitfp83IR5B5sjrWtJQqBlpG9Tu4082KNICiA92uM+Q==", "order"=>{"name"=>"Lea", "address"=>"", "email"=>"lea@gmail.com", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.1ms | Allocations: 1715)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1786)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 743)
Completed 422 Unprocessable Entity in 33ms (Views: 15.2ms | ActiveRecord: 0.7ms | Allocations: 13256)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 11:57:58 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 11:57:58 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started DELETE "/carts/59" for 127.0.0.1 at 2022-07-20 12:00:25 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"i+xCcguSlEoDK3vngFv+5lkPMD/AHyAgLl0RRgr4JccABHNPEAIZVJ/na8ES05/jX3vZgJ+W9RD19o952KxHBg==", "id"=>"59"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 59]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (119.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 138ms (ActiveRecord: 121.0ms | Allocations: 6007)


Started GET "/" for 127.0.0.1 at 2022-07-20 12:00:25 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (2.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 06:00:25.413546"], ["updated_at", "2022-07-20 06:00:25.413546"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (85.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 109ms (Views: 9.8ms | ActiveRecord: 88.5ms | Allocations: 10332)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:00:25 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:00:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:00:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 12:00:29 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LpzXsmNaUmTutqeYDZuVcbGCBkM0OETUxS673LnSQQ+ldOaPeMrfenJ6t76fE/R0t/bv/GuxkeQehSXja4Yjzg==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 60], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 60], ["created_at", "2022-07-20 06:00:29.372096"], ["updated_at", "2022-07-20 06:00:29.372096"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (96.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 1708)
  Rendered line_items/create.js.erb (Duration: 3.0ms | Allocations: 1884)
Completed 200 OK in 115ms (Views: 3.3ms | ActiveRecord: 97.5ms | Allocations: 8964)


Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-20 12:00:32 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LpzXsmNaUmTutqeYDZuVcbGCBkM0OETUxS673LnSQQ+ldOaPeMrfenJ6t76fE/R0t/bv/GuxkeQehSXja4Yjzg==", "product_id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 60], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 60], ["created_at", "2022-07-20 06:00:32.367302"], ["updated_at", "2022-07-20 06:00:32.367302"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (90.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.8ms | Allocations: 1226)
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 2660)
  Rendered line_items/create.js.erb (Duration: 9.6ms | Allocations: 2849)
Completed 200 OK in 113ms (Views: 10.0ms | ActiveRecord: 92.2ms | Allocations: 9917)


Started GET "/" for 127.0.0.1 at 2022-07-20 12:17:18 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1069)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 20.0ms | Allocations: 6732)
  Rendered carts/_cart.html.erb (Duration: 36.5ms | Allocations: 12477)
Completed 200 OK in 81ms (Views: 58.0ms | ActiveRecord: 1.5ms | Allocations: 25341)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:17:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:17:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:18:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:18:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2022-07-20 12:32:37 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:64:in `who_bought'
Completed 404 Not Found in 16ms (ActiveRecord: 0.7ms | Allocations: 3100)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=3):
  
app/controllers/products_controller.rb:64:in `who_bought'
Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:32:46 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:32:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:33:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:33:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 12:34:17 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.4ms | Allocations: 1816)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2124)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.7ms | Allocations: 6860)
  Rendered carts/_cart.html.erb (Duration: 35.6ms | Allocations: 12997)
Completed 200 OK in 70ms (Views: 46.0ms | ActiveRecord: 1.3ms | Allocations: 32432)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:34:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:34:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:34:17 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 12:34:24 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"u0tRed2NTDPSS7W2HeMNtIU6PFH1o29z0jx7LBF4UIEwo2BExh3BLU6HpZCPa2yxg07V7qoqukMJl+UTwywyQA==", "order"=>{"name"=>"Lea", "address"=>"", "email"=>"lea@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.0ms | Allocations: 1522)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1593)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.4ms | Allocations: 287)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 893)
Completed 422 Unprocessable Entity in 38ms (Views: 22.4ms | ActiveRecord: 0.8ms | Allocations: 15006)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:34:24 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:34:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:34:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 12:34:34 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"PFnZlOLZ7pfe4C7B8y1c3NeJY4JPJLmnlBAOW1QtxYO3seip+UljiUIsPudhpT3Z0f2KPRCtbJdPu5BkhnmnQg==", "order"=>{"name"=>"Lea", "address"=>"Dhaka", "email"=>"lea@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lea"], ["address", "Dhaka"], ["email", "lea@gmail.com"], ["pay_type", 0], ["created_at", "2022-07-20 06:34:34.702966"], ["updated_at", "2022-07-20 06:34:34.702966"]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["updated_at", "2022-07-20 06:34:34.708683"], ["id", 21]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["updated_at", "2022-07-20 06:34:34.713793"], ["id", 22]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (145.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 60]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[35m (108.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 299ms (ActiveRecord: 257.3ms | Allocations: 15087)


Started GET "/" for 127.0.0.1 at 2022-07-20 12:34:34 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 06:34:34.987834"], ["updated_at", "2022-07-20 06:34:34.987834"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (119.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1552)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 61], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 137ms (Views: 11.6ms | ActiveRecord: 120.1ms | Allocations: 11628)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:34:35 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:34:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:34:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (152.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (199.4ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (212.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (266.8ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (243.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (233.6ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (209.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (213.6ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (291.6ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (258.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (230.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (292.5ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (219.7ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (177.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (208.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (249.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (204.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (250.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (205.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (542.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (739.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (400.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (176.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220720031823)[0m
  [1m[35m (206.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220720031823)[0m
  [1m[35m (211.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808);

[0m
  [1m[35m (233.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808);

[0m
  [1m[35m (277.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-20 06:35:25.099899"], ["updated_at", "2022-07-20 06:35:25.099899"]]
  [1m[35m (211.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-20 06:35:25.199714"], ["updated_at", "2022-07-20 06:35:25.199714"]]
  [1m[35m (134.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0e3236db42484f7fe3cefdd4e882f44888626b33"], ["created_at", "2022-07-20 06:35:25.241922"], ["updated_at", "2022-07-20 06:35:25.241922"]]
  [1m[35m (158.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0e3236db42484f7fe3cefdd4e882f44888626b33"], ["created_at", "2022-07-20 06:35:25.369669"], ["updated_at", "2022-07-20 06:35:25.369669"]]
  [1m[35m (208.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (136.9ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:35:35 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:35:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 12:35:38 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7xGZ6QsC1Koq2srEsaknzzBgtxUxF1rbR8wCxspCXH5k+ajUEJJZtLYW2uIjIUbKNhReqm6ej+ucZ5z5GBY+vw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 61], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 61], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 61], ["created_at", "2022-07-20 06:35:38.087125"], ["updated_at", "2022-07-20 06:35:38.087125"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (121.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 61]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.0ms | Allocations: 2379)
  Rendered carts/_cart.html.erb (Duration: 18.0ms | Allocations: 4499)
  Rendered line_items/create.js.erb (Duration: 21.1ms | Allocations: 5067)
Completed 200 OK in 227ms (Views: 28.4ms | ActiveRecord: 125.0ms | Allocations: 35185)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-20 12:35:41 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7xGZ6QsC1Koq2srEsaknzzBgtxUxF1rbR8wCxspCXH5k+ajUEJJZtLYW2uIjIUbKNhReqm6ej+ucZ5z5GBY+vw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 61], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 61], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 61], ["created_at", "2022-07-20 06:35:41.889519"], ["updated_at", "2022-07-20 06:35:41.889519"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (126.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (4.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 61]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 12.0ms | Allocations: 1074)
  Rendered carts/_cart.html.erb (Duration: 28.7ms | Allocations: 2511)
  Rendered line_items/create.js.erb (Duration: 29.6ms | Allocations: 2701)
Completed 200 OK in 172ms (Views: 25.8ms | ActiveRecord: 132.9ms | Allocations: 9882)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 12:35:44 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 61], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 61], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.8ms | Allocations: 2684)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2997)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 61], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 61]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.8ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 17.5ms | Allocations: 3330)
Completed 200 OK in 303ms (Views: 263.6ms | ActiveRecord: 4.1ms | Allocations: 39602)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:35:45 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:35:45 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:35:45 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 12:36:13 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"gCGKDJsgJER6m31aHm3ZhgkzEET7jTzJn0jU2Qg5usgLybsxgLCpWuZXbXyM5biDD0f5+6QE6flE40rm2m3YCQ==", "order"=>{"name"=>"X", "address"=>"X", "email"=>"X@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 61], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 61]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mOrder Create (2.7ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "X"], ["address", "X"], ["email", "X@gmail.com"], ["pay_type", 1], ["created_at", "2022-07-20 06:36:13.386916"], ["updated_at", "2022-07-20 06:36:13.386916"]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 6], ["updated_at", "2022-07-20 06:36:13.397750"], ["id", 23]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 6], ["updated_at", "2022-07-20 06:36:13.408299"], ["id", 24]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (127.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 61], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[36mLineItem Load (3.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 61]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 61]]
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
  [1m[35m (132.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:32:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 375ms (ActiveRecord: 269.0ms | Allocations: 16755)


Started GET "/" for 127.0.0.1 at 2022-07-20 12:36:13 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (99.0ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (116.7ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (139.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (123.6ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (100.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (120.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (174.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (127.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:36:22 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:36:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (99.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (128.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (105.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (99.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220720031823)[0m
  [1m[35m (98.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808);

[0m
  [1m[35m (131.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-20 06:36:22.972192"], ["updated_at", "2022-07-20 06:36:22.972192"]]
  [1m[35m (122.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (1.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-20 06:36:23.101699"], ["key", "environment"]]
  [1m[35m (112.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0e3236db42484f7fe3cefdd4e882f44888626b33"], ["created_at", "2022-07-20 06:36:23.225733"], ["updated_at", "2022-07-20 06:36:23.225733"]]
  [1m[35m (110.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 06:36:23.389983"], ["updated_at", "2022-07-20 06:36:23.389983"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (156.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.0ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (1.5ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.2ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 6048)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 196ms (Views: 26.1ms | ActiveRecord: 158.0ms | Allocations: 16251)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 12:36:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:36:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 12:36:23 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2022-07-20 12:54:14 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:64:in `who_bought'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1112)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=3):
  
app/controllers/products_controller.rb:64:in `who_bought'
Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2022-07-20 12:54:48 +0600
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:64:in `who_bought'
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1046)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=3):
  
app/controllers/products_controller.rb:64:in `who_bought'
Started GET "/products/5/who_bought.atom" for 127.0.0.1 at 2022-07-20 12:55:14 +0600
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:64:in `who_bought'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "line_items" ON "orders"."id" = "line_items"."order_id" WHERE "line_items"."product_id" = ? ORDER BY "orders"."updated_at" DESC LIMIT ?[0m  [["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `who_bought'
  Rendering products/who_bought.atom.builder
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "line_items" ON "orders"."id" = "line_items"."order_id" WHERE "line_items"."product_id" = ?[0m  [["product_id", 5]]
  ↳ app/views/products/who_bought.atom.builder:4
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 6]]
  ↳ app/views/products/who_bought.atom.builder:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/products/who_bought.atom.builder:17
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/products/who_bought.atom.builder:17
  Rendered products/who_bought.atom.builder (Duration: 75.1ms | Allocations: 8504)
Completed 200 OK in 161ms (Views: 77.0ms | ActiveRecord: 1.1ms | Allocations: 21710)


Started GET "/products/6/who_bought.atom" for 127.0.0.1 at 2022-07-20 12:55:38 +0600
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:64:in `who_bought'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "line_items" ON "orders"."id" = "line_items"."order_id" WHERE "line_items"."product_id" = ? ORDER BY "orders"."updated_at" DESC LIMIT ?[0m  [["product_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `who_bought'
  Rendering products/who_bought.atom.builder
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "line_items" ON "orders"."id" = "line_items"."order_id" WHERE "line_items"."product_id" = ?[0m  [["product_id", 6]]
  ↳ app/views/products/who_bought.atom.builder:4
  Rendered products/who_bought.atom.builder (Duration: 4.8ms | Allocations: 1167)
Completed 200 OK in 20ms (Views: 6.0ms | ActiveRecord: 0.9ms | Allocations: 3170)


Started GET "/products/4/who_bought.atom" for 127.0.0.1 at 2022-07-20 12:55:47 +0600
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:64:in `who_bought'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "line_items" ON "orders"."id" = "line_items"."order_id" WHERE "line_items"."product_id" = ? ORDER BY "orders"."updated_at" DESC LIMIT ?[0m  [["product_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:65:in `who_bought'
  Rendering products/who_bought.atom.builder
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" INNER JOIN "line_items" ON "orders"."id" = "line_items"."order_id" WHERE "line_items"."product_id" = ?[0m  [["product_id", 4]]
  ↳ app/views/products/who_bought.atom.builder:4
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 6]]
  ↳ app/views/products/who_bought.atom.builder:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/products/who_bought.atom.builder:17
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/products/who_bought.atom.builder:17
  Rendered products/who_bought.atom.builder (Duration: 10.8ms | Allocations: 5092)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 0.9ms | Allocations: 7155)


Started GET "/" for 127.0.0.1 at 2022-07-20 13:06:36 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 955)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 7157)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:06:36 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 13:06:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:06:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 13:46:10 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"3ewIaUMQm04mTpGLHR+8LWU1s7PFVDABRefsdzrsO5BWBDlUWIAWULqCga2Pl90oY0FaDJrd5TGeTHJI6LhZUQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 62], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 62], ["created_at", "2022-07-20 07:46:10.270755"], ["updated_at", "2022-07-20 07:46:10.270755"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (102.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.6ms | Allocations: 309)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2128)
  Rendered line_items/create.js.erb (Duration: 3.9ms | Allocations: 2547)
Completed 200 OK in 120ms (Views: 5.1ms | ActiveRecord: 104.1ms | Allocations: 10913)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 13:46:12 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.6ms | Allocations: 1758)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 5042)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms | Allocations: 7587)


  
ActionView::Template::Error (Webpacker can't find hello_react in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-f534446c29cef042f79d.js",
  "application.js.map": "/packs/js/application-f534446c29cef042f79d.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-f534446c29cef042f79d.js"
      ],
      "js.map": [
        "/packs/js/application-f534446c29cef042f79d.js.map"
      ]
    }
  }
}
):
    2:   <h1>Please Enter Your Details</h1>
    3:   <%= render 'form', order: @order %>
    4: </section>
    5: <%= javascript_pack_tag("hello_react") %>
  
app/views/orders/new.html.erb:5
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:46:12 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 13:46:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:46:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 13:46:25 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"3ewIaUMQm04mTpGLHR+8LWU1s7PFVDABRefsdzrsO5BWBDlUWIAWULqCga2Pl90oY0FaDJrd5TGeTHJI6LhZUQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 62], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-20 07:46:25.867947"], ["id", 25]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (63.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 934)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2291)
  Rendered line_items/create.js.erb (Duration: 4.2ms | Allocations: 2467)
Completed 200 OK in 79ms (Views: 4.5ms | ActiveRecord: 64.6ms | Allocations: 9477)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 13:46:27 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.1ms | Allocations: 1372)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4399)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.4ms | Allocations: 6208)


  
ActionView::Template::Error (Webpacker can't find hello_react in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-f534446c29cef042f79d.js",
  "application.js.map": "/packs/js/application-f534446c29cef042f79d.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-f534446c29cef042f79d.js"
      ],
      "js.map": [
        "/packs/js/application-f534446c29cef042f79d.js.map"
      ]
    }
  }
}
):
    2:   <h1>Please Enter Your Details</h1>
    3:   <%= render 'form', order: @order %>
    4: </section>
    5: <%= javascript_pack_tag("hello_react") %>
  
app/views/orders/new.html.erb:5
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:46:27 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 13:46:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:46:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-20 13:46:31 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1431)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2384)
Completed 200 OK in 21ms (Views: 17.5ms | ActiveRecord: 0.8ms | Allocations: 11044)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:46:31 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 13:46:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:46:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 13:47:41 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 40.1ms | Allocations: 1380)
[Webpacker] Compiling...
Started DELETE "/carts/62" for 127.0.0.1 at 2022-07-20 13:48:04 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"/IuL0pUxrD3svNp7cBkfwZ/4Vf8hRQm+3tpLX5VLgpt3Y7rvjqEhI3Bwyl3ikX7EmYy8QH7M3I4FcdVgRx/gWg==", "id"=>"62"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 62]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (187.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 200ms (ActiveRecord: 188.4ms | Allocations: 6083)


Started GET "/" for 127.0.0.1 at 2022-07-20 13:48:04 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 07:48:04.307160"], ["updated_at", "2022-07-20 07:48:04.307160"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (145.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 956)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 7702397cf92c4699a94b
Version: webpack 4.46.0
Time: 12060ms
Built at: 07/20/2022 1:48:04 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js    144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map    163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js   1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map   1.44 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} [built]
    + 21 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 23047.2ms | Allocations: 31542)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.6ms | Allocations: 1278)
Completed 200 OK in 23104ms (Views: 23076.8ms | ActiveRecord: 1.6ms | Allocations: 39589)


[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Hash: 7702397cf92c4699a94b
Version: webpack 4.46.0
Time: 1668ms
Built at: 07/20/2022 1:48:08 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js    144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map    163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js   1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map   1.44 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} [built]
    + 21 hidden modules

  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 3783ms (Views: 3631.8ms | ActiveRecord: 146.0ms | Allocations: 20050)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:48:08 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 13:48:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:48:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 13:48:10 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+zPlMJ3zBhi0QoVHrfEkp8S+geRU88davOe5KmJ2G9lw29QNhmOLBiiOlWE/eUWiwspoWwt6EmpnTCcVsCJ5GA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 63], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 63], ["created_at", "2022-07-20 07:48:10.023861"], ["updated_at", "2022-07-20 07:48:10.023861"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (161.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 1567)
  Rendered line_items/create.js.erb (Duration: 2.4ms | Allocations: 1743)
Completed 200 OK in 177ms (Views: 2.9ms | ActiveRecord: 162.9ms | Allocations: 8990)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 13:48:11 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.5ms | Allocations: 1372)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 11.1ms | Allocations: 3625)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 9.6ms | Allocations: 2261)
Completed 200 OK in 44ms (Views: 38.5ms | ActiveRecord: 1.0ms | Allocations: 12657)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:48:11 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 13:48:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 13:48:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:30:37 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1375)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3887)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 1132)
  Rendered carts/_cart.html.erb (Duration: 7.3ms | Allocations: 2870)
Completed 200 OK in 37ms (Views: 26.7ms | ActiveRecord: 1.8ms | Allocations: 14723)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:30:37 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:30:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:30:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 16:30:38 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fhgDAHGsV1tJXvos/XDlcxfxUnEaBSqju3xtjSlYUAD18DI9ajzaRdWS6gpv+IR2EYW7zkWM/5Ng1/Oy+wwywQ==", "order"=>{"name"=>"", "address"=>"", "email"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 1630)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3814)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 1.2ms | Allocations: 744)
Completed 422 Unprocessable Entity in 24ms (Views: 12.1ms | ActiveRecord: 0.6ms | Allocations: 15906)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:30:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:30:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:30:38 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 16:31:02 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"vMtZoKnqkss67Gt2O7BVOgwNyuZVgwKfYGvJEVul3aw3I2idsnof1aYge1CpODQ/CnkjWQoK16+7wFcuifG/bQ==", "order"=>{"name"=>"Lea", "address"=>"Khulna", "email"=>"lea@gmail.com"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.6ms | Allocations: 1207)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3391)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.7ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 743)
Completed 422 Unprocessable Entity in 46ms (Views: 24.5ms | ActiveRecord: 1.1ms | Allocations: 14388)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:31:02 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:31:02 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:31:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 16:31:09 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"tRCzlm0C5Zfq1DFCyMyJWg1iyWqwS9h5KPIy7km1G3w++IKrdpJoiXYYIWRaROhfCxYg1e/CDUnzWazRm+F5vQ==", "order"=>{"name"=>"Lea", "address"=>"Khulna", "email"=>"lea@gmail.com"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.4ms | Allocations: 1207)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3391)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 1.0ms | Allocations: 743)
Completed 422 Unprocessable Entity in 23ms (Views: 9.5ms | ActiveRecord: 0.7ms | Allocations: 14391)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:31:09 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:31:09 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:31:09 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 16:31:10 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3Xmt15dtQAL5M1hvknWRhj8KiVGcrHbQCTiMvH51Wr9WkZzqjP3NHGX/SEkA/fCDOX5g7sMlo+DSkxKDrCE4fg==", "order"=>{"name"=>"Lea", "address"=>"Khulna", "email"=>"lea@gmail.com"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.2ms | Allocations: 1207)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 3391)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 1.2ms | Allocations: 743)
Completed 422 Unprocessable Entity in 28ms (Views: 15.2ms | ActiveRecord: 0.5ms | Allocations: 14397)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:31:10 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:31:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:31:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 16:32:03 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1894)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.3ms | Allocations: 6838)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:32:03 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:32:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:32:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:32:12 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.5ms | Allocations: 1023)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3276)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2262)
Completed 200 OK in 25ms (Views: 20.0ms | ActiveRecord: 0.6ms | Allocations: 12301)


Started POST "/orders" for 127.0.0.1 at 2022-07-20 16:32:13 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"f3HNKmVRfvuDYrrOHAnCP+moi6dtxWo6QtKLSIG5zJtX99pJ9OZ2qWTZZizI6UcCf7Ky+QRgm5hjINZgcLul5w==", "order"=>{"name"=>"", "address"=>"", "email"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.4ms | Allocations: 1615)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 743)
Completed 422 Unprocessable Entity in 53ms (Views: 28.2ms | ActiveRecord: 1.1ms | Allocations: 15748)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:32:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:32:13 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:32:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 16:32:21 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"eeLNhcZrvhH4Aa0ZAXNx+8ELH608XIjzkiMKZWVVfO3yCvy43fszD2TNvT+T+xD+x3/2EmPVXcNJiJRatwEeLA==", "order"=>{"name"=>"X", "address"=>"Y", "email"=>"X@gmail.com"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.5ms | Allocations: 1207)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 3391)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.6ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 743)
Completed 422 Unprocessable Entity in 44ms (Views: 24.0ms | ActiveRecord: 1.2ms | Allocations: 14390)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:32:21 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:32:21 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:32:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 16:33:52 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1558)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 26.1ms | ActiveRecord: 0.3ms | Allocations: 6371)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:33:52 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:33:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:33:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 16:33:53 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1558)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.1ms | Allocations: 6361)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:33:53 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:33:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:33:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 16:33:54 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1558)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.4ms | Allocations: 6365)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:33:54 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:33:54 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:33:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 16:33:54 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1558)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.3ms | Allocations: 6363)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:33:54 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:33:54 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:33:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-20 16:34:02 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1433)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 2267)
Completed 200 OK in 23ms (Views: 19.8ms | ActiveRecord: 0.9ms | Allocations: 10523)


Started DELETE "/carts/63" for 127.0.0.1 at 2022-07-20 16:34:05 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"qqMNxRcBFdDoX2mRq8yZxjJAsr8pXFWOXPFVSkQmQil7pUWb8g1jTHG9nv30V0KqOQdF0rS6UEnkipy95ObIFw==", "id"=>"63"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 63]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (95.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 108ms (ActiveRecord: 97.1ms | Allocations: 6045)


Started GET "/" for 127.0.0.1 at 2022-07-20 16:34:05 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 10:34:05.949188"], ["updated_at", "2022-07-20 10:34:05.949188"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (92.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1107)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 124ms (Views: 20.3ms | ActiveRecord: 94.8ms | Allocations: 10335)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:06 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:34:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 16:34:07 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"0b0b4/+BUhdVSv6rtlTj6EEKCSkp20OXoHdI36fbA19aVSre5BHfCcmG7o0k3ILtR37glnZSlqd73NbgdY9hng==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 64], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 64], ["created_at", "2022-07-20 10:34:07.257151"], ["updated_at", "2022-07-20 10:34:07.257151"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (106.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 1684)
  Rendered line_items/create.js.erb (Duration: 3.4ms | Allocations: 2071)
Completed 200 OK in 122ms (Views: 4.8ms | ActiveRecord: 107.8ms | Allocations: 10432)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-20 16:34:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"0b0b4/+BUhdVSv6rtlTj6EEKCSkp20OXoHdI36fbA19aVSre5BHfCcmG7o0k3ILtR37glnZSlqd73NbgdY9hng==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 64], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 64], ["created_at", "2022-07-20 10:34:09.413816"], ["updated_at", "2022-07-20 10:34:09.413816"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (94.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1705)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 3294)
  Rendered line_items/create.js.erb (Duration: 4.6ms | Allocations: 3483)
Completed 200 OK in 122ms (Views: 4.8ms | ActiveRecord: 96.9ms | Allocations: 9930)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:34:11 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.9ms | Allocations: 1028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 9.3ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.1ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 12.8ms | Allocations: 3211)
Completed 200 OK in 49ms (Views: 38.9ms | ActiveRecord: 1.6ms | Allocations: 13258)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:34:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:11 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 16:34:13 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"1dC6jcIGllI0YNSc15gWPKDW/Ocx6uZgY0leU+OtczBeOIuw2ZYbTKisxLpFEHc5pqIVWG5jM1C44sBsMfkR8Q==", "order"=>{"name"=>"", "address"=>"", "email"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.8ms | Allocations: 1615)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.3ms | Allocations: 288)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 893)
Completed 422 Unprocessable Entity in 54ms (Views: 23.4ms | ActiveRecord: 1.6ms | Allocations: 17204)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:34:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:13 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-20 16:34:20 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"r4srSSidigsJj2W+UlKc9zmuycVFf6kV7FFtYbsZSekkYxp0Mw0HFZVDdZjA2v3yP9ogehr2fCU3+vNeaU0rKA==", "order"=>{"name"=>"X", "address"=>"a", "email"=>"X@gmail.com"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.5ms | Allocations: 1207)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3391)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.9ms | Allocations: 288)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 893)
Completed 422 Unprocessable Entity in 29ms (Views: 14.6ms | ActiveRecord: 0.7ms | Allocations: 15880)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:20 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:34:20 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:34:25 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.0ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3273)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.5ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 3206)
Completed 200 OK in 25ms (Views: 20.9ms | ActiveRecord: 0.7ms | Allocations: 13245)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:25 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:34:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:34:26 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.4ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3273)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.9ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 3206)
Completed 200 OK in 18ms (Views: 15.0ms | ActiveRecord: 0.6ms | Allocations: 13236)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:26 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:34:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/64" for 127.0.0.1 at 2022-07-20 16:34:29 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"0vT4VQ2F88SbHRrUJsTVLrEJAEerTVaa8pZlNk6iGHxZHMloFhV+2gfRCvK0TLQrt33p+PTEg6opPfsJnPZ6vQ==", "id"=>"64"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (3.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 64]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (116.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 165ms (ActiveRecord: 122.6ms | Allocations: 6923)


Started GET "/" for 127.0.0.1 at 2022-07-20 16:34:29 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-20 10:34:29.892628"], ["updated_at", "2022-07-20 10:34:29.892628"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (95.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 955)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 111ms (Views: 8.0ms | ActiveRecord: 95.8ms | Allocations: 10344)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:30 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:34:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:34:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-20 16:47:20 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/SPEz2AUaT1rdhBGL3si9XpCXWka5A0ew1+QyvYvljx2y/Xye4TkI/e6AGC980PwfDa01kVt2C4Y9A71JHv0/Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 65], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 65], ["created_at", "2022-07-20 10:47:20.472897"], ["updated_at", "2022-07-20 10:47:20.472897"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (100.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1597)
  Rendered line_items/create.js.erb (Duration: 2.9ms | Allocations: 1773)
Completed 200 OK in 115ms (Views: 3.1ms | ActiveRecord: 101.4ms | Allocations: 9043)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:47:22 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3273)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 8.2ms | Allocations: 2261)
Completed 200 OK in 43ms (Views: 33.7ms | ActiveRecord: 1.2ms | Allocations: 12310)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:47:22 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:47:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:47:22 +0600
ProductsChannel stopped streaming from products
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:49:12 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.9ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3273)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2261)
Completed 200 OK in 26ms (Views: 18.8ms | ActiveRecord: 0.7ms | Allocations: 12301)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:49:12 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:49:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:49:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:50:59 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.8ms | Allocations: 1374)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3884)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 20.5ms | Allocations: 1091)
  Rendered carts/_cart.html.erb (Duration: 25.7ms | Allocations: 2789)
Completed 200 OK in 48ms (Views: 42.3ms | ActiveRecord: 0.8ms | Allocations: 14596)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:50:59 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:50:59 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:50:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:51:03 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.5ms | Allocations: 1023)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3276)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2262)
Completed 200 OK in 22ms (Views: 18.0ms | ActiveRecord: 0.6ms | Allocations: 12297)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:51:03 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:51:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:51:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:51:26 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.6ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 18.8ms | Allocations: 3273)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2261)
Completed 200 OK in 46ms (Views: 37.0ms | ActiveRecord: 1.0ms | Allocations: 12305)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:51:26 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:51:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:51:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:51:31 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.4ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3273)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2261)
Completed 200 OK in 21ms (Views: 17.4ms | ActiveRecord: 0.5ms | Allocations: 12297)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:51:31 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:51:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:51:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:52:09 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.4ms | Allocations: 1374)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 10.7ms | Allocations: 4672)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms | Allocations: 7213)


  
ActionView::Template::Error (Webpacker can't find pay_type in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-f534446c29cef042f79d.js",
  "application.js.map": "/packs/js/application-f534446c29cef042f79d.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-f534446c29cef042f79d.js"
      ],
      "js.map": [
        "/packs/js/application-f534446c29cef042f79d.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js"
      ],
      "js.map": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-2c430198a9a4213c00c6.js",
  "hello_react.js.map": "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
}
):
    2:   <h1>Please Enter Your Details</h1>
    3:   <%= render 'form', order: @order %>
    4: </section>
    5: <%= javascript_pack_tag("pay_type") %>
  
app/views/orders/new.html.erb:5
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:52:09 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:56:16 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.3ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4059)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.4ms | Allocations: 5858)


  
ActionView::Template::Error (Webpacker can't find pay_type in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-f534446c29cef042f79d.js",
  "application.js.map": "/packs/js/application-f534446c29cef042f79d.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-f534446c29cef042f79d.js"
      ],
      "js.map": [
        "/packs/js/application-f534446c29cef042f79d.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js"
      ],
      "js.map": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-2c430198a9a4213c00c6.js",
  "hello_react.js.map": "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
}
):
    2:   <h1>Please Enter Your Details</h1>
    3:   <%= render 'form', order: @order %>
    4: </section>
    5: <%= javascript_pack_tag("pay_type") %>
  
app/views/orders/new.html.erb:5
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:56:17 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.4ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4059)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms | Allocations: 5857)


  
ActionView::Template::Error (Webpacker can't find pay_type in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-f534446c29cef042f79d.js",
  "application.js.map": "/packs/js/application-f534446c29cef042f79d.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-f534446c29cef042f79d.js"
      ],
      "js.map": [
        "/packs/js/application-f534446c29cef042f79d.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js"
      ],
      "js.map": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-2c430198a9a4213c00c6.js",
  "hello_react.js.map": "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
}
):
    2:   <h1>Please Enter Your Details</h1>
    3:   <%= render 'form', order: @order %>
    4: </section>
    5: <%= javascript_pack_tag("pay_type") %>
  
app/views/orders/new.html.erb:5
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:58:34 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.4ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4059)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms | Allocations: 5857)


  
ActionView::Template::Error (Webpacker can't find pay_type in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-f534446c29cef042f79d.js",
  "application.js.map": "/packs/js/application-f534446c29cef042f79d.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-f534446c29cef042f79d.js"
      ],
      "js.map": [
        "/packs/js/application-f534446c29cef042f79d.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js"
      ],
      "js.map": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-2c430198a9a4213c00c6.js",
  "hello_react.js.map": "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
}
):
    2:   <h1>Please Enter Your Details</h1>
    3:   <%= render 'form', order: @order %>
    4: </section>
    5: <%= javascript_pack_tag("pay_type") %>
  
app/views/orders/new.html.erb:5
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:58:36 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.3ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 12.0ms | Allocations: 4059)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.7ms | Allocations: 5857)


  
ActionView::Template::Error (Webpacker can't find pay_type in /home/nascenia/mystuff/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-f534446c29cef042f79d.js",
  "application.js.map": "/packs/js/application-f534446c29cef042f79d.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-f534446c29cef042f79d.js"
      ],
      "js.map": [
        "/packs/js/application-f534446c29cef042f79d.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js"
      ],
      "js.map": [
        "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-2c430198a9a4213c00c6.js",
  "hello_react.js.map": "/packs/js/hello_react-2c430198a9a4213c00c6.js.map"
}
):
    2:   <h1>Please Enter Your Details</h1>
    3:   <%= render 'form', order: @order %>
    4: </section>
    5: <%= javascript_pack_tag("pay_type") %>
  
app/views/orders/new.html.erb:5
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (714.0ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (737.6ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:58:55 +0600
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 20.6ms | Allocations: 3460)
[Webpacker] Compiling...
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 16:58:56 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.2ms | Allocations: 1020)
[Webpacker] Compiling...
Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:58:57 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:58:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 72b8059fed21f75ff85e
Version: webpack 4.46.0
Time: 3626ms
Built at: 07/20/2022 4:59:01 PM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js     144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map     163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js    1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map    1.44 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-e9ef06cd4be166c61dd4.js    1.21 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-e9ef06cd4be166c61dd4.js.map     1.4 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
Entrypoint pay_type = js/pay_type-e9ef06cd4be166c61dd4.js js/pay_type-e9ef06cd4be166c61dd4.js.map
[./app/javascript/PayTypeSelector/index.jsx] 5.16 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 522 bytes {pay_type} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} {pay_type} [built]
    + 21 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 6072.4ms | Allocations: 23197)
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 72b8059fed21f75ff85e
Version: webpack 4.46.0
Time: 3693ms
Built at: 07/20/2022 4:59:02 PM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js     144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map     163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js    1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map    1.44 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-e9ef06cd4be166c61dd4.js    1.21 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-e9ef06cd4be166c61dd4.js.map     1.4 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
Entrypoint pay_type = js/pay_type-e9ef06cd4be166c61dd4.js js/pay_type-e9ef06cd4be166c61dd4.js.map
[./app/javascript/PayTypeSelector/index.jsx] 5.16 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 522 bytes {pay_type} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} {pay_type} [built]
    + 21 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 5760.2ms | Allocations: 16359)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 36.2ms | Allocations: 9448)
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (Duration: 72.0ms | Allocations: 17652)
Completed 200 OK in 6056ms (Views: 6049.0ms | ActiveRecord: 2.0ms | Allocations: 53689)


  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.4ms | Allocations: 1016)
  Rendered carts/_cart.html.erb (Duration: 18.4ms | Allocations: 2574)
Completed 200 OK in 6783ms (Views: 6721.9ms | ActiveRecord: 3.7ms | Allocations: 84643)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 16:59:02 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 16:59:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:03:16 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.8ms | Allocations: 1023)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 0ffeb93fa1a033584023
Version: webpack 4.46.0
Time: 2982ms
Built at: 07/20/2022 5:03:22 PM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js     144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map     163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js    1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map    1.44 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-46ae737c9763a7c1ced7.js    1.21 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-46ae737c9763a7c1ced7.js.map     1.4 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
Entrypoint pay_type = js/pay_type-46ae737c9763a7c1ced7.js js/pay_type-46ae737c9763a7c1ced7.js.map
[./app/javascript/PayTypeSelector/index.jsx] 5.18 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 522 bytes {pay_type} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} {pay_type} [built]
    + 21 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 5158.0ms | Allocations: 5021)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 2261)
Completed 200 OK in 5196ms (Views: 5189.5ms | ActiveRecord: 0.7ms | Allocations: 14098)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:03:22 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:03:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:03:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:03:53 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.2ms | Allocations: 1020)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Hash: 72b8059fed21f75ff85e
Version: webpack 4.46.0
Time: 2249ms
Built at: 07/20/2022 5:03:58 PM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js     144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map     163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js    1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map    1.44 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-e9ef06cd4be166c61dd4.js    1.21 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-e9ef06cd4be166c61dd4.js.map     1.4 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
Entrypoint pay_type = js/pay_type-e9ef06cd4be166c61dd4.js js/pay_type-e9ef06cd4be166c61dd4.js.map
[./app/javascript/PayTypeSelector/index.jsx] 5.16 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 522 bytes {pay_type} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} {pay_type} [built]
    + 21 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 5011.7ms | Allocations: 5009)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2261)
Completed 200 OK in 5038ms (Views: 5025.7ms | ActiveRecord: 1.0ms | Allocations: 14094)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:03:59 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:03:59 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:03:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:05:51 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.4ms | Allocations: 1374)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 20.7ms | Allocations: 6053)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 1091)
  Rendered carts/_cart.html.erb (Duration: 13.3ms | Allocations: 2789)
Completed 200 OK in 61ms (Views: 53.6ms | ActiveRecord: 1.2ms | Allocations: 16845)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:05:51 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:05:51 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:05:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:06:17 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.2ms | Allocations: 1374)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3929)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 1091)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2788)
Completed 200 OK in 24ms (Views: 18.9ms | ActiveRecord: 0.7ms | Allocations: 14698)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:06:18 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:06:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:06:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:06:41 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.2ms | Allocations: 3460)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 26.6ms | Allocations: 8231)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 16.9ms | Allocations: 8765)
  Rendered carts/_cart.html.erb (Duration: 30.5ms | Allocations: 16087)
Completed 200 OK in 124ms (Views: 82.9ms | ActiveRecord: 3.4ms | Allocations: 53884)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:06:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:06:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:07:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:07:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:07:50 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 11.8ms | Allocations: 3461)
[Webpacker] Compiling...
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:07:51 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:07:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 9a8177fec7faa4361ead
Version: webpack 4.46.0
Time: 2763ms
Built at: 07/20/2022 5:07:55 PM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js     144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map     163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js    1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map    1.44 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-766706327c284b2dabd0.js    1.21 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-766706327c284b2dabd0.js.map     1.4 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
Entrypoint pay_type = js/pay_type-766706327c284b2dabd0.js js/pay_type-766706327c284b2dabd0.js.map
[./app/javascript/PayTypeSelector/index.jsx] 5.2 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 522 bytes {pay_type} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} {pay_type} [built]
    + 21 hidden modules

[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4675.5ms | Allocations: 18292)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 30.9ms | Allocations: 8765)
  Rendered carts/_cart.html.erb (Duration: 50.6ms | Allocations: 16087)
Completed 200 OK in 4846ms (Views: 4748.0ms | ActiveRecord: 6.6ms | Allocations: 63930)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:07:55 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:07:55 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:07:55 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:08:01 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.7ms | Allocations: 1023)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 32.1ms | Allocations: 5425)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 2262)
Completed 200 OK in 54ms (Views: 46.2ms | ActiveRecord: 0.8ms | Allocations: 14534)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:08:01 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:08:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:08:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:08:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:08:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:08:24 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.3ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 18.8ms | Allocations: 5422)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 10.2ms | Allocations: 2261)
Completed 200 OK in 56ms (Views: 52.0ms | ActiveRecord: 0.7ms | Allocations: 14653)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:08:24 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:08:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:08:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for 127.0.0.1 at 2022-07-20 17:08:46 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (83.8ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (99.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (85.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (86.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (89.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (82.8ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (109.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (81.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (96.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (84.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (92.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (45.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220720031823)[0m
  [1m[35m (62.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808);

[0m
  [1m[35m (108.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-20 11:08:54.275827"], ["updated_at", "2022-07-20 11:08:54.275827"]]
  [1m[35m (66.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-20 11:08:54.360783"], ["key", "environment"]]
  [1m[35m (68.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0e3236db42484f7fe3cefdd4e882f44888626b33"], ["created_at", "2022-07-20 11:08:54.440577"], ["updated_at", "2022-07-20 11:08:54.440577"]]
  [1m[35m (62.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (1.0ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 58.2ms | Allocations: 18522)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 22.7ms | Allocations: 1817)
  Rendered carts/_cart.html.erb (Duration: 46.1ms | Allocations: 9003)
Completed 200 OK in 165ms (Views: 135.0ms | ActiveRecord: 3.6ms | Allocations: 46115)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:08:54 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:08:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:08:58 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.9ms | Allocations: 2147)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 4714)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 967)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2347)
Completed 200 OK in 34ms (Views: 18.5ms | ActiveRecord: 1.6ms | Allocations: 20632)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:08:58 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:08:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:08:58 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:09:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:09:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-20 17:43:17 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:80:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.3ms | Allocations: 1020)
[Webpacker] Compiling...
Started POST "/orders" for 127.0.0.1 at 2022-07-20 17:43:22 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"iCCMvai13uYvoeSOUhBFSdCBkBwU/CQWH9ue/pdcdsIDyL2AsyVT+LNt9KjAmCRM1vV5o0t18SbEcADBRQgUAw==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:31:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1476)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 4053d8fb000bc58ffd3f
Version: webpack 4.46.0
Time: 3225ms
Built at: 07/20/2022 5:43:22 PM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js     144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map     163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js    1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map    1.44 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-cb115b80287dd23f5615.js    1.24 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-cb115b80287dd23f5615.js.map     1.4 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
Entrypoint pay_type = js/pay_type-cb115b80287dd23f5615.js js/pay_type-cb115b80287dd23f5615.js.map
[./app/javascript/PayTypeSelector/CheckPayType.jsx] 5.01 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/CreditCardPayType.jsx] 5.11 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/NoPayType.jsx] 3.5 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/PurchaseOrderPayType.jsx] 4.32 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/index.jsx] 6.37 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 522 bytes {pay_type} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} {pay_type} [built]
    + 21 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 5133.9ms | Allocations: 24841)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.4ms | Allocations: 967)
  Rendered carts/_cart.html.erb (Duration: 12.5ms | Allocations: 2341)
Completed 200 OK in 5164ms (Views: 5158.6ms | ActiveRecord: 1.9ms | Allocations: 34064)


[Webpacker] Compiled all packs in /home/nascenia/mystuff/depot/public/packs
[Webpacker] Hash: 4053d8fb000bc58ffd3f
Version: webpack 4.46.0
Time: 2233ms
Built at: 07/20/2022 5:43:26 PM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-f534446c29cef042f79d.js     144 KiB  application  [emitted] [immutable]  application
js/application-f534446c29cef042f79d.js.map     163 KiB  application  [emitted] [dev]        application
    js/hello_react-2c430198a9a4213c00c6.js    1.25 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-2c430198a9a4213c00c6.js.map    1.44 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-cb115b80287dd23f5615.js    1.24 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-cb115b80287dd23f5615.js.map     1.4 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-f534446c29cef042f79d.js js/application-f534446c29cef042f79d.js.map
Entrypoint hello_react = js/hello_react-2c430198a9a4213c00c6.js js/hello_react-2c430198a9a4213c00c6.js.map
Entrypoint pay_type = js/pay_type-cb115b80287dd23f5615.js js/pay_type-cb115b80287dd23f5615.js.map
[./app/javascript/PayTypeSelector/CheckPayType.jsx] 5.01 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/CreditCardPayType.jsx] 5.11 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/NoPayType.jsx] 3.5 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/PurchaseOrderPayType.jsx] 4.32 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/index.jsx] 6.37 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 522 bytes {pay_type} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 475 bytes {hello_react} {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 546 bytes {hello_react} {pay_type} [built]
    + 21 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 3995.9ms | Allocations: 14683)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 743)
Completed 422 Unprocessable Entity in 4017ms (Views: 4003.5ms | ActiveRecord: 0.8ms | Allocations: 27601)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 17:43:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:43:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 17:43:26 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-20 18:07:50 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 6462)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 0.3ms | Allocations: 12883)


Started GET "/cable" for 127.0.0.1 at 2022-07-20 18:07:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-20 18:07:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-20 18:07:55 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1069)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 65], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 19.7ms | Allocations: 5811)
  Rendered carts/_cart.html.erb (Duration: 41.0ms | Allocations: 12139)
Completed 200 OK in 94ms (Views: 67.3ms | ActiveRecord: 2.1ms | Allocations: 25248)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (12.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (15.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (868.7ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (916.9ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/products" for 127.0.0.1 at 2022-07-21 09:45:38 +0600
Started GET "/products" for 127.0.0.1 at 2022-07-21 09:45:38 +0600
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 265.7ms | Allocations: 22527)
  Rendered products/index.html.erb within layouts/application (Duration: 268.3ms | Allocations: 23154)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 545ms (Views: 420.1ms | ActiveRecord: 1.4ms | Allocations: 38734)


Completed 200 OK in 463ms (Views: 418.0ms | ActiveRecord: 0.5ms | Allocations: 37896)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 09:45:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 09:45:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-21 09:46:24 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (403.5ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (121.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (140.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (129.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (108.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (230.0ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (97.1ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (88.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (79.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (82.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (131.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (86.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220720031823)[0m
  [1m[35m (97.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808);

[0m
  [1m[35m (142.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-21 03:46:33.483251"], ["updated_at", "2022-07-21 03:46:33.483251"]]
  [1m[35m (72.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-21 03:46:33.562667"], ["key", "environment"]]
  [1m[35m (59.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0e3236db42484f7fe3cefdd4e882f44888626b33"], ["created_at", "2022-07-21 03:46:33.629317"], ["updated_at", "2022-07-21 03:46:33.629317"]]
  [1m[35m (60.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 03:46:33.778373"], ["updated_at", "2022-07-21 03:46:33.778373"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (98.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.7ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.4ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (1.7ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (2.0ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 203.8ms | Allocations: 8089)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 66], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 444ms (Views: 318.2ms | ActiveRecord: 101.4ms | Allocations: 24795)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 09:46:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 09:46:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-21 09:57:48 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4saCwlr/KuXsJdX0uudRkVDUNRFui/A4pee4SSXc1gUL6TGx+hTWKtkZKkcHbENSYC4bRnMTx1r+6R6hNfCtaw==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 66], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 66], ["created_at", "2022-07-21 03:57:48.218152"], ["updated_at", "2022-07-21 03:57:48.218152"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (121.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 66]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.7ms | Allocations: 320)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 2406)
  Rendered line_items/create.js.erb (Duration: 5.7ms | Allocations: 2857)
Completed 200 OK in 152ms (Views: 7.2ms | ActiveRecord: 123.6ms | Allocations: 17517)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-21 09:57:51 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 66], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:93:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 33.7ms | Allocations: 2145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 50.7ms | Allocations: 4755)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 66], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 66]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 5.9ms | Allocations: 2383)
Completed 200 OK in 90ms (Views: 66.9ms | ActiveRecord: 1.3ms | Allocations: 20812)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 09:57:51 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 09:57:51 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 09:57:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (717.3ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[36mTruncate Tables (727.5ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-21 11:16:07 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 11:16:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 11:16:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 11:16:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started DELETE "/carts/66" for 127.0.0.1 at 2022-07-21 11:34:41 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"S5nP6qA7wmsy7CbU4QvPhQ5p/5ndY89JZJ9IUkD7BZGitnyZANA+pAfQ2WdcgN1GPpPRzsD7+Cs/ke66UNd+/w==", "id"=>"66"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:64:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 66]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 66]]
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[35m (102.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 165ms (ActiveRecord: 104.0ms | Allocations: 19426)


Started GET "/" for 127.0.0.1 at 2022-07-21 11:34:42 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (101.2ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (97.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (98.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (84.6ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (95.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (83.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (74.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (88.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (75.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (117.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (123.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (99.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220720031823)[0m
  [1m[35m (76.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808);

[0m
  [1m[35m (93.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-21 05:34:51.258386"], ["updated_at", "2022-07-21 05:34:51.258386"]]
  [1m[35m (65.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-21 05:34:51.329834"], ["key", "environment"]]
  [1m[35m (73.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0e3236db42484f7fe3cefdd4e882f44888626b33"], ["created_at", "2022-07-21 05:34:51.424473"], ["updated_at", "2022-07-21 05:34:51.424473"]]
  [1m[35m (155.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 05:34:51.642937"], ["updated_at", "2022-07-21 05:34:51.642937"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (90.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.9ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.7ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.6ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.5ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 89.2ms | Allocations: 18527)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 67], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 234ms (Views: 115.8ms | ActiveRecord: 94.8ms | Allocations: 31014)


Started GET "/" for 127.0.0.1 at 2022-07-21 11:34:51 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 05:34:51.883205"], ["updated_at", "2022-07-21 05:34:51.883205"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (219.7ms)[0m  [1m[36mcommit transaction[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 11:34:52 +0600
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Started GET "/cable" for 127.0.0.1 at 2022-07-21 11:34:52 +0600
ProductsChannel stopped streaming from products
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1100)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 11:34:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 68], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 247ms (Views: 19.3ms | ActiveRecord: 220.5ms | Allocations: 12233)


Started GET "/" for 127.0.0.1 at 2022-07-21 13:27:33 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1438)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 67], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 34ms (Views: 28.6ms | ActiveRecord: 1.2ms | Allocations: 8767)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:27:33 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 13:27:33 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:27:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-21 13:27:35 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"fxwLsLmMuYsJ1ZAX6oJEBK5Jsbbpl8+SAGb2sknCZH6WM7jDGWdFRDzpb6RXCVbHnrOf4fQP+PBbaFBaWe4fEA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 67], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 67], ["created_at", "2022-07-21 07:27:35.822293"], ["updated_at", "2022-07-21 07:27:35.822293"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (187.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.6ms | Allocations: 320)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2241)
  Rendered line_items/create.js.erb (Duration: 4.8ms | Allocations: 2689)
Completed 200 OK in 204ms (Views: 6.0ms | ActiveRecord: 188.3ms | Allocations: 11077)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-21 13:27:37 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"fxwLsLmMuYsJ1ZAX6oJEBK5Jsbbpl8+SAGb2sknCZH6WM7jDGWdFRDzpb6RXCVbHnrOf4fQP+PBbaFBaWe4fEA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 67], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 67], ["created_at", "2022-07-21 07:27:37.708851"], ["updated_at", "2022-07-21 07:27:37.708851"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (82.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.5ms | Allocations: 1074)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2511)
  Rendered line_items/create.js.erb (Duration: 4.6ms | Allocations: 2701)
Completed 200 OK in 97ms (Views: 4.9ms | ActiveRecord: 83.4ms | Allocations: 8848)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-21 13:27:40 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 67], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:100:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 33.8ms | Allocations: 2145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 49.0ms | Allocations: 4760)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 67], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.6ms | Allocations: 1849)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 3328)
Completed 200 OK in 99ms (Views: 64.1ms | ActiveRecord: 1.7ms | Allocations: 22190)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:27:40 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 13:27:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:27:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (754.8ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (792.6ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-21 13:27:58 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:27:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 13:28:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:28:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-21 13:28:19 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (146.0ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (72.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (110.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (106.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (97.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (87.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (86.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (101.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (82.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (84.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (80.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (48.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220720031823)[0m
  [1m[35m (53.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808);

[0m
  [1m[35m (111.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-21 07:28:28.319303"], ["updated_at", "2022-07-21 07:28:28.319303"]]
  [1m[35m (63.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (2.0ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-21 07:28:28.390800"], ["key", "environment"]]
  [1m[35m (58.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0e3236db42484f7fe3cefdd4e882f44888626b33"], ["created_at", "2022-07-21 07:28:28.470987"], ["updated_at", "2022-07-21 07:28:28.470987"]]
  [1m[35m (66.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.8ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.4ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.8ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.4ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 125.7ms | Allocations: 18503)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 67], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 21.7ms | Allocations: 2746)
  Rendered carts/_cart.html.erb (Duration: 44.1ms | Allocations: 10072)
Completed 200 OK in 274ms (Views: 209.8ms | ActiveRecord: 4.0ms | Allocations: 47220)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-21 13:28:42 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 67], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:100:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 22.0ms | Allocations: 2147)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 44.4ms | Allocations: 4757)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 67], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 16.3ms | Allocations: 1850)
  Rendered carts/_cart.html.erb (Duration: 25.6ms | Allocations: 3214)
Completed 200 OK in 188ms (Views: 116.2ms | ActiveRecord: 3.3ms | Allocations: 21484)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 13:28:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:28:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:28:42 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-21 13:29:07 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qem8lrLHi/od5NiJ9c+dEjjsftfzyGulRYaS/ZEYh2ZAxg/lEix3NSjYJzpIRI/RCBZQgO5QXMceiDQVgTT8CA==", "order"=>{"name"=>"X", "address"=>"Y", "email"=>"X@gmail.com", "pay_type"=>"Purchase order", "po_number"=>"22"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameter: :po_number[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "X"], ["address", "Y"], ["email", "X@gmail.com"], ["pay_type", 2], ["created_at", "2022-07-21 07:29:07.431937"], ["updated_at", "2022-07-21 07:29:07.431937"]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 7], ["updated_at", "2022-07-21 07:29:07.437362"], ["id", 26]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 7], ["updated_at", "2022-07-21 07:29:07.439589"], ["id", 27]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[35m (97.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 67]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[35m (80.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 3c53217f-32ab-439e-96d5-f6be9e74caca) to Async(default) with arguments: #<GlobalID:0x00005567b201e838 @uri=#<URI::GID gid://depot/Order/7>>, {"po_number"=>"22"}
Redirected to http://localhost:3000/
Completed 302 Found in 243ms (ActiveRecord: 180.7ms | Allocations: 18027)


Started GET "/" for 127.0.0.1 at 2022-07-21 13:29:07 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 07:29:07.674317"], ["updated_at", "2022-07-21 07:29:07.674317"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (78.6ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ChargeOrderJob] [3c53217f-32ab-439e-96d5-f6be9e74caca] Performing ChargeOrderJob (Job ID: 3c53217f-32ab-439e-96d5-f6be9e74caca) from Async(default) enqueued at 2022-07-21T07:29:07Z with arguments: #<GlobalID:0x00005567b23a01c8 @uri=#<URI::GID gid://depot/Order/7>>, {"po_number"=>"22"}
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
[ActiveJob] [ChargeOrderJob] [3c53217f-32ab-439e-96d5-f6be9e74caca] Processing purchase order: 22
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 970)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 69], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 101ms (Views: 9.0ms | ActiveRecord: 80.2ms | Allocations: 11449)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:29:07 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 13:29:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 13:29:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [3c53217f-32ab-439e-96d5-f6be9e74caca] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [3c53217f-32ab-439e-96d5-f6be9e74caca] Enqueued ActionMailer::MailDeliveryJob (Job ID: 10c96155-8429-4e1d-9a58-f732dd14681e) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00005567b2b07880 @uri=#<URI::GID gid://depot/Order/7>>]}
[ActiveJob] [ChargeOrderJob] [3c53217f-32ab-439e-96d5-f6be9e74caca] Performed ChargeOrderJob (Job ID: 3c53217f-32ab-439e-96d5-f6be9e74caca) from Async(default) in 3055.88ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e] Performing ActionMailer::MailDeliveryJob (Job ID: 10c96155-8429-4e1d-9a58-f732dd14681e) from Async(mailers) enqueued at 2022-07-21T07:29:10Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00005567b2b28f58 @uri=#<URI::GID gid://depot/Order/7>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 107)
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 7]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   Rendered collection of line_items/_line_item.text.erb [2 times] (Duration: 4.5ms | Allocations: 1683)
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 7.8ms | Allocations: 3103)
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e] OrderMailer#received: processed outbound mail in 25.1ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e] Delivered mail 62d90046d2f2e_11b8e2ab3d957c31476831@alauddin-fujitsu.mail (1549.0ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e] Date: Thu, 21 Jul 2022 13:29:10 +0600
From: Sam Ruby <depot@example.com>
To: X@gmail.com
Message-ID: <62d90046d2f2e_11b8e2ab3d957c31476831@alauddin-fujitsu.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_62d90046cdd5d_11b8e2ab3d957c3147671";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_62d90046cdd5d_11b8e2ab3d957c3147671
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear X
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:
 1 x Build Chatbot Interactions 1 x Docker for Rails DevelopersWe'll send you a separate email when your order ships.


----==_mimepart_62d90046cdd5d_11b8e2ab3d957c3147671
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_62d90046cdd5d_11b8e2ab3d957c3147671--

[ActiveJob] [ActionMailer::MailDeliveryJob] [10c96155-8429-4e1d-9a58-f732dd14681e] Performed ActionMailer::MailDeliveryJob (Job ID: 10c96155-8429-4e1d-9a58-f732dd14681e) from Async(mailers) in 1576.28ms
Started GET "/" for 127.0.0.1 at 2022-07-21 14:41:07 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.5.1) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.5.1) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220721084032)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20220721084032"]]
  [1m[35m (100.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/rails/actions" for 127.0.0.1 at 2022-07-21 14:41:34 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2022-07-21 14:41:34 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (21.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 1550)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 69], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 409ms (Views: 397.6ms | ActiveRecord: 1.8ms | Allocations: 35918)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 14:41:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 14:41:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-21 14:41:36 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NYuoaKa/xWWt3IiVitWn47VjceAZv+vCwkJJ6Lu6OyTcpBsbBlQ5qpjgdyY3XrUghZlftwQn3KCZTO8Aq5ZASg==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 69], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 69], ["created_at", "2022-07-21 08:41:36.652483"], ["updated_at", "2022-07-21 08:41:36.652483"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (83.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 69]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 312)
  Rendered carts/_cart.html.erb (Duration: 10.6ms | Allocations: 2529)
  Rendered line_items/create.js.erb (Duration: 12.5ms | Allocations: 2967)
Completed 200 OK in 157ms (Views: 15.9ms | ActiveRecord: 87.3ms | Allocations: 21166)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-21 14:41:38 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 69], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:100:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.0ms | Allocations: 1432)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3991)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 69], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 69]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2382)
Completed 200 OK in 31ms (Views: 16.2ms | ActiveRecord: 1.1ms | Allocations: 19790)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 14:41:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 14:41:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 14:41:38 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 14:42:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 14:42:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-21 14:42:12 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"6UbyXJ5q8jYlQWV8E8sc9SbFVLCMmJI++qoltozXhZYAaUEvPoEO+RB9ms+uQA42Fj9655EApVyhpINenPv++A==", "order"=>{"name"=>"Y", "address"=>"Y", "email"=>"Y@gmail.com", "pay_type"=>"Credit card", "credit_card_number"=>"123", "expiration_date"=>"03/23"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameters: :credit_card_number, :expiration_date[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 69]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Y"], ["address", "Y"], ["email", "Y@gmail.com"], ["pay_type", 1], ["created_at", "2022-07-21 08:42:12.723417"], ["updated_at", "2022-07-21 08:42:12.723417"]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 8], ["updated_at", "2022-07-21 08:42:12.726557"], ["id", 28]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[35m (166.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 69]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 69]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[35m (82.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
[31mUnpermitted parameters: :credit_card_number, :expiration_date[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: bd6c8588-cb67-428d-8e90-20b0245aa669) to Async(default) with arguments: #<GlobalID:0x00007f932c288090 @uri=#<URI::GID gid://depot/Order/8>>, {"credit_card_number"=>"123", "expiration_date"=>"03/23"}
Redirected to http://localhost:3000/
Completed 302 Found in 285ms (ActiveRecord: 250.5ms | Allocations: 20560)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [bd6c8588-cb67-428d-8e90-20b0245aa669] Performing ChargeOrderJob (Job ID: bd6c8588-cb67-428d-8e90-20b0245aa669) from Async(default) enqueued at 2022-07-21T08:42:12Z with arguments: #<GlobalID:0x00007f93241754d0 @uri=#<URI::GID gid://depot/Order/8>>, {"credit_card_number"=>"123", "expiration_date"=>"03/23"}
[ActiveJob] [ChargeOrderJob] [bd6c8588-cb67-428d-8e90-20b0245aa669] Processing credit_card: 123/0/3
Started GET "/" for 127.0.0.1 at 2022-07-21 14:42:13 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 08:42:13.004298"], ["updated_at", "2022-07-21 08:42:13.004298"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (86.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 956)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 101ms (Views: 8.4ms | ActiveRecord: 87.0ms | Allocations: 10433)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 14:42:13 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 14:42:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 14:42:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [bd6c8588-cb67-428d-8e90-20b0245aa669] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [bd6c8588-cb67-428d-8e90-20b0245aa669] Enqueued ActionMailer::MailDeliveryJob (Job ID: 4300af7b-7fae-40a1-9940-dfe2b25d09fe) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f93241bc808 @uri=#<URI::GID gid://depot/Order/8>>]}
[ActiveJob] [ChargeOrderJob] [bd6c8588-cb67-428d-8e90-20b0245aa669] Performed ChargeOrderJob (Job ID: bd6c8588-cb67-428d-8e90-20b0245aa669) from Async(default) in 3006.39ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe] Performing ActionMailer::MailDeliveryJob (Job ID: 4300af7b-7fae-40a1-9940-dfe2b25d09fe) from Async(mailers) enqueued at 2022-07-21T08:42:16Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f93241c73c0 @uri=#<URI::GID gid://depot/Order/8>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 100)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 8]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 4.7ms | Allocations: 928)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 10.7ms | Allocations: 2321)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe] OrderMailer#received: processed outbound mail in 22.2ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe] Delivered mail 62d911688e9d_11b8e3fc9920df908770a7@alauddin-fujitsu.mail (1516.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe] Date: Thu, 21 Jul 2022 14:42:16 +0600
From: Sam Ruby <depot@example.com>
To: Y@gmail.com
Message-ID: <62d911688e9d_11b8e3fc9920df908770a7@alauddin-fujitsu.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_62d911687ac1_11b8e3fc9920df90876967";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_62d911687ac1_11b8e3fc9920df90876967
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Y
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:
 1 x Build Chatbot InteractionsWe'll send you a separate email when your order ships.


----==_mimepart_62d911687ac1_11b8e3fc9920df90876967
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_62d911687ac1_11b8e3fc9920df90876967--

[ActiveJob] [ActionMailer::MailDeliveryJob] [4300af7b-7fae-40a1-9940-dfe2b25d09fe] Performed ActionMailer::MailDeliveryJob (Job ID: 4300af7b-7fae-40a1-9940-dfe2b25d09fe) from Async(mailers) in 1540.17ms
Started GET "/users/new" for 127.0.0.1 at 2022-07-21 15:02:11 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 995)


  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/controllers/users_controller.rb:15:in `new'
Started GET "/users/new" for 127.0.0.1 at 2022-07-21 15:03:04 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 15.4ms | Allocations: 1446)
  Rendered users/new.html.erb within layouts/application (Duration: 16.1ms | Allocations: 1806)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 22.3ms | ActiveRecord: 0.5ms | Allocations: 11798)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:03:05 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:03:05 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:03:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:03:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:03:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:03:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/users" for 127.0.0.1 at 2022-07-21 15:03:20 +0600
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"798Ud8Ik/r8Tk8JQXVxzbjKEM1l65J5WlzjM+gFhCMM87zG614Va+iyjx2b1AMZBRDdkdvu2sXVa9FCXiaYwyA==", "user"=>{"name"=>"X", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create User"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 852)


  
ActiveModel::UnknownAttributeError (unknown attribute 'password' for User.):
  
app/controllers/users_controller.rb:24:in `create'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:03:20 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:03:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:03:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2022-07-21 15:03:50 +0600
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 1.7ms | Allocations: 797)
  Rendered users/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 900)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 5894)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:03:50 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:03:50 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:03:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2022-07-21 15:03:51 +0600
Processing by UsersController#new as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1017)


  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/controllers/users_controller.rb:15:in `new'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:03:51 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:04:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:04:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:04:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:04:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2022-07-21 15:04:11 +0600
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 3.6ms | Allocations: 853)
  Rendered users/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 956)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 19.6ms | ActiveRecord: 1.0ms | Allocations: 9690)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:04:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:04:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/users" for 127.0.0.1 at 2022-07-21 15:04:25 +0600
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"l4Prik5VTk1eT4zy9uEhJJ6xvBnQmYoPer16Tsa/oYl+rFj57r6ygmtzc0FLajPnrkuSTs0BvW0hs9ym1pPa5w==", "user"=>{"name"=>"Z", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create User"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 834)


  
ActiveModel::UnknownAttributeError (unknown attribute 'password' for User.):
  
app/controllers/users_controller.rb:24:in `create'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:04:25 +0600
ProductsChannel stopped streaming from products
Started POST "/users" for 127.0.0.1 at 2022-07-21 15:04:33 +0600
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"l4Prik5VTk1eT4zy9uEhJJ6xvBnQmYoPer16Tsa/oYl+rFj57r6ygmtzc0FLajPnrkuSTs0BvW0hs9ym1pPa5w==", "user"=>{"name"=>"Z", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create User"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 797)


  
ActiveModel::UnknownAttributeError (unknown attribute 'password' for User.):
  
app/controllers/users_controller.rb:24:in `create'
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:04:54 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:04:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (168.1ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (299.8ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (277.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (187.8ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (211.0ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (219.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (232.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (219.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (191.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (211.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (248.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (219.2ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (227.8ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (216.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (187.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (188.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (121.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (132.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (194.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (251.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (211.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (223.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (242.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (188.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (132.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220721084032)[0m
  [1m[35m (184.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220721084032)[0m
  [1m[35m (189.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808),
(20220720031823);

[0m
  [1m[35m (177.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808),
(20220720031823);

[0m
  [1m[35m (216.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-21 09:05:11.923869"], ["updated_at", "2022-07-21 09:05:11.923869"]]
  [1m[35m (177.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-21 09:05:12.009653"], ["updated_at", "2022-07-21 09:05:12.009653"]]
  [1m[35m (132.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0ef03859be8deec527b16ad9cdc7f21b8598279a"], ["created_at", "2022-07-21 09:05:12.071491"], ["updated_at", "2022-07-21 09:05:12.071491"]]
  [1m[35m (184.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0ef03859be8deec527b16ad9cdc7f21b8598279a"], ["created_at", "2022-07-21 09:05:12.200657"], ["updated_at", "2022-07-21 09:05:12.200657"]]
  [1m[35m (173.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (122.3ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:05:21 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:05:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/users" for 127.0.0.1 at 2022-07-21 15:05:23 +0600
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"l4Prik5VTk1eT4zy9uEhJJ6xvBnQmYoPer16Tsa/oYl+rFj57r6ygmtzc0FLajPnrkuSTs0BvW0hs9ym1pPa5w==", "user"=>{"name"=>"Z", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create User"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:27:in `block in create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Z"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:27:in `block in create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Z"], ["password_digest", "$2a$12$XdRIOEV29T/2NaopvtRMHutHwJg5k8pCFpkimsIUJ787s/KKPVrjy"], ["created_at", "2022-07-21 09:05:24.199848"], ["updated_at", "2022-07-21 09:05:24.199848"]]
  ↳ app/controllers/users_controller.rb:27:in `block in create'
  [1m[35m (61.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/users
Completed 302 Found in 357ms (ActiveRecord: 62.7ms | Allocations: 11318)


Started GET "/users" for 127.0.0.1 at 2022-07-21 15:05:24 +0600
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 1328)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 236ms (Views: 234.0ms | ActiveRecord: 0.3ms | Allocations: 28424)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:05:24 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:05:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:05:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/1" for 127.0.0.1 at 2022-07-21 15:05:34 +0600
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:65:in `set_user'
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 252)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 39.8ms | ActiveRecord: 0.6ms | Allocations: 6108)


Started GET "/users" for 127.0.0.1 at 2022-07-21 15:05:37 +0600
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 853)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 25.1ms | ActiveRecord: 0.2ms | Allocations: 5871)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:06:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:06:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:06:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:06:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2022-07-21 15:06:56 +0600
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 32.6ms | Allocations: 10407)
  Rendered users/new.html.erb within layouts/application (Duration: 68.0ms | Allocations: 10771)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 82.4ms | ActiveRecord: 0.0ms | Allocations: 15792)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 15:06:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 15:06:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-21 16:12:41 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:12:47 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (77.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (83.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (99.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (96.7ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (84.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (105.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (109.0ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (98.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (56.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (78.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (62.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (87.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (62.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220721084032)[0m
  [1m[35m (73.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808),
(20220720031823);

[0m
  [1m[35m (90.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-21 10:12:49.989990"], ["updated_at", "2022-07-21 10:12:49.989990"]]
  [1m[35m (61.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-21 10:12:50.059337"], ["key", "environment"]]
  [1m[35m (111.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0ef03859be8deec527b16ad9cdc7f21b8598279a"], ["created_at", "2022-07-21 10:12:50.182855"], ["updated_at", "2022-07-21 10:12:50.182855"]]
  [1m[35m (70.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.6ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 11221)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 123ms (Views: 106.2ms | ActiveRecord: 3.9ms | Allocations: 47464)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:12:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:12:50 +0600
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:12:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:12:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-21 16:12:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"DhVjp6BX2UtxNX8v/53on561FRao0/MbVgp8zXX8A2PnOtDUALwlhEQJgJxCFvpcrk87QbVLxHkNBNolZdB4DQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:27:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 70], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 70], ["created_at", "2022-07-21 10:12:54.406933"], ["updated_at", "2022-07-21 10:12:54.406933"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (80.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.8ms | Allocations: 322)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2409)
  Rendered line_items/create.js.erb (Duration: 7.6ms | Allocations: 2854)
Completed 200 OK in 125ms (Views: 8.8ms | ActiveRecord: 83.3ms | Allocations: 27966)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-21 16:12:56 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:100:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.6ms | Allocations: 1811)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4421)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 2383)
Completed 200 OK in 61ms (Views: 24.9ms | ActiveRecord: 1.4ms | Allocations: 20673)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:12:56 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:12:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:12:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:13:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:13:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for 127.0.0.1 at 2022-07-21 16:13:06 +0600
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 4161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 30.2ms | ActiveRecord: 1.9ms | Allocations: 10690)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:13:06 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:13:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:13:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for 127.0.0.1 at 2022-07-21 16:13:07 +0600
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 840)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.2ms | Allocations: 5984)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:13:07 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:13:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:13:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:13:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:13:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:13:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:13:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2022-07-21 16:13:09 +0600
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.7ms | Allocations: 1162)
  Rendered users/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1511)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 6781)


Started GET "/users" for 127.0.0.1 at 2022-07-21 16:13:12 +0600
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 845)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.2ms | Allocations: 5991)


Started GET "/" for 127.0.0.1 at 2022-07-21 16:13:15 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1070)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2269)
Completed 200 OK in 32ms (Views: 28.9ms | ActiveRecord: 0.7ms | Allocations: 10101)


Started GET "/" for 127.0.0.1 at 2022-07-21 16:16:04 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1069)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.7ms | Allocations: 5952)
  Rendered carts/_cart.html.erb (Duration: 17.5ms | Allocations: 12426)
Completed 200 OK in 47ms (Views: 32.7ms | ActiveRecord: 4.5ms | Allocations: 27036)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:16:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-21 16:16:06 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 2260)
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 1.2ms | Allocations: 9795)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:06 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:16:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/contact" for 127.0.0.1 at 2022-07-21 16:16:08 +0600
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:16:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-21 16:16:10 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 2260)
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 0.9ms | Allocations: 9805)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:10 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:16:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/questions" for 127.0.0.1 at 2022-07-21 16:16:12 +0600
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2022-07-21 16:16:14 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2260)
Completed 200 OK in 20ms (Views: 16.5ms | ActiveRecord: 1.0ms | Allocations: 9792)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:14 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:16:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-21 16:16:15 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 8.6ms | Allocations: 2260)
Completed 200 OK in 37ms (Views: 31.0ms | ActiveRecord: 1.6ms | Allocations: 9791)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-21 16:16:16 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:100:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.6ms | Allocations: 1086)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3435)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2266)
Completed 200 OK in 57ms (Views: 16.6ms | ActiveRecord: 1.8ms | Allocations: 18740)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:16:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:17 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-21 16:16:55 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"W0jHsnbr8T7zWo9Xebs96g3ApYaa863uTs0OWhwUKKWyZ3TB1gAN8cZmcOTEMC8pPTqL0YdrmowVw6iyDDhTyw==", "order"=>{"name"=>"P", "address"=>"P", "email"=>"P@gmail.com", "pay_type"=>"Purchase order", "po_number"=>"235"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameter: :po_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "P"], ["address", "P"], ["email", "P@gmail.com"], ["pay_type", 2], ["created_at", "2022-07-21 10:16:55.832406"], ["updated_at", "2022-07-21 10:16:55.832406"]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 9], ["updated_at", "2022-07-21 10:16:55.834777"], ["id", 29]]
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[35m (207.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 70]]
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[35m (75.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:38:in `block in create'
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: ecdf50a7-2a29-49c1-9adc-711828c0d69f) to Async(default) with arguments: #<GlobalID:0x00007f15600cc9f8 @uri=#<URI::GID gid://depot/Order/9>>, {"po_number"=>"235"}
Redirected to http://localhost:3000/
Completed 302 Found in 325ms (ActiveRecord: 285.3ms | Allocations: 21049)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [ecdf50a7-2a29-49c1-9adc-711828c0d69f] Performing ChargeOrderJob (Job ID: ecdf50a7-2a29-49c1-9adc-711828c0d69f) from Async(default) enqueued at 2022-07-21T10:16:56Z with arguments: #<GlobalID:0x00007f1558074ee0 @uri=#<URI::GID gid://depot/Order/9>>, {"po_number"=>"235"}
[ActiveJob] [ChargeOrderJob] [ecdf50a7-2a29-49c1-9adc-711828c0d69f] Processing purchase order: 235
Started GET "/" for 127.0.0.1 at 2022-07-21 16:16:56 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 10:16:56.164424"], ["updated_at", "2022-07-21 10:16:56.164424"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (91.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 110ms (Views: 8.3ms | ActiveRecord: 92.8ms | Allocations: 10730)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:16:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:16:56 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [ecdf50a7-2a29-49c1-9adc-711828c0d69f] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [ecdf50a7-2a29-49c1-9adc-711828c0d69f] Enqueued ActionMailer::MailDeliveryJob (Job ID: 8f34213b-8904-4bbf-9480-c02ac6696c48) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f1560222ac8 @uri=#<URI::GID gid://depot/Order/9>>]}
[ActiveJob] [ChargeOrderJob] [ecdf50a7-2a29-49c1-9adc-711828c0d69f] Performed ChargeOrderJob (Job ID: ecdf50a7-2a29-49c1-9adc-711828c0d69f) from Async(default) in 3014.62ms
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48] Performing ActionMailer::MailDeliveryJob (Job ID: 8f34213b-8904-4bbf-9480-c02ac6696c48) from Async(mailers) enqueued at 2022-07-21T10:16:59Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f1560236c08 @uri=#<URI::GID gid://depot/Order/9>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.8ms | Allocations: 107)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 9]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 4.0ms | Allocations: 891)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 9.9ms | Allocations: 2295)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48] OrderMailer#received: processed outbound mail in 22.0ms
Started GET "/orders/new" for 127.0.0.1 at 2022-07-21 16:17:03 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:100:in `ensure_cart_isnt_empty'
Redirected to http://localhost:3000/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1683)


Started GET "/" for 127.0.0.1 at 2022-07-21 16:17:03 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 954)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.5ms | Allocations: 7485)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:03 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48] Delivered mail 62d9279b304e6_125983f8ab010ea5851739@alauddin-fujitsu.mail (6495.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48] Date: Thu, 21 Jul 2022 16:16:59 +0600
From: Sam Ruby <depot@example.com>
To: P@gmail.com
Message-ID: <62d9279b304e6_125983f8ab010ea5851739@alauddin-fujitsu.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_62d9279b2ed9b_125983f8ab010ea58516c9";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_62d9279b2ed9b_125983f8ab010ea58516c9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear P
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:
 1 x Build Chatbot InteractionsWe'll send you a separate email when your order ships.


----==_mimepart_62d9279b2ed9b_125983f8ab010ea58516c9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_62d9279b2ed9b_125983f8ab010ea58516c9--

[ActiveJob] [ActionMailer::MailDeliveryJob] [8f34213b-8904-4bbf-9480-c02ac6696c48] Performed ActionMailer::MailDeliveryJob (Job ID: 8f34213b-8904-4bbf-9480-c02ac6696c48) from Async(mailers) in 6519.01ms
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:07 +0600
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/new/user" for 127.0.0.1 at 2022-07-21 16:17:12 +0600
  
ActionController::RoutingError (No route matches [GET] "/new/user"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:12 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:16 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:17 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:17 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:17 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-21 16:17:21 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (7.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 29ms (Views: 24.5ms | ActiveRecord: 1.3ms | Allocations: 7460)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:22 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-21 16:17:25 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.6ms | Allocations: 7454)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:25 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:17:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:17:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2022-07-21 16:18:10 +0600
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 1.6ms | Allocations: 853)
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 956)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 7.7ms | ActiveRecord: 0.8ms | Allocations: 9996)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:18:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:18:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:18:10 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/users" for 127.0.0.1 at 2022-07-21 16:18:32 +0600
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"Hf4lV4DDiT8YJBuUmlT9CawB1njsyFi+40GTyCQ/VXf00ZYkICh18C0Y5Ccn3+/KnPv4L/FQb9y4TzUgNBMuGQ==", "user"=>{"name"=>"p", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create User"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "p"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 3.2ms | Allocations: 974)
  Rendered users/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1076)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 422 Unprocessable Entity in 497ms (Views: 17.2ms | ActiveRecord: 0.7ms | Allocations: 9989)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:18:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:18:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:18:32 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/users" for 127.0.0.1 at 2022-07-21 16:18:42 +0600
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"5OifC5gazV0lMB3L77nTXTp9Ej0fgWxySoImkucfSysNxyx4OPExkhAM4nhSMsGeCoc8agIZWxARjIB69zMwRQ==", "user"=>{"name"=>"p", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create User"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "p"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "p"], ["password_digest", "$2a$12$V3fwLSeSePxYjSEEHxf/zOsYGWgsm5GLFVbq7bdaQZidE4H2jusMe"], ["created_at", "2022-07-21 10:18:42.606216"], ["updated_at", "2022-07-21 10:18:42.606216"]]
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  [1m[35m (73.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:28:in `block in create'
Redirected to http://localhost:3000/users
Completed 302 Found in 371ms (ActiveRecord: 74.0ms | Allocations: 4953)


Started GET "/users" for 127.0.0.1 at 2022-07-21 16:18:42 +0600
Processing by UsersController#index as HTML
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1057)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.5ms | Allocations: 6388)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:18:42 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:18:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:18:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/1" for 127.0.0.1 at 2022-07-21 16:18:44 +0600
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 248)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 8.6ms | ActiveRecord: 0.2ms | Allocations: 6197)


Started GET "/users/1/edit" for 127.0.0.1 at 2022-07-21 16:18:48 +0600
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 1.2ms | Allocations: 888)
  Rendered users/edit.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1162)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms | Allocations: 6969)


Started GET "/login" for 127.0.0.1 at 2022-07-21 16:28:28 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1457)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.0ms | Allocations: 7155)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:28:28 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:28:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:28:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:28:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for 127.0.0.1 at 2022-07-21 16:28:40 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"b6JdNvq85iGO5lKw+pYHTY3ysrv9SZxNuyaK04WOWdaGje5FWlca7rvarQNHHRWOvQic7ODRqy/gKCw7laIiuA==", "name"=>"Z", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Z"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 482ms (ActiveRecord: 0.5ms | Allocations: 5435)


Started GET "/admin" for 127.0.0.1 at 2022-07-21 16:28:40 +0600
Processing by AdminController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 138)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 5.9ms | ActiveRecord: 0.2ms | Allocations: 7759)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:28:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:28:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:28:40 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:29:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:29:07 +0600
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:29:07 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:29:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 16:29:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 16:29:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for 127.0.0.1 at 2022-07-21 17:00:57 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 32.4ms | Allocations: 7819)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 48.3ms | ActiveRecord: 0.9ms | Allocations: 19425)


Started GET "/cable" for 127.0.0.1 at 2022-07-21 17:00:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:00:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for 127.0.0.1 at 2022-07-21 17:00:58 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 13.9ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.5ms | ActiveRecord: 0.6ms | Allocations: 8915)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:00:58 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 17:00:58 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:00:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for 127.0.0.1 at 2022-07-21 17:00:58 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.2ms | Allocations: 8906)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:00:58 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 17:00:58 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:00:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 17:01:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:01:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 17:01:07 +0600
Started GET "/cable" for 127.0.0.1 at 2022-07-21 17:01:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:01:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:01:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 17:01:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 17:01:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (748.4ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "users";
DELETE FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (804.0ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "users";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for ::1 at 2022-07-21 17:02:28 +0600
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:02:32 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:02:38 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 82.1ms | Allocations: 30368)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 137ms (Views: 99.5ms | ActiveRecord: 2.0ms | Allocations: 46415)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:38 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:02:38 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products/5" for ::1 at 2022-07-21 17:02:43 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:78:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 24.4ms | Allocations: 337)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 38.9ms | ActiveRecord: 0.5ms | Allocations: 6895)


Started GET "/cable" for ::1 at 2022-07-21 17:02:46 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:02:48 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for ::1 at 2022-07-21 17:02:51 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for ::1 at 2022-07-21 17:02:53 +0600
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1352)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.5ms | Allocations: 7754)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:53 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:02:53 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (131.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (93.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (97.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (120.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (88.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (97.8ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (97.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (64.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (81.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (73.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (63.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (91.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (64.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220721084032)[0m
  [1m[35m (61.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808),
(20220720031823);

[0m
  [1m[35m (90.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-21 11:02:55.881646"], ["updated_at", "2022-07-21 11:02:55.881646"]]
  [1m[35m (64.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-21 11:02:55.958092"], ["key", "environment"]]
  [1m[35m (60.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0ef03859be8deec527b16ad9cdc7f21b8598279a"], ["created_at", "2022-07-21 11:02:56.037177"], ["updated_at", "2022-07-21 11:02:56.037177"]]
  [1m[35m (73.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (6.5ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.4ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (1.0ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (1.8ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (1.0ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.7ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 55.2ms | Allocations: 8231)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 127ms (Views: 103.7ms | ActiveRecord: 4.6ms | Allocations: 21682)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:56 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:02:56 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:02:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:03:06 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1087)


Started GET "/login" for ::1 at 2022-07-21 17:03:06 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1469)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 7211)


Started GET "/cable" for ::1 at 2022-07-21 17:03:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:03:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:03:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:03:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2022-07-21 17:03:29 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"yfNcKE9YZDTf/1mMOvdezanKPw44QxAQhNYjNsafN18aw3nlWvnAceDPXLqSq+vi33loIbkRPzNJGr9bTlgPVA==", "name"=>"z", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "z"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1054)


Started GET "/login" for ::1 at 2022-07-21 17:03:29 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 471)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 5599)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:03:29 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:03:29 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:03:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2022-07-21 17:03:38 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"qJzB9SlQ27TCyz3jM19p9oFwVtvzjttWrxu+OPiSFU97rOQ4PPF/8f37ONWbA9zZ98MB9HLc9HVi1yJVcFUtRA==", "name"=>"Z", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Z"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 468ms (ActiveRecord: 0.2ms | Allocations: 928)


Started GET "/admin" for ::1 at 2022-07-21 17:03:38 +0600
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 139)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 10.6ms | ActiveRecord: 0.9ms | Allocations: 8853)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:03:38 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:03:38 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:03:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:04:51 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.9ms | ActiveRecord: 0.3ms | Allocations: 8931)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:04:51 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:04:51 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:04:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:05:20 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3305)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.3ms | Allocations: 8911)


Started GET "/cable" for ::1 at 2022-07-21 17:05:20 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:25 +0600
ProductsChannel stopped streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:05:31 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 3286)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.7ms | Allocations: 8896)


Started GET "/cable" for ::1 at 2022-07-21 17:05:32 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:05:35 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 3286)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.4ms | Allocations: 8902)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:35 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:05:35 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:05:39 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 11:05:39.909497"], ["updated_at", "2022-07-21 11:05:39.909497"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (73.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 952)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 72], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 92ms (Views: 9.1ms | ActiveRecord: 74.6ms | Allocations: 10727)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:41 +0600
ProductsChannel stopped streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:42 +0600
ProductsChannel stopped streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:45 +0600
ProductsChannel stopped streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:05:48 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.1ms | ActiveRecord: 0.3ms | Allocations: 8894)


Started GET "/cable" for ::1 at 2022-07-21 17:05:48 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:48 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:05:51 +0600
ProductsChannel stopped streaming from products
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (12.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (14.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (903.6ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "users";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (910.9ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "users";
DELETE FROM "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for ::1 at 2022-07-21 17:08:59 +0600
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:08:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:09:00 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  ↳ test/test_helper.rb:3:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "carts"[0m
  [1m[35m (109.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "line_items"[0m
  [1m[35m (97.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer)[0m
  [1m[35m (97.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (84.9ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (86.8ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (87.8ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "products"[0m
  [1m[35m (72.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (112.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (83.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (82.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/cable" for ::1 at 2022-07-21 17:09:07 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (102.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (103.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (69.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20220721084032)[0m
  [1m[35m (73.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20220713061806),
(20220715055003),
(20220715082149),
(20220718111831),
(20220718113004),
(20220720031808),
(20220720031823);

[0m
  [1m[35m (106.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-07-21 11:09:07.692694"], ["updated_at", "2022-07-21 11:09:07.692694"]]
  [1m[35m (76.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-07-21 11:09:07.781878"], ["key", "environment"]]
  [1m[35m (72.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "0ef03859be8deec527b16ad9cdc7f21b8598279a"], ["created_at", "2022-07-21 11:09:07.864074"], ["updated_at", "2022-07-21 11:09:07.864074"]]
  [1m[35m (78.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ test/test_helper.rb:3:in `<main>'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ test/test_helper.rb:3:in `<main>'
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (8.9ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.5ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.7ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.8ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (1.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 149.3ms | Allocations: 19509)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 330ms (Views: 222.2ms | ActiveRecord: 5.9ms | Allocations: 38733)


Started GET "/cable" for ::1 at 2022-07-21 17:09:08 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:09:10 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for ::1 at 2022-07-21 17:09:10 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"KrraKshSzcgRrsXO446BUAnywCE9puqf0XuATv/+Ja/DlWlZaLkxBySSOn1eBZOTOQjudiA+3f2KdSam79JewQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 71], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 71], ["created_at", "2022-07-21 11:09:10.418989"], ["updated_at", "2022-07-21 11:09:10.418989"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (95.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 71]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 320)
  Rendered carts/_cart.html.erb (Duration: 7.8ms | Allocations: 2412)
  Rendered line_items/create.js.erb (Duration: 9.1ms | Allocations: 2864)
Completed 200 OK in 137ms (Views: 12.0ms | ActiveRecord: 97.7ms | Allocations: 17617)


Started POST "/line_items?product_id=4" for ::1 at 2022-07-21 17:09:13 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"KrraKshSzcgRrsXO446BUAnywCE9puqf0XuATv/+Ja/DlWlZaLkxBySSOn1eBZOTOQjudiA+3f2KdSam79JewQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 71], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 71], ["created_at", "2022-07-21 11:09:13.512571"], ["updated_at", "2022-07-21 11:09:13.512571"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (114.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 71]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.5ms | Allocations: 1074)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 2511)
  Rendered line_items/create.js.erb (Duration: 5.5ms | Allocations: 2701)
Completed 200 OK in 136ms (Views: 6.4ms | ActiveRecord: 116.0ms | Allocations: 9894)


Started POST "/line_items?product_id=6" for ::1 at 2022-07-21 17:09:16 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"KrraKshSzcgRrsXO446BUAnywCE9puqf0XuATv/+Ja/DlWlZaLkxBySSOn1eBZOTOQjudiA+3f2KdSam79JewQ==", "product_id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 71], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 71], ["created_at", "2022-07-21 11:09:16.825919"], ["updated_at", "2022-07-21 11:09:16.825919"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (120.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 71]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 5.5ms | Allocations: 2001)
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 3460)
  Rendered line_items/create.js.erb (Duration: 9.2ms | Allocations: 3663)
Completed 200 OK in 146ms (Views: 9.3ms | ActiveRecord: 122.0ms | Allocations: 10847)


Started GET "/orders/new" for ::1 at 2022-07-21 17:09:18 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:102:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.6ms | Allocations: 2146)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 11.4ms | Allocations: 4754)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 71]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 7.5ms | Allocations: 2770)
  Rendered carts/_cart.html.erb (Duration: 10.9ms | Allocations: 4271)
Completed 200 OK in 86ms (Views: 61.5ms | ActiveRecord: 5.1ms | Allocations: 22869)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:18 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:09:19 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:19 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2022-07-21 17:09:37 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"eO2BpXMVfBfBPaSJ4/AAdgoi5j5Zf79FRIFZMYT5AjiRwjLW0/6A2PQBWzpeexK1OtjIaUTniCcfj//ZlNV5Vg==", "order"=>{"name"=>"Lea", "address"=>"A", "email"=>"lea@gmail.com", "pay_type"=>"Purchase order", "po_number"=>"123"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameter: :po_number[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 71]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Lea"], ["address", "A"], ["email", "lea@gmail.com"], ["pay_type", 2], ["created_at", "2022-07-21 11:09:37.969142"], ["updated_at", "2022-07-21 11:09:37.969142"]]
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[36mLineItem Update (1.9ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 10], ["updated_at", "2022-07-21 11:09:37.975007"], ["id", 30]]
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 10], ["updated_at", "2022-07-21 11:09:37.981566"], ["id", 31]]
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 10], ["updated_at", "2022-07-21 11:09:37.985923"], ["id", 32]]
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[35m (135.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:39:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 71]]
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 71]]
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  [1m[35m (103.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 595ef866-8db2-4162-8350-ef5410c11073) to Async(default) with arguments: #<GlobalID:0x00007f6550fe3640 @uri=#<URI::GID gid://depot/Order/10>>, {"po_number"=>"123"}
Redirected to http://localhost:3000/
Completed 302 Found in 319ms (ActiveRecord: 244.5ms | Allocations: 25512)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [595ef866-8db2-4162-8350-ef5410c11073] Performing ChargeOrderJob (Job ID: 595ef866-8db2-4162-8350-ef5410c11073) from Async(default) enqueued at 2022-07-21T11:09:38Z with arguments: #<GlobalID:0x00007f6551068408 @uri=#<URI::GID gid://depot/Order/10>>, {"po_number"=>"123"}
[ActiveJob] [ChargeOrderJob] [595ef866-8db2-4162-8350-ef5410c11073] Processing purchase order: 123
Started GET "/" for ::1 at 2022-07-21 17:09:38 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 11:09:38.300658"], ["updated_at", "2022-07-21 11:09:38.300658"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (76.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 957)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 96ms (Views: 9.8ms | ActiveRecord: 77.4ms | Allocations: 10748)


Started GET "/cable" for ::1 at 2022-07-21 17:09:38 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:38 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [595ef866-8db2-4162-8350-ef5410c11073] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [595ef866-8db2-4162-8350-ef5410c11073] Enqueued ActionMailer::MailDeliveryJob (Job ID: 192c8f2c-4ac2-44cc-b576-735498a20259) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000055c4fa21a6a0 @uri=#<URI::GID gid://depot/Order/10>>]}
[ActiveJob] [ChargeOrderJob] [595ef866-8db2-4162-8350-ef5410c11073] Performed ChargeOrderJob (Job ID: 595ef866-8db2-4162-8350-ef5410c11073) from Async(default) in 3059.66ms
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259] Performing ActionMailer::MailDeliveryJob (Job ID: 192c8f2c-4ac2-44cc-b576-735498a20259) from Async(mailers) enqueued at 2022-07-21T11:09:41Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000055c4fab18d60 @uri=#<URI::GID gid://depot/Order/10>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 109)
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 10]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   Rendered collection of line_items/_line_item.text.erb [3 times] (Duration: 13.0ms | Allocations: 2514)
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 15.7ms | Allocations: 3949)
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259] OrderMailer#received: processed outbound mail in 24.9ms
Started GET "/" for ::1 at 2022-07-21 17:09:42 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 17ms (Views: 13.3ms | ActiveRecord: 0.9ms | Allocations: 7468)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:42 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:09:42 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259] Delivered mail 62d933f55f0f2_13bb22ae27d188f1423534@alauddin-fujitsu.mail (1481.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259] Date: Thu, 21 Jul 2022 17:09:41 +0600
From: Sam Ruby <depot@example.com>
To: lea@gmail.com
Message-ID: <62d933f55f0f2_13bb22ae27d188f1423534@alauddin-fujitsu.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_62d933f55c996_13bb22ae27d188f1423417";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_62d933f55c996_13bb22ae27d188f1423417
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Lea
Thank you for your recent order from The Pragmatic Store.
You ordered the following items:
 1 x Build Chatbot Interactions 1 x Docker for Rails Developers 1 x Programming CrystalWe'll send you a separate email when your order ships.


----==_mimepart_62d933f55c996_13bb22ae27d188f1423417
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_62d933f55c996_13bb22ae27d188f1423417--

[ActiveJob] [ActionMailer::MailDeliveryJob] [192c8f2c-4ac2-44cc-b576-735498a20259] Performed ActionMailer::MailDeliveryJob (Job ID: 192c8f2c-4ac2-44cc-b576-735498a20259) from Async(mailers) in 1507.67ms
Started GET "/login" for ::1 at 2022-07-21 17:09:52 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1454)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 7186)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:52 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:09:52 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:09:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:10:05 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:10:05 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:10:05 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:10:12 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 0.7ms | Allocations: 7480)


Started GET "/" for ::1 at 2022-07-21 17:10:14 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (6.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 55ms (Views: 51.7ms | ActiveRecord: 0.9ms | Allocations: 7465)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:10:14 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:10:14 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:10:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:10:35 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 27ms (Views: 21.6ms | ActiveRecord: 2.2ms | Allocations: 7454)


Started GET "/questions" for ::1 at 2022-07-21 17:10:37 +0600
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-07-21 17:10:40 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 32ms (Views: 26.5ms | ActiveRecord: 1.1ms | Allocations: 7445)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:10:40 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:10:40 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:10:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for ::1 at 2022-07-21 17:10:42 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"F2HXnyiipVyOlgOhzyFe34yu5wvrlyXgxvHoYLo5nBb+TmTsiElZk7uq/BJyqkwcvFTJXPYPEoKd/06IqhXneA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 73], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 73], ["created_at", "2022-07-21 11:10:42.146591"], ["updated_at", "2022-07-21 11:10:42.146591"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (89.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 73]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.4ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 1607)
  Rendered line_items/create.js.erb (Duration: 3.2ms | Allocations: 1783)
Completed 200 OK in 105ms (Views: 3.5ms | ActiveRecord: 91.0ms | Allocations: 8897)


Started DELETE "/carts/73" for ::1 at 2022-07-21 17:10:46 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"CnGnDVP4RbrG4QzDgtCID1i32k4+d9WDNJlIm07yuZy51oY5JikObhYMxYy+l3C6mMb9qDfcHTycIDEi/WSYgg==", "id"=>"73"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 73]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 33]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 73]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[35m (109.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 120ms (ActiveRecord: 110.6ms | Allocations: 6064)


Started GET "/" for ::1 at 2022-07-21 17:10:46 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-21 11:10:46.684242"], ["updated_at", "2022-07-21 11:10:46.684242"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (107.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 139ms (Views: 23.0ms | ActiveRecord: 108.3ms | Allocations: 10662)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:10:46 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:10:46 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:10:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:11:03 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 20.5ms | Allocations: 3682)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 39.5ms | ActiveRecord: 2.6ms | Allocations: 14110)


Started GET "/cable" for ::1 at 2022-07-21 17:11:03 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:11:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2022-07-21 17:11:10 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3286)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.3ms | Allocations: 8905)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:11:10 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:11:10 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:11:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:24:35 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1438)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 85ms (Views: 80.9ms | ActiveRecord: 0.6ms | Allocations: 29652)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:24:35 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:24:35 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:24:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for ::1 at 2022-07-21 17:24:40 +0600
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1340)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.4ms | Allocations: 7942)


Started GET "/products" for ::1 at 2022-07-21 17:24:41 +0600
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3651)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.4ms | Allocations: 10118)


Started GET "/orders" for ::1 at 2022-07-21 17:24:43 +0600
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 14.6ms | Allocations: 2597)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.4ms | Allocations: 9156)


Started DELETE "/logout" for ::1 at 2022-07-21 17:24:50 +0600
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"/SwUlKgCG7BAt4GTFiIpL1Kq6t4Tn1MeBYcOJSwJcY+hBZbSTLbwqVjGp2l47jsuJttNTcU6qsjJP4nws9mGiw=="}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 379)


Started GET "/" for ::1 at 2022-07-21 17:24:50 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 955)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 30ms (Views: 25.8ms | ActiveRecord: 1.1ms | Allocations: 7414)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:24:50 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:24:50 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:24:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:24:54 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms | Allocations: 7399)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:24:54 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:24:54 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:24:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:25:00 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 27ms (Views: 22.6ms | ActiveRecord: 1.2ms | Allocations: 7397)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:25:00 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:25:00 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:25:00 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:25:08 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.5ms | Allocations: 7393)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:25:08 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:25:08 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:25:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2022-07-21 17:25:16 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 735)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 6378)


Started GET "/cable" for ::1 at 2022-07-21 17:25:16 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:25:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:25:16 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2022-07-21 17:25:24 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"iUtSxOFT2PCrxrzHzJuU+Q1PSFmfCaXRIAZx9ZM+56VgZOG3QbgkP576Q3RxEIY6PbVmDoKRkrN7CNcdgxKcyw==", "name"=>"Z", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Z"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 270ms (ActiveRecord: 0.3ms | Allocations: 1065)


Started GET "/admin" for ::1 at 2022-07-21 17:25:24 +0600
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 139)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 7305)


Started GET "/cable" for ::1 at 2022-07-21 17:25:24 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:25:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:25:24 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:25:27 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 19ms (Views: 15.6ms | ActiveRecord: 0.7ms | Allocations: 7726)


Started POST "/line_items?product_id=5" for ::1 at 2022-07-21 17:25:29 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"BaTW0hxo33gqcdfYZWwYex07RMmxEwhbdJ/adZJ69LRqY8IZZEKHiTjO5XLebx0J5ETaYs5PY+ovEYJaHCdg3Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 74], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 74], ["created_at", "2022-07-21 11:25:29.548439"], ["updated_at", "2022-07-21 11:25:29.548439"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (106.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.7ms | Allocations: 309)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2128)
  Rendered line_items/create.js.erb (Duration: 5.0ms | Allocations: 2544)
Completed 200 OK in 124ms (Views: 6.6ms | ActiveRecord: 107.9ms | Allocations: 10980)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (1013.6ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "users";
DELETE FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (1037.7ms)[0m  [1m[31mDELETE FROM "carts";
DELETE FROM "orders";
DELETE FROM "products";
DELETE FROM "users";
DELETE FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for ::1 at 2022-07-21 17:38:07 +0600
Started GET "/cable" for ::1 at 2022-07-21 17:38:07 +0600
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:38:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:38:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
Started GET "/cable" for ::1 at 2022-07-21 17:38:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:38:07 +0600
ProductsChannel is streaming from products
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:38:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:38:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:38:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:38:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for ::1 at 2022-07-21 17:42:07 +0600
Started GET "/cable" for ::1 at 2022-07-21 17:42:07 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:42:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:42:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:42:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:42:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:42:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:42:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:42:07 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:42:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2022-07-21 17:43:19 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.2ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.8ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.5ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 80.9ms | Allocations: 33220)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.9ms | Allocations: 1905)
  Rendered carts/_cart.html.erb (Duration: 26.0ms | Allocations: 9177)
Completed 200 OK in 170ms (Views: 135.1ms | ActiveRecord: 3.7ms | Allocations: 62341)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:43:20 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:43:20 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:43:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for ::1 at 2022-07-21 17:43:22 +0600
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1349)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 21.0ms | ActiveRecord: 1.4ms | Allocations: 11950)


Started GET "/users/new" for ::1 at 2022-07-21 17:43:23 +0600
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 26.0ms | Allocations: 1621)
  Rendered users/new.html.erb within layouts/application (Duration: 27.1ms | Allocations: 1986)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 33.1ms | ActiveRecord: 0.2ms | Allocations: 8090)


Started POST "/users" for ::1 at 2022-07-21 17:43:51 +0600
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"YoJZjaQMcZcApFq46HyYhsL7jOds5Ff2nxDVLt17NDKtbkAIrQHno7Wv1/S0J0wOf378O+V5RG8EWyFhr0G4xw==", "user"=>{"name"=>"Dave", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create User"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "Dave"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Dave"], ["password_digest", "$2a$12$9KRsiq2qmok/he0qLpodP.2LhQ.9UdiRHZXO2g6k2LhT5R38Rc2Ke"], ["created_at", "2022-07-21 11:43:52.378205"], ["updated_at", "2022-07-21 11:43:52.378205"]]
  ↳ app/controllers/users_controller.rb:28:in `block in create'
  [1m[35m (65.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/users_controller.rb:28:in `block in create'
Redirected to http://localhost:3000/users
Completed 302 Found in 550ms (ActiveRecord: 67.3ms | Allocations: 5824)


Started GET "/users" for ::1 at 2022-07-21 17:43:52 +0600
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1185)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 22.4ms | ActiveRecord: 0.7ms | Allocations: 7326)


Finished "/cable/" [WebSocket] for ::1 at 2022-07-21 17:43:52 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2022-07-21 17:43:52 +0600
Started GET "/cable/" [WebSocket] for ::1 at 2022-07-21 17:43:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/3" for ::1 at 2022-07-21 17:43:55 +0600
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:66:in `set_user'
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 250)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 8.5ms | ActiveRecord: 0.4ms | Allocations: 7004)


Started GET "/users" for ::1 at 2022-07-21 17:43:56 +0600
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1183)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.4ms | Allocations: 7195)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Started GET "/cable" for 127.0.0.1 at 2022-07-21 18:10:07 +0600
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-21 18:10:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "dave"], ["password_digest", "$2a$12$vhOA0fNukYBo2menr.RBDOtxQooRq8jXYXmKcPvG29bZeRNEKknv."], ["created_at", "2022-07-21 12:10:24.147583"], ["updated_at", "2022-07-21 12:10:24.147583"]]
  [1m[35m (69.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/users" for 127.0.0.1 at 2022-07-21 18:10:50 +0600
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:7:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1850)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 101ms (Views: 40.9ms | ActiveRecord: 2.6ms | Allocations: 23220)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for 127.0.0.1 at 2022-07-22 09:40:02 +0600
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-22 03:40:03.536220"], ["updated_at", "2022-07-22 03:40:03.536220"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (67.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (6.2ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.9ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.6ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.4ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.7ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 458.0ms | Allocations: 19716)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 848ms (Views: 648.9ms | ActiveRecord: 74.5ms | Allocations: 42195)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 09:40:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 09:40:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-22 10:09:56 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 10:09:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for 127.0.0.1 at 2022-07-22 10:17:48 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-22 04:17:49.037362"], ["updated_at", "2022-07-22 04:17:49.037362"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (92.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 45.5ms | Allocations: 19701)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 76], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 191ms (Views: 61.8ms | ActiveRecord: 95.1ms | Allocations: 42261)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 10:17:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 10:17:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 10:17:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 10:17:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 10:30:49 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 955)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 76], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 24ms (Views: 18.3ms | ActiveRecord: 1.4ms | Allocations: 7573)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 10:30:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 10:30:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/rails/info/routes" for 127.0.0.1 at 2022-07-22 10:59:27 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Rails::InfoController#routes as HTML
  Rendering /home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/railties-6.0.5.1/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionpack-6.0.5.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [68 times] (Duration: 22.9ms | Allocations: 7565)
  Rendered /home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/actionpack-6.0.5.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 13.9ms | Allocations: 987)
  Rendered /home/nascenia/.rbenv/versions/2.6.5/lib/ruby/gems/2.6.0/gems/railties-6.0.5.1/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 61.0ms | Allocations: 13831)
Completed 200 OK in 66ms (Views: 64.0ms | ActiveRecord: 0.0ms | Allocations: 15210)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-22 11:29:54 +0600
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:29:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 11:29:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:29:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 11:29:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:29:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 11:30:06 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/es" for 127.0.0.1 at 2022-07-22 11:30:22 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2123)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 0.0ms | Allocations: 12283)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/en" for 127.0.0.1 at 2022-07-22 11:31:54 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1556)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2543)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:31:55 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 11:32:05 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1372)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1841)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:32:05 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 11:32:13 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1374)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1840)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:32:13 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 11:34:44 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/" for 127.0.0.1 at 2022-07-22 11:34:47 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1383)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2064)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for 127.0.0.1 at 2022-07-22 11:37:25 +0600
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/" for 127.0.0.1 at 2022-07-22 11:39:10 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/" for 127.0.0.1 at 2022-07-22 11:40:24 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/" for 127.0.0.1 at 2022-07-22 11:40:26 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2188)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 4795)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for 127.0.0.1 at 2022-07-22 11:40:43 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ArgumentError (Before process_action callback :authenticate_admin! has not been defined):
  
app/controllers/store_controller.rb:3:in `<class:StoreController>'
app/controllers/store_controller.rb:2:in `<main>'
Started GET "/" for 127.0.0.1 at 2022-07-22 11:40:44 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1383)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2064)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for 127.0.0.1 at 2022-07-22 11:40:46 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1374)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1840)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for 127.0.0.1 at 2022-07-22 11:40:57 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1377)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 1857)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    4: <h1>Your Pragmatic Catalog</h1>
    5: <ul class="catalog">
    6:   <% cache @products do %>
    7:     <% @products.each do |product| %>
    8:       <% cache product do %>
    9:         <li>
   10:       <%= image_tag(product.image_url) %>
  
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
Started GET "/" for 127.0.0.1 at 2022-07-22 11:41:13 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.4ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 40.2ms | Allocations: 19043)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 87ms (Views: 74.9ms | ActiveRecord: 2.3ms | Allocations: 36026)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 11:41:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:41:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 11:41:22 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1137)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 18ms (Views: 13.0ms | ActiveRecord: 0.8ms | Allocations: 8255)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:41:22 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 11:41:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 11:41:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:05:53 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1557)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 63ms (Views: 34.9ms | ActiveRecord: 1.3ms | Allocations: 18200)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:05:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:05:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:05:56 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.6ms | Allocations: 9112)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:05:56 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:05:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:05:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:06:15 +0600
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:06:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for 127.0.0.1 at 2022-07-22 12:06:26 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.8ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.6ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.4ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 52.7ms | Allocations: 18462)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 149ms (Views: 82.2ms | ActiveRecord: 4.7ms | Allocations: 40921)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:06:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:06:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:06:26 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:06:32 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1137)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 34ms (Views: 26.2ms | ActiveRecord: 1.2ms | Allocations: 9833)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:06:32 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:06:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:06:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:06:35 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 29ms (Views: 23.8ms | ActiveRecord: 1.1ms | Allocations: 9130)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:06:35 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:06:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:06:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:08:52 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1437)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 0.6ms | Allocations: 10785)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:08:52 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:08:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:08:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:08:53 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.6ms | Allocations: 9133)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:08:53 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:08:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:08:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:08:53 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 21ms (Views: 17.4ms | ActiveRecord: 1.1ms | Allocations: 9104)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:08:53 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:08:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:08:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:08:56 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/line_items_controller.rb:2:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:1:in `<main>'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:08:58 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pGQM925pOmCbF9l5lpbYTGTWLNV4ycZTeV4pNxS3n7zmFiJSYQy5q0U1YfLcmN7Cfx4kJIHjwsNJZgaXKdYhhQ==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.7ms | Allocations: 1036)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2826)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-22 12:09:06 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 32ms (Views: 26.9ms | ActiveRecord: 1.1ms | Allocations: 9114)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:09:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:09:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:09:06 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:09:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ESOVR6/d0xxsSepbOWyWpollKdySWK/lrLTOeZAwfH5TUbvioLhQ17JrUtBzYpAokq0hLWtyq3WcjOHZrVHCRw==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.4ms | Allocations: 928)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2452)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-22 12:09:11 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 26ms (Views: 21.5ms | ActiveRecord: 1.0ms | Allocations: 9088)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:09:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:09:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:09:12 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:09:13 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.6ms | Allocations: 9119)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:09:13 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:09:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:09:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-22 12:09:14 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"k4wX/Oy5nHpjHtluSnqiJBCeApZNG/9Zz0bvd5n+gZfR/jlZ49wfsb08YeUAdKSqC1YKZ7Qx+8n/fsDXpJ8/rg==", "product_id"=>"4"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 1.1ms | Allocations: 928)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1449)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-22 12:09:15 +0600
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-22 12:09:15 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"k4wX/Oy5nHpjHtluSnqiJBCeApZNG/9Zz0bvd5n+gZfR/jlZ49wfsb08YeUAdKSqC1YKZ7Qx+8n/fsDXpJ8/rg==", "product_id"=>"4"}
  Parameters: {"authenticity_token"=>"k4wX/Oy5nHpjHtluSnqiJBCeApZNG/9Zz0bvd5n+gZfR/jlZ49wfsb08YeUAdKSqC1YKZ7Qx+8n/fsDXpJ8/rg==", "product_id"=>"4"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 1.1ms | Allocations: 928)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1449)


  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.9ms | Allocations: 928)
  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 4562)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:09:28 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:09:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:09:36 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/line_items_controller.rb:2:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:1:in `<main>'
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:11:14 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.0ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.4ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.7ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.5ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.7ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 61.9ms | Allocations: 18376)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 191ms (Views: 95.3ms | ActiveRecord: 5.4ms | Allocations: 40159)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:11:15 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:11:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:11:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:11:16 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"m/iEaVXYtPFUIlKYxyInFV3sp0Ic3r70YUZUIOunRkDZiqrMWr03OooA6hONLCGbRiSvs+X0umRRfnuA1sb4eQ==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 1.6ms | Allocations: 1034)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2791)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:11:18 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"m/iEaVXYtPFUIlKYxyInFV3sp0Ic3r70YUZUIOunRkDZiqrMWr03OooA6hONLCGbRiSvs+X0umRRfnuA1sb4eQ==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.5ms | Allocations: 930)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1454)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:11:18 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"m/iEaVXYtPFUIlKYxyInFV3sp0Ic3r70YUZUIOunRkDZiqrMWr03OooA6hONLCGbRiSvs+X0umRRfnuA1sb4eQ==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.4ms | Allocations: 930)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1809)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-22 12:11:23 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1139)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 33ms (Views: 28.9ms | ActiveRecord: 1.0ms | Allocations: 9854)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:11:23 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:11:23 +0600
ProductsChannel stopped streaming from products
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:11:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:11:25 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"r4kYqQqYrjHjRYIfr98SE0rKRI31g/coC+2JflNmEzzt+zYMBf0t+j1nOpTl0RSdUQJMfAyp87g71abebgetBQ==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.5ms | Allocations: 928)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1455)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-22 12:11:26 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"r4kYqQqYrjHjRYIfr98SE0rKRI31g/coC+2JflNmEzzt+zYMBf0t+j1nOpTl0RSdUQJMfAyp87g71abebgetBQ==", "product_id"=>"4"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 1.0ms | Allocations: 928)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1455)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=6" for 127.0.0.1 at 2022-07-22 12:11:28 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"r4kYqQqYrjHjRYIfr98SE0rKRI31g/coC+2JflNmEzzt+zYMBf0t+j1nOpTl0RSdUQJMfAyp87g71abebgetBQ==", "product_id"=>"6"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.4ms | Allocations: 928)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1455)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:12:15 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"r4kYqQqYrjHjRYIfr98SE0rKRI31g/coC+2JflNmEzzt+zYMBf0t+j1nOpTl0RSdUQJMfAyp87g71abebgetBQ==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.4ms | Allocations: 928)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1455)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-22 12:12:16 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 950)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 26ms (Views: 21.6ms | ActiveRecord: 1.1ms | Allocations: 9117)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:12:16 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:12:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:12:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-22 12:12:17 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"wYjHpfVxnRLpcUYtEtx4dI4w4I8qOTz8CJgRJKGTRU2D+ukA+hQe2TdT/qZY0n76lfjoftMTOGw4oD6EnPL7dA==", "product_id"=>"4"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.4ms | Allocations: 928)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1439)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started GET "/" for 127.0.0.1 at 2022-07-22 12:13:07 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1436)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.6ms | Allocations: 10777)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:13:07 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:13:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:13:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:13:08 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"MEsjCmmc0ZC1JkhTVyjB9pbcmDcoSBvmBKRxI5wigRtyOQ2vZvlSW2sE8NgdJsd4jRSQxtFiH3Y0nF6DoUM/Ig==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.7ms | Allocations: 1029)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2705)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-22 12:13:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"MEsjCmmc0ZC1JkhTVyjB9pbcmDcoSBvmBKRxI5wigRtyOQ2vZvlSW2sE8NgdJsd4jRSQxtFiH3Y0nF6DoUM/Ig==", "product_id"=>"4"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.4ms | Allocations: 928)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1440)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2022-07-22 12:13:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"MEsjCmmc0ZC1JkhTVyjB9pbcmDcoSBvmBKRxI5wigRtyOQ2vZvlSW2sE8NgdJsd4jRSQxtFiH3Y0nF6DoUM/Ig==", "product_id"=>"4"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 0.4ms | Allocations: 928)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2185)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: cart = document.getElementById("cart")
    2: cart.innerHTML = "<%= j render(@cart) %>"
    3: notice = document.getElementById("notice")
    4: if (notice) notice.style.display = "none"
  
app/views/line_items/create.js.erb:2
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:13:25 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:13:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:13:37 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/line_items_controller.rb:2:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2022-07-22 12:14:09 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/5-20220715153321750276 (0.5ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 33.2ms | Allocations: 19648)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
Completed 200 OK in 79ms (Views: 49.0ms | ActiveRecord: 3.1ms | Allocations: 40172)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:14:09 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:14:09 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 12:14:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1rHzZY2RZv5TENXFGETsrRpDZM8J7OdjFRkUc9nxRjiUw93AgvTlNY0ybU5SSuojAYtsPvDG4/MlITvT5JD4AQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 75], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 75], ["created_at", "2022-07-22 06:14:11.272279"], ["updated_at", "2022-07-22 06:14:11.272279"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (131.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.7ms | Allocations: 320)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 2420)
  Rendered line_items/create.js.erb (Duration: 5.4ms | Allocations: 2873)
Completed 200 OK in 170ms (Views: 6.9ms | ActiveRecord: 132.7ms | Allocations: 17541)


Started GET "/" for 127.0.0.1 at 2022-07-22 12:16:25 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (22.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 1433)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 1091)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 3329)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.7ms | Allocations: 14351)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:16:25 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:16:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:16:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:16:35 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1136)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 938)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 2858)
Completed 200 OK in 25ms (Views: 19.4ms | ActiveRecord: 0.8ms | Allocations: 12889)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:16:35 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:16:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:16:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:19:39 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1071)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.2ms | Allocations: 5961)
  Rendered carts/_cart.html.erb (Duration: 19.4ms | Allocations: 13004)
Completed 200 OK in 44ms (Views: 31.5ms | ActiveRecord: 2.7ms | Allocations: 30488)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:19:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:19:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:19:40 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:af7bd85d8cc23ea2a92edd5c374d46b5/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 936)
  Rendered carts/_cart.html.erb (Duration: 5.9ms | Allocations: 2734)
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.9ms | Allocations: 11925)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:19:40 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:19:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:19:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:26:17 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/5-20220715153321750276 (0.6ms)
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/4-20220715153321691924 (0.6ms)
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/6-20220715153321814790 (0.5ms)
Write fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 38.5ms | Allocations: 10095)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.8ms | Allocations: 1901)
  Rendered carts/_cart.html.erb (Duration: 28.1ms | Allocations: 9105)
Completed 200 OK in 119ms (Views: 91.9ms | ActiveRecord: 2.6ms | Allocations: 36133)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:26:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:26:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:27:31 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1104)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 20.2ms | Allocations: 5961)
  Rendered carts/_cart.html.erb (Duration: 44.1ms | Allocations: 12899)
Completed 200 OK in 72ms (Views: 55.4ms | ActiveRecord: 3.9ms | Allocations: 29059)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:27:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:27:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for 127.0.0.1 at 2022-07-22 12:27:40 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1165)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 2831)
Completed 200 OK in 25ms (Views: 21.0ms | ActiveRecord: 0.9ms | Allocations: 12871)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:27:41 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:27:41 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:27:41 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for 127.0.0.1 at 2022-07-22 12:27:44 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 982)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 927)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2715)
Completed 200 OK in 17ms (Views: 14.6ms | ActiveRecord: 0.7ms | Allocations: 11934)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:27:44 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:27:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:27:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for 127.0.0.1 at 2022-07-22 12:30:42 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:a7722cef15376974ced51c0d0da6c1d4/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.2ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:a7722cef15376974ced51c0d0da6c1d4/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:a7722cef15376974ced51c0d0da6c1d4/products/5-20220715153321750276 (0.3ms)
Read fragment views/store/index:a7722cef15376974ced51c0d0da6c1d4/products/4-20220715153321691924 (28.3ms)
Write fragment views/store/index:a7722cef15376974ced51c0d0da6c1d4/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:a7722cef15376974ced51c0d0da6c1d4/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:a7722cef15376974ced51c0d0da6c1d4/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:a7722cef15376974ced51c0d0da6c1d4/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 53.1ms | Allocations: 5037)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.8ms | Allocations: 1091)
  Rendered carts/_cart.html.erb (Duration: 13.0ms | Allocations: 3306)
Completed 200 OK in 94ms (Views: 87.6ms | ActiveRecord: 2.0ms | Allocations: 17829)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:30:42 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:30:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:30:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for 127.0.0.1 at 2022-07-22 12:31:36 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.3ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.7ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.2ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.5ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.4ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 5802)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 1091)
  Rendered carts/_cart.html.erb (Duration: 12.8ms | Allocations: 3296)
Completed 200 OK in 63ms (Views: 57.6ms | ActiveRecord: 1.7ms | Allocations: 18582)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:31:36 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:31:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:31:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:31:42 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1168)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 936)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 2851)
Completed 200 OK in 26ms (Views: 21.2ms | ActiveRecord: 0.9ms | Allocations: 11323)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:31:43 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:31:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:31:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:31:47 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 982)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 936)
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 2733)
Completed 200 OK in 34ms (Views: 27.9ms | ActiveRecord: 1.3ms | Allocations: 10364)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:31:47 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:31:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:31:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:31:47 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 982)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 936)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2733)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.7ms | Allocations: 10372)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:31:47 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:31:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:31:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:33:34 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1481)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 1100)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 3325)
Completed 200 OK in 23ms (Views: 19.8ms | ActiveRecord: 1.0ms | Allocations: 12801)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:33:34 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:33:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:33:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 12:33:37 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:cd00da3fbdbc430417765d336d74eade/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 984)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:21
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 936)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 2733)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 0.8ms | Allocations: 10373)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:33:37 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 12:33:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 12:33:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-22 13:10:35 +0600
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 13:10:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 15:22:36 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.5ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 587.0ms | Allocations: 61750)
[Webpacker] Compiling...
[Webpacker] Compilation failed:

  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.9ms | Allocations: 1918)
  Rendered carts/_cart.html.erb (Duration: 57.5ms | Allocations: 9777)
Completed 200 OK in 6270ms (Views: 6235.1ms | ActiveRecord: 5.1ms | Allocations: 101388)


DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:22:49 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:22:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:22:55 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/orders_controller.rb:2:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:22:56 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:23:44 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ArgumentError (Before process_action callback :authenticate_admin! has not been defined):
  
app/controllers/orders_controller.rb:2:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:24:07 +0600
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 15.7ms | Allocations: 1959)
  Rendered orders/new.html.erb within layouts/application (Duration: 31.2ms | Allocations: 2378)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.0ms | Allocations: 4973)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:24:37 +0600
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 27.2ms | Allocations: 1717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 34.9ms | Allocations: 4519)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 55.4ms | Allocations: 8769)
  Rendered carts/_cart.html.erb (Duration: 87.7ms | Allocations: 16599)
Completed 200 OK in 337ms (Views: 211.7ms | ActiveRecord: 7.6ms | Allocations: 54222)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:24:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:24:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:24:49 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:24:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:24:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 15:24:51 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.7ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (3.2ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.3ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.7ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.6ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 38.0ms | Allocations: 6490)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 11.8ms | Allocations: 2851)
Completed 200 OK in 77ms (Views: 69.4ms | ActiveRecord: 2.3ms | Allocations: 16904)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:24:52 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:24:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:24:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:24:58 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 775)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3164)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.0ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 10.7ms | Allocations: 2723)
Completed 200 OK in 52ms (Views: 40.6ms | ActiveRecord: 1.4ms | Allocations: 14700)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:24:58 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:24:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:24:58 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:26:51 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.0ms | Allocations: 766)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3157)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.5ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 2718)
Completed 200 OK in 44ms (Views: 39.2ms | ActiveRecord: 1.0ms | Allocations: 14709)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:26:51 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:26:51 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:26:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:27:00 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:27:00 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:27:00 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 15:27:01 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 987)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 27.3ms | Allocations: 939)
  Rendered carts/_cart.html.erb (Duration: 30.2ms | Allocations: 2737)
Completed 200 OK in 46ms (Views: 43.4ms | ActiveRecord: 0.9ms | Allocations: 10471)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:27:01 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:27:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:27:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/es/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 15:27:04 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pervgmYMA7Xhbw8ZK5iPMKqX6RtDPJEMT+4E7Cb50v3nmMEnaWmAfj9Nt5Jhlom+sV/h6roWlZx/1itMG5hsxA==", "product_id"=>"5", "locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 75], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-22 09:27:04.393738"], ["id", 34]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (107.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 946)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 2891)
  Rendered line_items/create.js.erb (Duration: 5.9ms | Allocations: 3342)
Completed 200 OK in 128ms (Views: 7.4ms | ActiveRecord: 108.6ms | Allocations: 12132)


Started POST "/es/line_items?product_id=4" for 127.0.0.1 at 2022-07-22 15:27:07 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pervgmYMA7Xhbw8ZK5iPMKqX6RtDPJEMT+4E7Cb50v3nmMEnaWmAfj9Nt5Jhlom+sV/h6roWlZx/1itMG5hsxA==", "product_id"=>"4", "locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 75], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 75], ["created_at", "2022-07-22 09:27:07.662567"], ["updated_at", "2022-07-22 09:27:07.662567"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (107.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1093)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 2996)
  Rendered line_items/create.js.erb (Duration: 5.7ms | Allocations: 3232)
Completed 200 OK in 126ms (Views: 6.0ms | ActiveRecord: 108.7ms | Allocations: 10465)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:27:10 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.4ms | Allocations: 774)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3163)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.0ms | Allocations: 1851)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 3669)
Completed 200 OK in 26ms (Views: 21.0ms | ActiveRecord: 0.9ms | Allocations: 15644)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:27:10 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:27:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:27:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/75" for 127.0.0.1 at 2022-07-22 15:27:20 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/carts_controller.rb:2:in `<class:CartsController>'
app/controllers/carts_controller.rb:1:in `<main>'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:27:20 +0600
ProductsChannel stopped streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started DELETE "/carts/75" for 127.0.0.1 at 2022-07-22 15:28:00 +0600
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/carts_controller.rb:2:in `<class:CartsController>'
app/controllers/carts_controller.rb:1:in `<main>'
Started DELETE "/carts/75" for 127.0.0.1 at 2022-07-22 15:28:35 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Q0sWFa+bmy7oadlqKLbpWr2a6SLC82rYS23i7IlgeQcBOTiwoP4Y5TZLYeFiuO/UplLh0zvZbkh7Vc1MtAHHPg==", "id"=>"75"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 75]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 34]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 35]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 75]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[35m (163.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 212ms (ActiveRecord: 167.2ms | Allocations: 21563)


Started GET "/" for 127.0.0.1 at 2022-07-22 15:28:35 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-22 09:28:36.126374"], ["updated_at", "2022-07-22 09:28:36.126374"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (109.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.3ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.2ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.6ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.3ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.3ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 32.9ms | Allocations: 18536)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 167ms (Views: 42.9ms | ActiveRecord: 111.4ms | Allocations: 33633)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:28:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:28:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 15:28:39 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tYVin8WTYqW7yqwP91WrzmrxGlf32BgBLq/UFqlamc3390w6yvbhbmXoFIS9W61AcTkSpg7yHJEel/u2lDsn9A==", "product_id"=>"5", "locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 77], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 77], ["created_at", "2022-07-22 09:28:39.129159"], ["updated_at", "2022-07-22 09:28:39.129159"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (102.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 320)
  Rendered carts/_cart.html.erb (Duration: 10.7ms | Allocations: 2739)
  Rendered line_items/create.js.erb (Duration: 12.9ms | Allocations: 3228)
Completed 200 OK in 134ms (Views: 16.5ms | ActiveRecord: 104.1ms | Allocations: 12727)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:28:41 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.7ms | Allocations: 1670)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4341)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 2840)
Completed 200 OK in 36ms (Views: 20.6ms | ActiveRecord: 1.3ms | Allocations: 22761)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:28:42 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:28:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:28:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:30:09 +0600
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:30:09 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:30:13 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.7ms | Allocations: 1717)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 8.8ms | Allocations: 4517)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 35.2ms | Allocations: 8769)
  Rendered carts/_cart.html.erb (Duration: 66.7ms | Allocations: 16595)
Completed 200 OK in 174ms (Views: 111.8ms | ActiveRecord: 4.5ms | Allocations: 54260)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:30:14 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:30:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:30:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 15:30:22 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.3ms)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.3ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.6ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.4ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.4ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 25.6ms | Allocations: 6456)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 2715)
Completed 200 OK in 43ms (Views: 39.7ms | ActiveRecord: 1.3ms | Allocations: 18050)


Started GET "/orders/new" for 127.0.0.1 at 2022-07-22 15:30:37 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.9ms | Allocations: 775)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3166)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2723)
Completed 200 OK in 26ms (Views: 21.0ms | ActiveRecord: 0.8ms | Allocations: 14728)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:30:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:30:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:30:37 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 15:30:41 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 987)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 2717)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 0.8ms | Allocations: 12027)


Started GET "/" for 127.0.0.1 at 2022-07-22 15:33:54 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 986)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 2717)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.9ms | Allocations: 12041)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:33:54 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:33:54 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:33:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 15:34:00 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1480)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 1092)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 2913)
Completed 200 OK in 23ms (Views: 19.5ms | ActiveRecord: 0.8ms | Allocations: 14067)


Started POST "/en/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 15:34:02 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"rHEKV7uxGbO7kXKhX0KkTkCv0/7hNPzvybMxt5l5+xDNHAkvlML2FMasOtQP4ac2UMZAJCEMGwrwPtpORIH0IA==", "product_id"=>"5", "locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 77], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-22 09:34:02.714102"], ["id", 34]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (73.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2514)
  Rendered line_items/create.js.erb (Duration: 4.9ms | Allocations: 2920)
Completed 200 OK in 91ms (Views: 6.3ms | ActiveRecord: 74.4ms | Allocations: 11612)


Started GET "/en/orders/new" for 127.0.0.1 at 2022-07-22 15:34:04 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.3ms | Allocations: 1127)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3790)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 2366)
Completed 200 OK in 45ms (Views: 38.2ms | ActiveRecord: 0.8ms | Allocations: 15554)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:34:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:34:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:34:04 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en/orders/new" for 127.0.0.1 at 2022-07-22 15:46:50 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 766)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3155)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.8ms | Allocations: 968)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2441)
Completed 200 OK in 38ms (Views: 31.0ms | ActiveRecord: 1.4ms | Allocations: 14449)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:46:50 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:46:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:46:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/77" for 127.0.0.1 at 2022-07-22 15:46:57 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"2LPuPYmajsnq2aqA/9i7Fd1rI4tk49EPM0ZUqsYvj3+awcCYhv8NAjT7Egu11r2bxqMrep3J1Z8DfnsK+04xRg==", "id"=>"77"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 34]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 77]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[35m (125.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 138ms (ActiveRecord: 126.7ms | Allocations: 6226)


Started GET "/" for 127.0.0.1 at 2022-07-22 15:46:57 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-22 09:46:57.387891"], ["updated_at", "2022-07-22 09:46:57.387891"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (95.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 991)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 122ms (Views: 18.6ms | ActiveRecord: 95.9ms | Allocations: 12547)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:46:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:46:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:46:57 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 15:47:02 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1171)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 31ms (Views: 24.9ms | ActiveRecord: 1.2ms | Allocations: 8341)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:47:03 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:47:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:47:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 15:47:06 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"CP7vLe3E5+N9EIRjWU5GyHCKAOKXz4iQKsQE6Wfq0xNKjMGI4qFkKKMyPOgTQEBGa0IIE27ljAAa/CtJWottKg==", "product_id"=>"5", "locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 78], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 78], ["created_at", "2022-07-22 09:47:06.699386"], ["updated_at", "2022-07-22 09:47:06.699386"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (132.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 145)
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1668)
  Rendered line_items/create.js.erb (Duration: 2.9ms | Allocations: 1852)
Completed 200 OK in 147ms (Views: 3.2ms | ActiveRecord: 133.5ms | Allocations: 9099)


Started GET "/en/orders/new" for 127.0.0.1 at 2022-07-22 15:47:14 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.9ms | Allocations: 766)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3155)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 928)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2361)
Completed 200 OK in 36ms (Views: 32.0ms | ActiveRecord: 0.6ms | Allocations: 14343)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:47:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:47:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:47:14 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 15:47:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:47:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 15:47:16 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 16:03:31 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 987)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 979)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 2585)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 1.0ms | Allocations: 10437)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:03:31 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:03:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:03:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:03:38 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.2ms | Allocations: 766)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3268)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2379)
Completed 200 OK in 21ms (Views: 15.9ms | ActiveRecord: 0.8ms | Allocations: 13260)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:03:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:03:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:03:38 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-22 16:03:59 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"w9gjrIEYUjc6RyyHMIOdiGpgtn6j1EjZsQJgETdjLsaBqg0Jjn3R/ORllAx6jZsGcai+j1r+TEmBOk+xCgKQ/w==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Realizar Pedido"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.6ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3736)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.7ms | Allocations: 155)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 859)
Completed 422 Unprocessable Entity in 57ms (Views: 29.3ms | ActiveRecord: 1.6ms | Allocations: 17335)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:03:59 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:03:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:03:59 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-22 16:12:48 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 35.8ms | Allocations: 7248)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 45.0ms | ActiveRecord: 0.4ms | Allocations: 14079)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:12:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:12:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-22 16:12:51 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2327)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.1ms | Allocations: 9275)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:12:51 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:12:51 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:12:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-22 16:12:53 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2327)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.1ms | Allocations: 7574)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:12:53 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:12:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:12:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:12:55 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1103)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.0ms | Allocations: 5815)
  Rendered carts/_cart.html.erb (Duration: 15.6ms | Allocations: 12244)
Completed 200 OK in 40ms (Views: 28.3ms | ActiveRecord: 1.1ms | Allocations: 27347)


Started GET "/es" for 127.0.0.1 at 2022-07-22 16:13:00 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (5.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1151)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2380)
Completed 200 OK in 41ms (Views: 29.8ms | ActiveRecord: 1.7ms | Allocations: 10249)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:13:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:13:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:13:01 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 16:13:09 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ClWsZ9fyAQfLLin6IFcncB2mW1s9dfJqRZxyts2QcQ5IJ4LC2JeCzBUMkXFqWSH+Bm5TqsRf9vp1pF0W8PHPNw==", "product_id"=>"5", "locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 78], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2022-07-22 10:13:09.096517"], ["id", 34]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (139.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 935)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2393)
  Rendered line_items/create.js.erb (Duration: 4.5ms | Allocations: 2577)
Completed 200 OK in 163ms (Views: 5.1ms | ActiveRecord: 141.2ms | Allocations: 10137)


Started GET "/es" for 127.0.0.1 at 2022-07-22 16:13:15 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2378)
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 0.8ms | Allocations: 10080)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:13:15 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:13:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:13:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:13:18 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.7ms | Allocations: 773)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3162)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2380)
Completed 200 OK in 21ms (Views: 14.8ms | ActiveRecord: 0.7ms | Allocations: 12777)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:13:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:13:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:13:18 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:14:07 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.7ms | Allocations: 766)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3111)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2379)
Completed 200 OK in 21ms (Views: 14.9ms | ActiveRecord: 0.6ms | Allocations: 12810)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:07 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:07 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/78" for 127.0.0.1 at 2022-07-22 16:14:16 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Lez4HVajlm5MwwcsHh2qBushT53/58skZ5mEyKhmHAFvnta4WcYVpZLhv6dUE6yI8OlHbAbNz7RXoatolQeiOA==", "id"=>"78"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 34]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 78]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[35m (124.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 165ms (ActiveRecord: 126.5ms | Allocations: 16104)


Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:16 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2022-07-22 10:14:16.931052"], ["updated_at", "2022-07-22 10:14:16.931052"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (127.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3198)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 153ms (Views: 12.9ms | ActiveRecord: 129.4ms | Allocations: 15075)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:17 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:21 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 984)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.7ms | Allocations: 9211)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:21 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:21 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:23 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 26ms (Views: 20.4ms | ActiveRecord: 1.1ms | Allocations: 7609)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:23 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:25 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.5ms | Allocations: 7601)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:25 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:25 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.7ms | Allocations: 7605)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:25 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:26 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 0.8ms | Allocations: 7601)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:26 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2022-07-22 16:14:30 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.6ms | Allocations: 7616)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:30 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:37 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.5ms | Allocations: 9205)


Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:38 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 0.5ms | Allocations: 7612)


Started GET "/" for 127.0.0.1 at 2022-07-22 16:14:39 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 983)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 16ms (Views: 10.8ms | ActiveRecord: 0.6ms | Allocations: 7613)


Started GET "/questions" for 127.0.0.1 at 2022-07-22 16:14:39 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"questions"}
questions translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 978)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.7ms | Allocations: 7649)


Started GET "/news" for 127.0.0.1 at 2022-07-22 16:14:42 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"news"}
news translation not available
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 978)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 26ms (Views: 21.4ms | ActiveRecord: 1.1ms | Allocations: 7644)


Started GET "/contact" for 127.0.0.1 at 2022-07-22 16:14:43 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"contact"}
contact translation not available
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 978)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.5ms | Allocations: 9244)


Started POST "/en/line_items?product_id=5" for 127.0.0.1 at 2022-07-22 16:14:44 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"rHEKV7uxGbO7kXKhX0KkTkCv0/7hNPzvybMxt5l5+xDNHAkvlML2FMasOtQP4ac2UMZAJCEMGwrwPtpORIH0IA==", "product_id"=>"5", "locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:28:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 79], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:4:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 79], ["created_at", "2022-07-22 10:14:44.852882"], ["updated_at", "2022-07-22 10:14:44.852882"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (103.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 148)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1745)
  Rendered line_items/create.js.erb (Duration: 3.3ms | Allocations: 1942)
Completed 200 OK in 125ms (Views: 3.9ms | ActiveRecord: 105.1ms | Allocations: 14609)


Started GET "/contact" for 127.0.0.1 at 2022-07-22 16:14:49 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"contact"}
contact translation not available
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 978)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 2390)
Completed 200 OK in 20ms (Views: 16.7ms | ActiveRecord: 0.9ms | Allocations: 10122)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:49 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:14:55 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.3ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3223)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2384)
Completed 200 OK in 29ms (Views: 15.7ms | ActiveRecord: 1.3ms | Allocations: 18750)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:14:55 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:55 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:14:55 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:17:13 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 766)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 3155)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 9.7ms | Allocations: 2379)
Completed 200 OK in 68ms (Views: 36.9ms | ActiveRecord: 0.9ms | Allocations: 12762)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:17:13 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:17:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:17:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:23:01 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1115)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.6ms | Allocations: 5956)
  Rendered carts/_cart.html.erb (Duration: 16.7ms | Allocations: 12626)
Completed 200 OK in 39ms (Views: 28.6ms | ActiveRecord: 2.5ms | Allocations: 28905)


Started GET "/" for 127.0.0.1 at 2022-07-22 16:23:03 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 984)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.4ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 10.0ms | Allocations: 2378)
Completed 200 OK in 37ms (Views: 31.5ms | ActiveRecord: 1.6ms | Allocations: 10075)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:23:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:23:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:23:44 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1115)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.5ms | Allocations: 5956)
  Rendered carts/_cart.html.erb (Duration: 18.9ms | Allocations: 12532)
Completed 200 OK in 45ms (Views: 33.5ms | ActiveRecord: 3.0ms | Allocations: 28737)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:23:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:23:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 16:24:16 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (4.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1086)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 2378)
Completed 200 OK in 37ms (Views: 32.1ms | ActiveRecord: 1.5ms | Allocations: 10135)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:16 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:24:16 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:24:20 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 833)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3156)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 30.0ms | Allocations: 7601)
  Rendered carts/_cart.html.erb (Duration: 54.3ms | Allocations: 14185)
Completed 200 OK in 143ms (Views: 81.1ms | ActiveRecord: 8.5ms | Allocations: 37551)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:24:20 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:20 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for 127.0.0.1 at 2022-07-22 16:24:27 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"+Qkh6HKYIyceb2oVX9OTT/3hrv5C7JEWo3QOhEKSXSy7ew9Nff2g7MBN0p4V3ZXB5immD7vGlYaTTCEkf/PjFQ==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"Purchase order", "po_number"=>""}, "commit"=>"Realizar Pedido"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameter: :po_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:40:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.4ms | Allocations: 1211)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3531)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.4ms | Allocations: 146)
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 841)
Completed 422 Unprocessable Entity in 24ms (Views: 12.4ms | ActiveRecord: 0.6ms | Allocations: 18212)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:24:27 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:27 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:27 +0600
ProductsChannel stopped streaming from products
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2022-07-22 16:24:32 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2379)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.2ms | Allocations: 7658)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:32 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:24:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:34 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:24:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:24:35 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.1ms | Allocations: 766)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 3155)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 2379)
Completed 200 OK in 23ms (Views: 19.8ms | ActiveRecord: 0.6ms | Allocations: 12750)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:35 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:24:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:24:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:33:07 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
I18n::InvalidLocaleData (can not load translations from /home/nascenia/mystuff/depot/config/locales/es.yml: #<Psych::SyntaxError: (<unknown>): did not find expected key while parsing a block mapping at line 45 column 3>):
  
i18n (1.11.0) lib/i18n/backend/base.rb:254:in `rescue in load_yml'
i18n (1.11.0) lib/i18n/backend/base.rb:246:in `load_yml'
i18n (1.11.0) lib/i18n/backend/base.rb:228:in `load_file'
i18n (1.11.0) lib/i18n/backend/base.rb:17:in `block in load_translations'
i18n (1.11.0) lib/i18n/backend/base.rb:16:in `each'
i18n (1.11.0) lib/i18n/backend/base.rb:16:in `load_translations'
i18n (1.11.0) lib/i18n/backend/simple.rb:77:in `init_translations'
i18n-js (3.9.2) lib/i18n/js.rb:179:in `block in translations'
i18n-js (3.9.2) lib/i18n/js.rb:178:in `instance_eval'
i18n-js (3.9.2) lib/i18n/js.rb:178:in `translations'
i18n-js (3.9.2) lib/i18n/js.rb:107:in `translation_segments'
i18n-js (3.9.2) lib/i18n/js.rb:48:in `export'
i18n-js (3.9.2) lib/i18n/js/middleware.rb:78:in `verify_locale_files!'
i18n-js (3.9.2) lib/i18n/js/middleware.rb:13:in `call'
rack (2.2.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
actionpack (6.0.5.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/cookies.rb:654:in `call'
activerecord (6.0.5.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
DEPRECATION WARNING: The config.web_console.whitelisted_ips is deprecated and will be ignored in future release of web_console. Please use config.web_console.allowed_ips instead. (called from <main> at /home/nascenia/mystuff/depot/config/environment.rb:5)
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:33:42 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
I18n::InvalidLocaleData (can not load translations from /home/nascenia/mystuff/depot/config/locales/es.yml: #<Psych::SyntaxError: (<unknown>): did not find expected key while parsing a block mapping at line 45 column 3>):
  
i18n (1.11.0) lib/i18n/backend/base.rb:254:in `rescue in load_yml'
i18n (1.11.0) lib/i18n/backend/base.rb:246:in `load_yml'
i18n (1.11.0) lib/i18n/backend/base.rb:228:in `load_file'
i18n (1.11.0) lib/i18n/backend/base.rb:17:in `block in load_translations'
i18n (1.11.0) lib/i18n/backend/base.rb:16:in `each'
i18n (1.11.0) lib/i18n/backend/base.rb:16:in `load_translations'
i18n (1.11.0) lib/i18n/backend/simple.rb:77:in `init_translations'
i18n-js (3.9.2) lib/i18n/js.rb:179:in `block in translations'
i18n-js (3.9.2) lib/i18n/js.rb:178:in `instance_eval'
i18n-js (3.9.2) lib/i18n/js.rb:178:in `translations'
i18n-js (3.9.2) lib/i18n/js.rb:107:in `translation_segments'
i18n-js (3.9.2) lib/i18n/js.rb:48:in `export'
i18n-js (3.9.2) lib/i18n/js/middleware.rb:78:in `verify_locale_files!'
i18n-js (3.9.2) lib/i18n/js/middleware.rb:13:in `call'
rack (2.2.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
actionpack (6.0.5.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/cookies.rb:654:in `call'
activerecord (6.0.5.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:34:14 +0600
  
I18n::InvalidLocaleData (can not load translations from /home/nascenia/mystuff/depot/config/locales/es.yml: #<Psych::SyntaxError: (<unknown>): did not find expected key while parsing a block mapping at line 48 column 3>):
  
i18n (1.11.0) lib/i18n/backend/base.rb:254:in `rescue in load_yml'
i18n (1.11.0) lib/i18n/backend/base.rb:246:in `load_yml'
i18n (1.11.0) lib/i18n/backend/base.rb:228:in `load_file'
i18n (1.11.0) lib/i18n/backend/base.rb:17:in `block in load_translations'
i18n (1.11.0) lib/i18n/backend/base.rb:16:in `each'
i18n (1.11.0) lib/i18n/backend/base.rb:16:in `load_translations'
i18n (1.11.0) lib/i18n/backend/simple.rb:77:in `init_translations'
i18n-js (3.9.2) lib/i18n/js.rb:179:in `block in translations'
i18n-js (3.9.2) lib/i18n/js.rb:178:in `instance_eval'
i18n-js (3.9.2) lib/i18n/js.rb:178:in `translations'
i18n-js (3.9.2) lib/i18n/js.rb:107:in `translation_segments'
i18n-js (3.9.2) lib/i18n/js.rb:48:in `export'
i18n-js (3.9.2) lib/i18n/js/middleware.rb:78:in `verify_locale_files!'
i18n-js (3.9.2) lib/i18n/js/middleware.rb:13:in `call'
rack (2.2.4) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
actionpack (6.0.5.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.4) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/cookies.rb:654:in `call'
activerecord (6.0.5.1) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.5.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.5.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.5.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.5.1) lib/action_dispatch/middleware/host_authorization.rb:103:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.7.2) lib/rack/proxy.rb:67:in `call'
railties (6.0.5.1) lib/rails/engine.rb:527:in `call'
puma (4.3.12) lib/puma/configuration.rb:228:in `call'
puma (4.3.12) lib/puma/server.rb:727:in `handle_request'
puma (4.3.12) lib/puma/server.rb:476:in `process_client'
puma (4.3.12) lib/puma/server.rb:332:in `block in run'
puma (4.3.12) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:40:16 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.8ms | Allocations: 1716)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4383)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 12.4ms | Allocations: 8780)
  Rendered carts/_cart.html.erb (Duration: 24.5ms | Allocations: 16222)
Completed 200 OK in 100ms (Views: 47.7ms | ActiveRecord: 16.6ms | Allocations: 51555)


Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:40:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:40:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2022-07-22 16:40:21 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.8ms | Allocations: 769)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 3158)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.9ms | Allocations: 937)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2380)
Completed 200 OK in 45ms (Views: 36.3ms | ActiveRecord: 1.4ms | Allocations: 12785)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:40:21 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2022-07-22 16:40:21 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 16:40:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2022-07-22 17:29:22 +0600
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "size", MAX("products"."updated_at") AS timestamp FROM "products"[0m
  ↳ app/views/store/index.html.erb:6
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (1.8ms)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:7
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/5-20220715153321750276 (0.2ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/4-20220715153321691924 (0.2ms)
Read fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.1ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/6-20220715153321814790 (0.2ms)
Write fragment views/store/index:8aa3a65baf978f9e3022ffdc2df01df1/products/query-472c5e944ebe4d9a8d77c3b8cccbda69-3-20220715153321814790 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 6472)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:26
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:9
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 977)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2456)
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 0.9ms | Allocations: 16249)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2022-07-22 17:55:03 +0600
ProductsChannel stopped streaming from products
